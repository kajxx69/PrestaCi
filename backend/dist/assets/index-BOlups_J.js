var _v=Object.defineProperty;var kv=(e,t,r)=>t in e?_v(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var hc=(e,t,r)=>kv(e,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function r(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=r(a);fetch(a.href,l)}})();var jv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Um(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Vm={exports:{}},ul={},Ym={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xa=Symbol.for("react.element"),Nv=Symbol.for("react.portal"),Sv=Symbol.for("react.fragment"),Cv=Symbol.for("react.strict_mode"),Pv=Symbol.for("react.profiler"),Mv=Symbol.for("react.provider"),Ev=Symbol.for("react.context"),Tv=Symbol.for("react.forward_ref"),Lv=Symbol.for("react.suspense"),Ov=Symbol.for("react.memo"),Dv=Symbol.for("react.lazy"),nf=Symbol.iterator;function zv(e){return e===null||typeof e!="object"?null:(e=nf&&e[nf]||e["@@iterator"],typeof e=="function"?e:null)}var qm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Gm=Object.assign,Jm={};function ii(e,t,r){this.props=e,this.context=t,this.refs=Jm,this.updater=r||qm}ii.prototype.isReactComponent={};ii.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ii.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Km(){}Km.prototype=ii.prototype;function Qd(e,t,r){this.props=e,this.context=t,this.refs=Jm,this.updater=r||qm}var Xd=Qd.prototype=new Km;Xd.constructor=Qd;Gm(Xd,ii.prototype);Xd.isPureReactComponent=!0;var sf=Array.isArray,Qm=Object.prototype.hasOwnProperty,eu={current:null},Xm={key:!0,ref:!0,__self:!0,__source:!0};function e0(e,t,r){var s,a={},l=null,d=null;if(t!=null)for(s in t.ref!==void 0&&(d=t.ref),t.key!==void 0&&(l=""+t.key),t)Qm.call(t,s)&&!Xm.hasOwnProperty(s)&&(a[s]=t[s]);var u=arguments.length-2;if(u===1)a.children=r;else if(1<u){for(var f=Array(u),m=0;m<u;m++)f[m]=arguments[m+2];a.children=f}if(e&&e.defaultProps)for(s in u=e.defaultProps,u)a[s]===void 0&&(a[s]=u[s]);return{$$typeof:xa,type:e,key:l,ref:d,props:a,_owner:eu.current}}function Iv(e,t){return{$$typeof:xa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function tu(e){return typeof e=="object"&&e!==null&&e.$$typeof===xa}function Rv(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var af=/\/+/g;function fc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Rv(""+e.key):t.toString(36)}function go(e,t,r,s,a){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var d=!1;if(e===null)d=!0;else switch(l){case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case xa:case Nv:d=!0}}if(d)return d=e,a=a(d),e=s===""?"."+fc(d,0):s,sf(a)?(r="",e!=null&&(r=e.replace(af,"$&/")+"/"),go(a,t,r,"",function(m){return m})):a!=null&&(tu(a)&&(a=Iv(a,r+(!a.key||d&&d.key===a.key?"":(""+a.key).replace(af,"$&/")+"/")+e)),t.push(a)),1;if(d=0,s=s===""?".":s+":",sf(e))for(var u=0;u<e.length;u++){l=e[u];var f=s+fc(l,u);d+=go(l,t,r,f,a)}else if(f=zv(e),typeof f=="function")for(e=f.call(e),u=0;!(l=e.next()).done;)l=l.value,f=s+fc(l,u++),d+=go(l,t,r,f,a);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return d}function Ga(e,t,r){if(e==null)return e;var s=[],a=0;return go(e,s,"","",function(l){return t.call(r,l,a++)}),s}function Av(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var St={current:null},xo={transition:null},Bv={ReactCurrentDispatcher:St,ReactCurrentBatchConfig:xo,ReactCurrentOwner:eu};function t0(){throw Error("act(...) is not supported in production builds of React.")}ve.Children={map:Ga,forEach:function(e,t,r){Ga(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ga(e,function(){t++}),t},toArray:function(e){return Ga(e,function(t){return t})||[]},only:function(e){if(!tu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ve.Component=ii;ve.Fragment=Sv;ve.Profiler=Pv;ve.PureComponent=Qd;ve.StrictMode=Cv;ve.Suspense=Lv;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bv;ve.act=t0;ve.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=Gm({},e.props),a=e.key,l=e.ref,d=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,d=eu.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(f in t)Qm.call(t,f)&&!Xm.hasOwnProperty(f)&&(s[f]=t[f]===void 0&&u!==void 0?u[f]:t[f])}var f=arguments.length-2;if(f===1)s.children=r;else if(1<f){u=Array(f);for(var m=0;m<f;m++)u[m]=arguments[m+2];s.children=u}return{$$typeof:xa,type:e.type,key:a,ref:l,props:s,_owner:d}};ve.createContext=function(e){return e={$$typeof:Ev,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Mv,_context:e},e.Consumer=e};ve.createElement=e0;ve.createFactory=function(e){var t=e0.bind(null,e);return t.type=e,t};ve.createRef=function(){return{current:null}};ve.forwardRef=function(e){return{$$typeof:Tv,render:e}};ve.isValidElement=tu;ve.lazy=function(e){return{$$typeof:Dv,_payload:{_status:-1,_result:e},_init:Av}};ve.memo=function(e,t){return{$$typeof:Ov,type:e,compare:t===void 0?null:t}};ve.startTransition=function(e){var t=xo.transition;xo.transition={};try{e()}finally{xo.transition=t}};ve.unstable_act=t0;ve.useCallback=function(e,t){return St.current.useCallback(e,t)};ve.useContext=function(e){return St.current.useContext(e)};ve.useDebugValue=function(){};ve.useDeferredValue=function(e){return St.current.useDeferredValue(e)};ve.useEffect=function(e,t){return St.current.useEffect(e,t)};ve.useId=function(){return St.current.useId()};ve.useImperativeHandle=function(e,t,r){return St.current.useImperativeHandle(e,t,r)};ve.useInsertionEffect=function(e,t){return St.current.useInsertionEffect(e,t)};ve.useLayoutEffect=function(e,t){return St.current.useLayoutEffect(e,t)};ve.useMemo=function(e,t){return St.current.useMemo(e,t)};ve.useReducer=function(e,t,r){return St.current.useReducer(e,t,r)};ve.useRef=function(e){return St.current.useRef(e)};ve.useState=function(e){return St.current.useState(e)};ve.useSyncExternalStore=function(e,t,r){return St.current.useSyncExternalStore(e,t,r)};ve.useTransition=function(){return St.current.useTransition()};ve.version="18.3.1";Ym.exports=ve;var w=Ym.exports;const ee=Um(w);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fv=w,Wv=Symbol.for("react.element"),$v=Symbol.for("react.fragment"),Zv=Object.prototype.hasOwnProperty,Hv=Fv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Uv={key:!0,ref:!0,__self:!0,__source:!0};function r0(e,t,r){var s,a={},l=null,d=null;r!==void 0&&(l=""+r),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(d=t.ref);for(s in t)Zv.call(t,s)&&!Uv.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:Wv,type:e,key:l,ref:d,props:a,_owner:Hv.current}}ul.Fragment=$v;ul.jsx=r0;ul.jsxs=r0;Vm.exports=ul;var i=Vm.exports,n0={exports:{}},$t={},s0={exports:{}},i0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(W,Q){var $=W.length;W.push(Q);e:for(;0<$;){var se=$-1>>>1,he=W[se];if(0<a(he,Q))W[se]=Q,W[$]=he,$=se;else break e}}function r(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var Q=W[0],$=W.pop();if($!==Q){W[0]=$;e:for(var se=0,he=W.length,Se=he>>>1;se<Se;){var I=2*(se+1)-1,X=W[I],z=I+1,U=W[z];if(0>a(X,$))z<he&&0>a(U,X)?(W[se]=U,W[z]=$,se=z):(W[se]=X,W[I]=$,se=I);else if(z<he&&0>a(U,$))W[se]=U,W[z]=$,se=z;else break e}}return Q}function a(W,Q){var $=W.sortIndex-Q.sortIndex;return $!==0?$:W.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var d=Date,u=d.now();e.unstable_now=function(){return d.now()-u}}var f=[],m=[],v=1,g=null,y=3,j=!1,S=!1,N=!1,C=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(W){for(var Q=r(m);Q!==null;){if(Q.callback===null)s(m);else if(Q.startTime<=W)s(m),Q.sortIndex=Q.expirationTime,t(f,Q);else break;Q=r(m)}}function E(W){if(N=!1,x(W),!S)if(r(f)!==null)S=!0,oe(O);else{var Q=r(m);Q!==null&&ye(E,Q.startTime-W)}}function O(W,Q){S=!1,N&&(N=!1,b(A),A=-1),j=!0;var $=y;try{for(x(Q),g=r(f);g!==null&&(!(g.expirationTime>Q)||W&&!q());){var se=g.callback;if(typeof se=="function"){g.callback=null,y=g.priorityLevel;var he=se(g.expirationTime<=Q);Q=e.unstable_now(),typeof he=="function"?g.callback=he:g===r(f)&&s(f),x(Q)}else s(f);g=r(f)}if(g!==null)var Se=!0;else{var I=r(m);I!==null&&ye(E,I.startTime-Q),Se=!1}return Se}finally{g=null,y=$,j=!1}}var M=!1,F=null,A=-1,Y=5,J=-1;function q(){return!(e.unstable_now()-J<Y)}function ie(){if(F!==null){var W=e.unstable_now();J=W;var Q=!0;try{Q=F(!0,W)}finally{Q?ke():(M=!1,F=null)}}else M=!1}var ke;if(typeof k=="function")ke=function(){k(ie)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,Z=pe.port2;pe.port1.onmessage=ie,ke=function(){Z.postMessage(null)}}else ke=function(){C(ie,0)};function oe(W){F=W,M||(M=!0,ke())}function ye(W,Q){A=C(function(){W(e.unstable_now())},Q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_continueExecution=function(){S||j||(S=!0,oe(O))},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return r(f)},e.unstable_next=function(W){switch(y){case 1:case 2:case 3:var Q=3;break;default:Q=y}var $=y;y=Q;try{return W()}finally{y=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(W,Q){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var $=y;y=W;try{return Q()}finally{y=$}},e.unstable_scheduleCallback=function(W,Q,$){var se=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?se+$:se):$=se,W){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=$+he,W={id:v++,callback:Q,priorityLevel:W,startTime:$,expirationTime:he,sortIndex:-1},$>se?(W.sortIndex=$,t(m,W),r(f)===null&&W===r(m)&&(N?(b(A),A=-1):N=!0,ye(E,$-se))):(W.sortIndex=he,t(f,W),S||j||(S=!0,oe(O))),W},e.unstable_shouldYield=q,e.unstable_wrapCallback=function(W){var Q=y;return function(){var $=y;y=Q;try{return W.apply(this,arguments)}finally{y=$}}}})(i0);s0.exports=i0;var Vv=s0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yv=w,Ft=Vv;function V(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a0=new Set,Ji={};function os(e,t){Js(e,t),Js(e+"Capture",t)}function Js(e,t){for(Ji[e]=t,e=0;e<t.length;e++)a0.add(t[e])}var Qr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qc=Object.prototype.hasOwnProperty,qv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,of={},lf={};function Gv(e){return Qc.call(lf,e)?!0:Qc.call(of,e)?!1:qv.test(e)?lf[e]=!0:(of[e]=!0,!1)}function Jv(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Kv(e,t,r,s){if(t===null||typeof t>"u"||Jv(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ct(e,t,r,s,a,l,d){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=d}var gt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){gt[e]=new Ct(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];gt[t]=new Ct(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){gt[e]=new Ct(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){gt[e]=new Ct(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){gt[e]=new Ct(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){gt[e]=new Ct(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){gt[e]=new Ct(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){gt[e]=new Ct(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){gt[e]=new Ct(e,5,!1,e.toLowerCase(),null,!1,!1)});var ru=/[\-:]([a-z])/g;function nu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ru,nu);gt[t]=new Ct(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ru,nu);gt[t]=new Ct(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ru,nu);gt[t]=new Ct(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){gt[e]=new Ct(e,1,!1,e.toLowerCase(),null,!1,!1)});gt.xlinkHref=new Ct("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){gt[e]=new Ct(e,1,!1,e.toLowerCase(),null,!0,!0)});function su(e,t,r,s){var a=gt.hasOwnProperty(t)?gt[t]:null;(a!==null?a.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Kv(t,r,a,s)&&(r=null),s||a===null?Gv(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,s=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var nn=Yv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ja=Symbol.for("react.element"),Ms=Symbol.for("react.portal"),Es=Symbol.for("react.fragment"),iu=Symbol.for("react.strict_mode"),Xc=Symbol.for("react.profiler"),o0=Symbol.for("react.provider"),l0=Symbol.for("react.context"),au=Symbol.for("react.forward_ref"),ed=Symbol.for("react.suspense"),td=Symbol.for("react.suspense_list"),ou=Symbol.for("react.memo"),dn=Symbol.for("react.lazy"),c0=Symbol.for("react.offscreen"),cf=Symbol.iterator;function Si(e){return e===null||typeof e!="object"?null:(e=cf&&e[cf]||e["@@iterator"],typeof e=="function"?e:null)}var Ve=Object.assign,mc;function zi(e){if(mc===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);mc=t&&t[1]||""}return`
`+mc+e}var pc=!1;function gc(e,t){if(!e||pc)return"";pc=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(m){var s=m}Reflect.construct(e,[],t)}else{try{t.call()}catch(m){s=m}e.call(t.prototype)}else{try{throw Error()}catch(m){s=m}e()}}catch(m){if(m&&s&&typeof m.stack=="string"){for(var a=m.stack.split(`
`),l=s.stack.split(`
`),d=a.length-1,u=l.length-1;1<=d&&0<=u&&a[d]!==l[u];)u--;for(;1<=d&&0<=u;d--,u--)if(a[d]!==l[u]){if(d!==1||u!==1)do if(d--,u--,0>u||a[d]!==l[u]){var f=`
`+a[d].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}while(1<=d&&0<=u);break}}}finally{pc=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?zi(e):""}function Qv(e){switch(e.tag){case 5:return zi(e.type);case 16:return zi("Lazy");case 13:return zi("Suspense");case 19:return zi("SuspenseList");case 0:case 2:case 15:return e=gc(e.type,!1),e;case 11:return e=gc(e.type.render,!1),e;case 1:return e=gc(e.type,!0),e;default:return""}}function rd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Es:return"Fragment";case Ms:return"Portal";case Xc:return"Profiler";case iu:return"StrictMode";case ed:return"Suspense";case td:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case l0:return(e.displayName||"Context")+".Consumer";case o0:return(e._context.displayName||"Context")+".Provider";case au:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ou:return t=e.displayName||null,t!==null?t:rd(e.type)||"Memo";case dn:t=e._payload,e=e._init;try{return rd(e(t))}catch{}}return null}function Xv(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return rd(t);case 8:return t===iu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Cn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function d0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ey(e){var t=d0(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,l=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(d){s=""+d,l.call(this,d)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(d){s=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ka(e){e._valueTracker||(e._valueTracker=ey(e))}function u0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=d0(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function Oo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function nd(e,t){var r=t.checked;return Ve({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function df(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=Cn(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function h0(e,t){t=t.checked,t!=null&&su(e,"checked",t,!1)}function sd(e,t){h0(e,t);var r=Cn(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?id(e,t.type,r):t.hasOwnProperty("defaultValue")&&id(e,t.type,Cn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function uf(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function id(e,t,r){(t!=="number"||Oo(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ii=Array.isArray;function $s(e,t,r,s){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&s&&(e[r].defaultSelected=!0)}else{for(r=""+Cn(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,s&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function ad(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(V(91));return Ve({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hf(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(V(92));if(Ii(r)){if(1<r.length)throw Error(V(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Cn(r)}}function f0(e,t){var r=Cn(t.value),s=Cn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function ff(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function m0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function od(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?m0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Qa,p0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Qa=Qa||document.createElement("div"),Qa.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Qa.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ki(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Wi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ty=["Webkit","ms","Moz","O"];Object.keys(Wi).forEach(function(e){ty.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Wi[t]=Wi[e]})});function g0(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Wi.hasOwnProperty(e)&&Wi[e]?(""+t).trim():t+"px"}function x0(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,a=g0(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,a):e[r]=a}}var ry=Ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ld(e,t){if(t){if(ry[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(V(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(V(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(V(61))}if(t.style!=null&&typeof t.style!="object")throw Error(V(62))}}function cd(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dd=null;function lu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ud=null,Zs=null,Hs=null;function mf(e){if(e=ba(e)){if(typeof ud!="function")throw Error(V(280));var t=e.stateNode;t&&(t=gl(t),ud(e.stateNode,e.type,t))}}function v0(e){Zs?Hs?Hs.push(e):Hs=[e]:Zs=e}function y0(){if(Zs){var e=Zs,t=Hs;if(Hs=Zs=null,mf(e),t)for(e=0;e<t.length;e++)mf(t[e])}}function b0(e,t){return e(t)}function w0(){}var xc=!1;function _0(e,t,r){if(xc)return e(t,r);xc=!0;try{return b0(e,t,r)}finally{xc=!1,(Zs!==null||Hs!==null)&&(w0(),y0())}}function Qi(e,t){var r=e.stateNode;if(r===null)return null;var s=gl(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(V(231,t,typeof r));return r}var hd=!1;if(Qr)try{var Ci={};Object.defineProperty(Ci,"passive",{get:function(){hd=!0}}),window.addEventListener("test",Ci,Ci),window.removeEventListener("test",Ci,Ci)}catch{hd=!1}function ny(e,t,r,s,a,l,d,u,f){var m=Array.prototype.slice.call(arguments,3);try{t.apply(r,m)}catch(v){this.onError(v)}}var $i=!1,Do=null,zo=!1,fd=null,sy={onError:function(e){$i=!0,Do=e}};function iy(e,t,r,s,a,l,d,u,f){$i=!1,Do=null,ny.apply(sy,arguments)}function ay(e,t,r,s,a,l,d,u,f){if(iy.apply(this,arguments),$i){if($i){var m=Do;$i=!1,Do=null}else throw Error(V(198));zo||(zo=!0,fd=m)}}function ls(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function k0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function pf(e){if(ls(e)!==e)throw Error(V(188))}function oy(e){var t=e.alternate;if(!t){if(t=ls(e),t===null)throw Error(V(188));return t!==e?null:e}for(var r=e,s=t;;){var a=r.return;if(a===null)break;var l=a.alternate;if(l===null){if(s=a.return,s!==null){r=s;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===r)return pf(a),e;if(l===s)return pf(a),t;l=l.sibling}throw Error(V(188))}if(r.return!==s.return)r=a,s=l;else{for(var d=!1,u=a.child;u;){if(u===r){d=!0,r=a,s=l;break}if(u===s){d=!0,s=a,r=l;break}u=u.sibling}if(!d){for(u=l.child;u;){if(u===r){d=!0,r=l,s=a;break}if(u===s){d=!0,s=l,r=a;break}u=u.sibling}if(!d)throw Error(V(189))}}if(r.alternate!==s)throw Error(V(190))}if(r.tag!==3)throw Error(V(188));return r.stateNode.current===r?e:t}function j0(e){return e=oy(e),e!==null?N0(e):null}function N0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=N0(e);if(t!==null)return t;e=e.sibling}return null}var S0=Ft.unstable_scheduleCallback,gf=Ft.unstable_cancelCallback,ly=Ft.unstable_shouldYield,cy=Ft.unstable_requestPaint,Ke=Ft.unstable_now,dy=Ft.unstable_getCurrentPriorityLevel,cu=Ft.unstable_ImmediatePriority,C0=Ft.unstable_UserBlockingPriority,Io=Ft.unstable_NormalPriority,uy=Ft.unstable_LowPriority,P0=Ft.unstable_IdlePriority,hl=null,Lr=null;function hy(e){if(Lr&&typeof Lr.onCommitFiberRoot=="function")try{Lr.onCommitFiberRoot(hl,e,void 0,(e.current.flags&128)===128)}catch{}}var mr=Math.clz32?Math.clz32:py,fy=Math.log,my=Math.LN2;function py(e){return e>>>=0,e===0?32:31-(fy(e)/my|0)|0}var Xa=64,eo=4194304;function Ri(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ro(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,a=e.suspendedLanes,l=e.pingedLanes,d=r&268435455;if(d!==0){var u=d&~a;u!==0?s=Ri(u):(l&=d,l!==0&&(s=Ri(l)))}else d=r&~a,d!==0?s=Ri(d):l!==0&&(s=Ri(l));if(s===0)return 0;if(t!==0&&t!==s&&!(t&a)&&(a=s&-s,l=t&-t,a>=l||a===16&&(l&4194240)!==0))return t;if(s&4&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-mr(t),a=1<<r,s|=e[r],t&=~a;return s}function gy(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xy(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,l=e.pendingLanes;0<l;){var d=31-mr(l),u=1<<d,f=a[d];f===-1?(!(u&r)||u&s)&&(a[d]=gy(u,t)):f<=t&&(e.expiredLanes|=u),l&=~u}}function md(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function M0(){var e=Xa;return Xa<<=1,!(Xa&4194240)&&(Xa=64),e}function vc(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function va(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-mr(t),e[t]=r}function vy(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-mr(r),l=1<<a;t[a]=0,s[a]=-1,e[a]=-1,r&=~l}}function du(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-mr(r),a=1<<s;a&t|e[s]&t&&(e[s]|=t),r&=~a}}var Te=0;function E0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var T0,uu,L0,O0,D0,pd=!1,to=[],vn=null,yn=null,bn=null,Xi=new Map,ea=new Map,hn=[],yy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xf(e,t){switch(e){case"focusin":case"focusout":vn=null;break;case"dragenter":case"dragleave":yn=null;break;case"mouseover":case"mouseout":bn=null;break;case"pointerover":case"pointerout":Xi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ea.delete(t.pointerId)}}function Pi(e,t,r,s,a,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:l,targetContainers:[a]},t!==null&&(t=ba(t),t!==null&&uu(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function by(e,t,r,s,a){switch(t){case"focusin":return vn=Pi(vn,e,t,r,s,a),!0;case"dragenter":return yn=Pi(yn,e,t,r,s,a),!0;case"mouseover":return bn=Pi(bn,e,t,r,s,a),!0;case"pointerover":var l=a.pointerId;return Xi.set(l,Pi(Xi.get(l)||null,e,t,r,s,a)),!0;case"gotpointercapture":return l=a.pointerId,ea.set(l,Pi(ea.get(l)||null,e,t,r,s,a)),!0}return!1}function z0(e){var t=qn(e.target);if(t!==null){var r=ls(t);if(r!==null){if(t=r.tag,t===13){if(t=k0(r),t!==null){e.blockedOn=t,D0(e.priority,function(){L0(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=gd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);dd=s,r.target.dispatchEvent(s),dd=null}else return t=ba(r),t!==null&&uu(t),e.blockedOn=r,!1;t.shift()}return!0}function vf(e,t,r){vo(e)&&r.delete(t)}function wy(){pd=!1,vn!==null&&vo(vn)&&(vn=null),yn!==null&&vo(yn)&&(yn=null),bn!==null&&vo(bn)&&(bn=null),Xi.forEach(vf),ea.forEach(vf)}function Mi(e,t){e.blockedOn===t&&(e.blockedOn=null,pd||(pd=!0,Ft.unstable_scheduleCallback(Ft.unstable_NormalPriority,wy)))}function ta(e){function t(a){return Mi(a,e)}if(0<to.length){Mi(to[0],e);for(var r=1;r<to.length;r++){var s=to[r];s.blockedOn===e&&(s.blockedOn=null)}}for(vn!==null&&Mi(vn,e),yn!==null&&Mi(yn,e),bn!==null&&Mi(bn,e),Xi.forEach(t),ea.forEach(t),r=0;r<hn.length;r++)s=hn[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<hn.length&&(r=hn[0],r.blockedOn===null);)z0(r),r.blockedOn===null&&hn.shift()}var Us=nn.ReactCurrentBatchConfig,Ao=!0;function _y(e,t,r,s){var a=Te,l=Us.transition;Us.transition=null;try{Te=1,hu(e,t,r,s)}finally{Te=a,Us.transition=l}}function ky(e,t,r,s){var a=Te,l=Us.transition;Us.transition=null;try{Te=4,hu(e,t,r,s)}finally{Te=a,Us.transition=l}}function hu(e,t,r,s){if(Ao){var a=gd(e,t,r,s);if(a===null)Pc(e,t,s,Bo,r),xf(e,s);else if(by(a,e,t,r,s))s.stopPropagation();else if(xf(e,s),t&4&&-1<yy.indexOf(e)){for(;a!==null;){var l=ba(a);if(l!==null&&T0(l),l=gd(e,t,r,s),l===null&&Pc(e,t,s,Bo,r),l===a)break;a=l}a!==null&&s.stopPropagation()}else Pc(e,t,s,null,r)}}var Bo=null;function gd(e,t,r,s){if(Bo=null,e=lu(s),e=qn(e),e!==null)if(t=ls(e),t===null)e=null;else if(r=t.tag,r===13){if(e=k0(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Bo=e,null}function I0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dy()){case cu:return 1;case C0:return 4;case Io:case uy:return 16;case P0:return 536870912;default:return 16}default:return 16}}var mn=null,fu=null,yo=null;function R0(){if(yo)return yo;var e,t=fu,r=t.length,s,a="value"in mn?mn.value:mn.textContent,l=a.length;for(e=0;e<r&&t[e]===a[e];e++);var d=r-e;for(s=1;s<=d&&t[r-s]===a[l-s];s++);return yo=a.slice(e,1<s?1-s:void 0)}function bo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ro(){return!0}function yf(){return!1}function Zt(e){function t(r,s,a,l,d){this._reactName=r,this._targetInst=a,this.type=s,this.nativeEvent=l,this.target=d,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(r=e[u],this[u]=r?r(l):l[u]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?ro:yf,this.isPropagationStopped=yf,this}return Ve(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ro)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ro)},persist:function(){},isPersistent:ro}),t}var ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mu=Zt(ai),ya=Ve({},ai,{view:0,detail:0}),jy=Zt(ya),yc,bc,Ei,fl=Ve({},ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ei&&(Ei&&e.type==="mousemove"?(yc=e.screenX-Ei.screenX,bc=e.screenY-Ei.screenY):bc=yc=0,Ei=e),yc)},movementY:function(e){return"movementY"in e?e.movementY:bc}}),bf=Zt(fl),Ny=Ve({},fl,{dataTransfer:0}),Sy=Zt(Ny),Cy=Ve({},ya,{relatedTarget:0}),wc=Zt(Cy),Py=Ve({},ai,{animationName:0,elapsedTime:0,pseudoElement:0}),My=Zt(Py),Ey=Ve({},ai,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ty=Zt(Ey),Ly=Ve({},ai,{data:0}),wf=Zt(Ly),Oy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Iy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=zy[e])?!!t[e]:!1}function pu(){return Iy}var Ry=Ve({},ya,{key:function(e){if(e.key){var t=Oy[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=bo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Dy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pu,charCode:function(e){return e.type==="keypress"?bo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?bo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ay=Zt(Ry),By=Ve({},fl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_f=Zt(By),Fy=Ve({},ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pu}),Wy=Zt(Fy),$y=Ve({},ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zy=Zt($y),Hy=Ve({},fl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Uy=Zt(Hy),Vy=[9,13,27,32],gu=Qr&&"CompositionEvent"in window,Zi=null;Qr&&"documentMode"in document&&(Zi=document.documentMode);var Yy=Qr&&"TextEvent"in window&&!Zi,A0=Qr&&(!gu||Zi&&8<Zi&&11>=Zi),kf=" ",jf=!1;function B0(e,t){switch(e){case"keyup":return Vy.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function F0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ts=!1;function qy(e,t){switch(e){case"compositionend":return F0(t);case"keypress":return t.which!==32?null:(jf=!0,kf);case"textInput":return e=t.data,e===kf&&jf?null:e;default:return null}}function Gy(e,t){if(Ts)return e==="compositionend"||!gu&&B0(e,t)?(e=R0(),yo=fu=mn=null,Ts=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return A0&&t.locale!=="ko"?null:t.data;default:return null}}var Jy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Jy[e.type]:t==="textarea"}function W0(e,t,r,s){v0(s),t=Fo(t,"onChange"),0<t.length&&(r=new mu("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var Hi=null,ra=null;function Ky(e){Q0(e,0)}function ml(e){var t=Ds(e);if(u0(t))return e}function Qy(e,t){if(e==="change")return t}var $0=!1;if(Qr){var _c;if(Qr){var kc="oninput"in document;if(!kc){var Sf=document.createElement("div");Sf.setAttribute("oninput","return;"),kc=typeof Sf.oninput=="function"}_c=kc}else _c=!1;$0=_c&&(!document.documentMode||9<document.documentMode)}function Cf(){Hi&&(Hi.detachEvent("onpropertychange",Z0),ra=Hi=null)}function Z0(e){if(e.propertyName==="value"&&ml(ra)){var t=[];W0(t,ra,e,lu(e)),_0(Ky,t)}}function Xy(e,t,r){e==="focusin"?(Cf(),Hi=t,ra=r,Hi.attachEvent("onpropertychange",Z0)):e==="focusout"&&Cf()}function eb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ml(ra)}function tb(e,t){if(e==="click")return ml(t)}function rb(e,t){if(e==="input"||e==="change")return ml(t)}function nb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gr=typeof Object.is=="function"?Object.is:nb;function na(e,t){if(gr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var a=r[s];if(!Qc.call(t,a)||!gr(e[a],t[a]))return!1}return!0}function Pf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Mf(e,t){var r=Pf(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Pf(r)}}function H0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?H0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function U0(){for(var e=window,t=Oo();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Oo(e.document)}return t}function xu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function sb(e){var t=U0(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&H0(r.ownerDocument.documentElement,r)){if(s!==null&&xu(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,l=Math.min(s.start,a);s=s.end===void 0?l:Math.min(s.end,a),!e.extend&&l>s&&(a=s,s=l,l=a),a=Mf(r,l);var d=Mf(r,s);a&&d&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==d.node||e.focusOffset!==d.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),l>s?(e.addRange(t),e.extend(d.node,d.offset)):(t.setEnd(d.node,d.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ib=Qr&&"documentMode"in document&&11>=document.documentMode,Ls=null,xd=null,Ui=null,vd=!1;function Ef(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;vd||Ls==null||Ls!==Oo(s)||(s=Ls,"selectionStart"in s&&xu(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Ui&&na(Ui,s)||(Ui=s,s=Fo(xd,"onSelect"),0<s.length&&(t=new mu("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=Ls)))}function no(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Os={animationend:no("Animation","AnimationEnd"),animationiteration:no("Animation","AnimationIteration"),animationstart:no("Animation","AnimationStart"),transitionend:no("Transition","TransitionEnd")},jc={},V0={};Qr&&(V0=document.createElement("div").style,"AnimationEvent"in window||(delete Os.animationend.animation,delete Os.animationiteration.animation,delete Os.animationstart.animation),"TransitionEvent"in window||delete Os.transitionend.transition);function pl(e){if(jc[e])return jc[e];if(!Os[e])return e;var t=Os[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in V0)return jc[e]=t[r];return e}var Y0=pl("animationend"),q0=pl("animationiteration"),G0=pl("animationstart"),J0=pl("transitionend"),K0=new Map,Tf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mn(e,t){K0.set(e,t),os(t,[e])}for(var Nc=0;Nc<Tf.length;Nc++){var Sc=Tf[Nc],ab=Sc.toLowerCase(),ob=Sc[0].toUpperCase()+Sc.slice(1);Mn(ab,"on"+ob)}Mn(Y0,"onAnimationEnd");Mn(q0,"onAnimationIteration");Mn(G0,"onAnimationStart");Mn("dblclick","onDoubleClick");Mn("focusin","onFocus");Mn("focusout","onBlur");Mn(J0,"onTransitionEnd");Js("onMouseEnter",["mouseout","mouseover"]);Js("onMouseLeave",["mouseout","mouseover"]);Js("onPointerEnter",["pointerout","pointerover"]);Js("onPointerLeave",["pointerout","pointerover"]);os("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));os("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));os("onBeforeInput",["compositionend","keypress","textInput","paste"]);os("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));os("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));os("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ai="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lb=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ai));function Lf(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,ay(s,t,void 0,e),e.currentTarget=null}function Q0(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],a=s.event;s=s.listeners;e:{var l=void 0;if(t)for(var d=s.length-1;0<=d;d--){var u=s[d],f=u.instance,m=u.currentTarget;if(u=u.listener,f!==l&&a.isPropagationStopped())break e;Lf(a,u,m),l=f}else for(d=0;d<s.length;d++){if(u=s[d],f=u.instance,m=u.currentTarget,u=u.listener,f!==l&&a.isPropagationStopped())break e;Lf(a,u,m),l=f}}}if(zo)throw e=fd,zo=!1,fd=null,e}function Ae(e,t){var r=t[kd];r===void 0&&(r=t[kd]=new Set);var s=e+"__bubble";r.has(s)||(X0(t,e,2,!1),r.add(s))}function Cc(e,t,r){var s=0;t&&(s|=4),X0(r,e,s,t)}var so="_reactListening"+Math.random().toString(36).slice(2);function sa(e){if(!e[so]){e[so]=!0,a0.forEach(function(r){r!=="selectionchange"&&(lb.has(r)||Cc(r,!1,e),Cc(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[so]||(t[so]=!0,Cc("selectionchange",!1,t))}}function X0(e,t,r,s){switch(I0(t)){case 1:var a=_y;break;case 4:a=ky;break;default:a=hu}r=a.bind(null,t,r,e),a=void 0,!hd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),s?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Pc(e,t,r,s,a){var l=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var d=s.tag;if(d===3||d===4){var u=s.stateNode.containerInfo;if(u===a||u.nodeType===8&&u.parentNode===a)break;if(d===4)for(d=s.return;d!==null;){var f=d.tag;if((f===3||f===4)&&(f=d.stateNode.containerInfo,f===a||f.nodeType===8&&f.parentNode===a))return;d=d.return}for(;u!==null;){if(d=qn(u),d===null)return;if(f=d.tag,f===5||f===6){s=l=d;continue e}u=u.parentNode}}s=s.return}_0(function(){var m=l,v=lu(r),g=[];e:{var y=K0.get(e);if(y!==void 0){var j=mu,S=e;switch(e){case"keypress":if(bo(r)===0)break e;case"keydown":case"keyup":j=Ay;break;case"focusin":S="focus",j=wc;break;case"focusout":S="blur",j=wc;break;case"beforeblur":case"afterblur":j=wc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=bf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=Sy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=Wy;break;case Y0:case q0:case G0:j=My;break;case J0:j=Zy;break;case"scroll":j=jy;break;case"wheel":j=Uy;break;case"copy":case"cut":case"paste":j=Ty;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=_f}var N=(t&4)!==0,C=!N&&e==="scroll",b=N?y!==null?y+"Capture":null:y;N=[];for(var k=m,x;k!==null;){x=k;var E=x.stateNode;if(x.tag===5&&E!==null&&(x=E,b!==null&&(E=Qi(k,b),E!=null&&N.push(ia(k,E,x)))),C)break;k=k.return}0<N.length&&(y=new j(y,S,null,r,v),g.push({event:y,listeners:N}))}}if(!(t&7)){e:{if(y=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",y&&r!==dd&&(S=r.relatedTarget||r.fromElement)&&(qn(S)||S[Xr]))break e;if((j||y)&&(y=v.window===v?v:(y=v.ownerDocument)?y.defaultView||y.parentWindow:window,j?(S=r.relatedTarget||r.toElement,j=m,S=S?qn(S):null,S!==null&&(C=ls(S),S!==C||S.tag!==5&&S.tag!==6)&&(S=null)):(j=null,S=m),j!==S)){if(N=bf,E="onMouseLeave",b="onMouseEnter",k="mouse",(e==="pointerout"||e==="pointerover")&&(N=_f,E="onPointerLeave",b="onPointerEnter",k="pointer"),C=j==null?y:Ds(j),x=S==null?y:Ds(S),y=new N(E,k+"leave",j,r,v),y.target=C,y.relatedTarget=x,E=null,qn(v)===m&&(N=new N(b,k+"enter",S,r,v),N.target=x,N.relatedTarget=C,E=N),C=E,j&&S)t:{for(N=j,b=S,k=0,x=N;x;x=Ns(x))k++;for(x=0,E=b;E;E=Ns(E))x++;for(;0<k-x;)N=Ns(N),k--;for(;0<x-k;)b=Ns(b),x--;for(;k--;){if(N===b||b!==null&&N===b.alternate)break t;N=Ns(N),b=Ns(b)}N=null}else N=null;j!==null&&Of(g,y,j,N,!1),S!==null&&C!==null&&Of(g,C,S,N,!0)}}e:{if(y=m?Ds(m):window,j=y.nodeName&&y.nodeName.toLowerCase(),j==="select"||j==="input"&&y.type==="file")var O=Qy;else if(Nf(y))if($0)O=rb;else{O=eb;var M=Xy}else(j=y.nodeName)&&j.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(O=tb);if(O&&(O=O(e,m))){W0(g,O,r,v);break e}M&&M(e,y,m),e==="focusout"&&(M=y._wrapperState)&&M.controlled&&y.type==="number"&&id(y,"number",y.value)}switch(M=m?Ds(m):window,e){case"focusin":(Nf(M)||M.contentEditable==="true")&&(Ls=M,xd=m,Ui=null);break;case"focusout":Ui=xd=Ls=null;break;case"mousedown":vd=!0;break;case"contextmenu":case"mouseup":case"dragend":vd=!1,Ef(g,r,v);break;case"selectionchange":if(ib)break;case"keydown":case"keyup":Ef(g,r,v)}var F;if(gu)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Ts?B0(e,r)&&(A="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(A0&&r.locale!=="ko"&&(Ts||A!=="onCompositionStart"?A==="onCompositionEnd"&&Ts&&(F=R0()):(mn=v,fu="value"in mn?mn.value:mn.textContent,Ts=!0)),M=Fo(m,A),0<M.length&&(A=new wf(A,e,null,r,v),g.push({event:A,listeners:M}),F?A.data=F:(F=F0(r),F!==null&&(A.data=F)))),(F=Yy?qy(e,r):Gy(e,r))&&(m=Fo(m,"onBeforeInput"),0<m.length&&(v=new wf("onBeforeInput","beforeinput",null,r,v),g.push({event:v,listeners:m}),v.data=F))}Q0(g,t)})}function ia(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Fo(e,t){for(var r=t+"Capture",s=[];e!==null;){var a=e,l=a.stateNode;a.tag===5&&l!==null&&(a=l,l=Qi(e,r),l!=null&&s.unshift(ia(e,l,a)),l=Qi(e,t),l!=null&&s.push(ia(e,l,a))),e=e.return}return s}function Ns(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Of(e,t,r,s,a){for(var l=t._reactName,d=[];r!==null&&r!==s;){var u=r,f=u.alternate,m=u.stateNode;if(f!==null&&f===s)break;u.tag===5&&m!==null&&(u=m,a?(f=Qi(r,l),f!=null&&d.unshift(ia(r,f,u))):a||(f=Qi(r,l),f!=null&&d.push(ia(r,f,u)))),r=r.return}d.length!==0&&e.push({event:t,listeners:d})}var cb=/\r\n?/g,db=/\u0000|\uFFFD/g;function Df(e){return(typeof e=="string"?e:""+e).replace(cb,`
`).replace(db,"")}function io(e,t,r){if(t=Df(t),Df(e)!==t&&r)throw Error(V(425))}function Wo(){}var yd=null,bd=null;function wd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var _d=typeof setTimeout=="function"?setTimeout:void 0,ub=typeof clearTimeout=="function"?clearTimeout:void 0,zf=typeof Promise=="function"?Promise:void 0,hb=typeof queueMicrotask=="function"?queueMicrotask:typeof zf<"u"?function(e){return zf.resolve(null).then(e).catch(fb)}:_d;function fb(e){setTimeout(function(){throw e})}function Mc(e,t){var r=t,s=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(s===0){e.removeChild(a),ta(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=a}while(r);ta(t)}function wn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function If(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var oi=Math.random().toString(36).slice(2),Pr="__reactFiber$"+oi,aa="__reactProps$"+oi,Xr="__reactContainer$"+oi,kd="__reactEvents$"+oi,mb="__reactListeners$"+oi,pb="__reactHandles$"+oi;function qn(e){var t=e[Pr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Xr]||r[Pr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=If(e);e!==null;){if(r=e[Pr])return r;e=If(e)}return t}e=r,r=e.parentNode}return null}function ba(e){return e=e[Pr]||e[Xr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ds(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(V(33))}function gl(e){return e[aa]||null}var jd=[],zs=-1;function En(e){return{current:e}}function Be(e){0>zs||(e.current=jd[zs],jd[zs]=null,zs--)}function Ie(e,t){zs++,jd[zs]=e.current,e.current=t}var Pn={},bt=En(Pn),Lt=En(!1),es=Pn;function Ks(e,t){var r=e.type.contextTypes;if(!r)return Pn;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var a={},l;for(l in r)a[l]=t[l];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ot(e){return e=e.childContextTypes,e!=null}function $o(){Be(Lt),Be(bt)}function Rf(e,t,r){if(bt.current!==Pn)throw Error(V(168));Ie(bt,t),Ie(Lt,r)}function ep(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var a in s)if(!(a in t))throw Error(V(108,Xv(e)||"Unknown",a));return Ve({},r,s)}function Zo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Pn,es=bt.current,Ie(bt,e),Ie(Lt,Lt.current),!0}function Af(e,t,r){var s=e.stateNode;if(!s)throw Error(V(169));r?(e=ep(e,t,es),s.__reactInternalMemoizedMergedChildContext=e,Be(Lt),Be(bt),Ie(bt,e)):Be(Lt),Ie(Lt,r)}var Hr=null,xl=!1,Ec=!1;function tp(e){Hr===null?Hr=[e]:Hr.push(e)}function gb(e){xl=!0,tp(e)}function Tn(){if(!Ec&&Hr!==null){Ec=!0;var e=0,t=Te;try{var r=Hr;for(Te=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}Hr=null,xl=!1}catch(a){throw Hr!==null&&(Hr=Hr.slice(e+1)),S0(cu,Tn),a}finally{Te=t,Ec=!1}}return null}var Is=[],Rs=0,Ho=null,Uo=0,Jt=[],Kt=0,ts=null,Ur=1,Vr="";function Hn(e,t){Is[Rs++]=Uo,Is[Rs++]=Ho,Ho=e,Uo=t}function rp(e,t,r){Jt[Kt++]=Ur,Jt[Kt++]=Vr,Jt[Kt++]=ts,ts=e;var s=Ur;e=Vr;var a=32-mr(s)-1;s&=~(1<<a),r+=1;var l=32-mr(t)+a;if(30<l){var d=a-a%5;l=(s&(1<<d)-1).toString(32),s>>=d,a-=d,Ur=1<<32-mr(t)+a|r<<a|s,Vr=l+e}else Ur=1<<l|r<<a|s,Vr=e}function vu(e){e.return!==null&&(Hn(e,1),rp(e,1,0))}function yu(e){for(;e===Ho;)Ho=Is[--Rs],Is[Rs]=null,Uo=Is[--Rs],Is[Rs]=null;for(;e===ts;)ts=Jt[--Kt],Jt[Kt]=null,Vr=Jt[--Kt],Jt[Kt]=null,Ur=Jt[--Kt],Jt[Kt]=null}var Bt=null,At=null,Fe=!1,hr=null;function np(e,t){var r=Qt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Bf(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Bt=e,At=wn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Bt=e,At=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ts!==null?{id:Ur,overflow:Vr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Qt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Bt=e,At=null,!0):!1;default:return!1}}function Nd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Sd(e){if(Fe){var t=At;if(t){var r=t;if(!Bf(e,t)){if(Nd(e))throw Error(V(418));t=wn(r.nextSibling);var s=Bt;t&&Bf(e,t)?np(s,r):(e.flags=e.flags&-4097|2,Fe=!1,Bt=e)}}else{if(Nd(e))throw Error(V(418));e.flags=e.flags&-4097|2,Fe=!1,Bt=e}}}function Ff(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Bt=e}function ao(e){if(e!==Bt)return!1;if(!Fe)return Ff(e),Fe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!wd(e.type,e.memoizedProps)),t&&(t=At)){if(Nd(e))throw sp(),Error(V(418));for(;t;)np(e,t),t=wn(t.nextSibling)}if(Ff(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(V(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){At=wn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}At=null}}else At=Bt?wn(e.stateNode.nextSibling):null;return!0}function sp(){for(var e=At;e;)e=wn(e.nextSibling)}function Qs(){At=Bt=null,Fe=!1}function bu(e){hr===null?hr=[e]:hr.push(e)}var xb=nn.ReactCurrentBatchConfig;function Ti(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(V(309));var s=r.stateNode}if(!s)throw Error(V(147,e));var a=s,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(d){var u=a.refs;d===null?delete u[l]:u[l]=d},t._stringRef=l,t)}if(typeof e!="string")throw Error(V(284));if(!r._owner)throw Error(V(290,e))}return e}function oo(e,t){throw e=Object.prototype.toString.call(t),Error(V(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Wf(e){var t=e._init;return t(e._payload)}function ip(e){function t(b,k){if(e){var x=b.deletions;x===null?(b.deletions=[k],b.flags|=16):x.push(k)}}function r(b,k){if(!e)return null;for(;k!==null;)t(b,k),k=k.sibling;return null}function s(b,k){for(b=new Map;k!==null;)k.key!==null?b.set(k.key,k):b.set(k.index,k),k=k.sibling;return b}function a(b,k){return b=Nn(b,k),b.index=0,b.sibling=null,b}function l(b,k,x){return b.index=x,e?(x=b.alternate,x!==null?(x=x.index,x<k?(b.flags|=2,k):x):(b.flags|=2,k)):(b.flags|=1048576,k)}function d(b){return e&&b.alternate===null&&(b.flags|=2),b}function u(b,k,x,E){return k===null||k.tag!==6?(k=Rc(x,b.mode,E),k.return=b,k):(k=a(k,x),k.return=b,k)}function f(b,k,x,E){var O=x.type;return O===Es?v(b,k,x.props.children,E,x.key):k!==null&&(k.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===dn&&Wf(O)===k.type)?(E=a(k,x.props),E.ref=Ti(b,k,x),E.return=b,E):(E=Co(x.type,x.key,x.props,null,b.mode,E),E.ref=Ti(b,k,x),E.return=b,E)}function m(b,k,x,E){return k===null||k.tag!==4||k.stateNode.containerInfo!==x.containerInfo||k.stateNode.implementation!==x.implementation?(k=Ac(x,b.mode,E),k.return=b,k):(k=a(k,x.children||[]),k.return=b,k)}function v(b,k,x,E,O){return k===null||k.tag!==7?(k=Xn(x,b.mode,E,O),k.return=b,k):(k=a(k,x),k.return=b,k)}function g(b,k,x){if(typeof k=="string"&&k!==""||typeof k=="number")return k=Rc(""+k,b.mode,x),k.return=b,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Ja:return x=Co(k.type,k.key,k.props,null,b.mode,x),x.ref=Ti(b,null,k),x.return=b,x;case Ms:return k=Ac(k,b.mode,x),k.return=b,k;case dn:var E=k._init;return g(b,E(k._payload),x)}if(Ii(k)||Si(k))return k=Xn(k,b.mode,x,null),k.return=b,k;oo(b,k)}return null}function y(b,k,x,E){var O=k!==null?k.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return O!==null?null:u(b,k,""+x,E);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ja:return x.key===O?f(b,k,x,E):null;case Ms:return x.key===O?m(b,k,x,E):null;case dn:return O=x._init,y(b,k,O(x._payload),E)}if(Ii(x)||Si(x))return O!==null?null:v(b,k,x,E,null);oo(b,x)}return null}function j(b,k,x,E,O){if(typeof E=="string"&&E!==""||typeof E=="number")return b=b.get(x)||null,u(k,b,""+E,O);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Ja:return b=b.get(E.key===null?x:E.key)||null,f(k,b,E,O);case Ms:return b=b.get(E.key===null?x:E.key)||null,m(k,b,E,O);case dn:var M=E._init;return j(b,k,x,M(E._payload),O)}if(Ii(E)||Si(E))return b=b.get(x)||null,v(k,b,E,O,null);oo(k,E)}return null}function S(b,k,x,E){for(var O=null,M=null,F=k,A=k=0,Y=null;F!==null&&A<x.length;A++){F.index>A?(Y=F,F=null):Y=F.sibling;var J=y(b,F,x[A],E);if(J===null){F===null&&(F=Y);break}e&&F&&J.alternate===null&&t(b,F),k=l(J,k,A),M===null?O=J:M.sibling=J,M=J,F=Y}if(A===x.length)return r(b,F),Fe&&Hn(b,A),O;if(F===null){for(;A<x.length;A++)F=g(b,x[A],E),F!==null&&(k=l(F,k,A),M===null?O=F:M.sibling=F,M=F);return Fe&&Hn(b,A),O}for(F=s(b,F);A<x.length;A++)Y=j(F,b,A,x[A],E),Y!==null&&(e&&Y.alternate!==null&&F.delete(Y.key===null?A:Y.key),k=l(Y,k,A),M===null?O=Y:M.sibling=Y,M=Y);return e&&F.forEach(function(q){return t(b,q)}),Fe&&Hn(b,A),O}function N(b,k,x,E){var O=Si(x);if(typeof O!="function")throw Error(V(150));if(x=O.call(x),x==null)throw Error(V(151));for(var M=O=null,F=k,A=k=0,Y=null,J=x.next();F!==null&&!J.done;A++,J=x.next()){F.index>A?(Y=F,F=null):Y=F.sibling;var q=y(b,F,J.value,E);if(q===null){F===null&&(F=Y);break}e&&F&&q.alternate===null&&t(b,F),k=l(q,k,A),M===null?O=q:M.sibling=q,M=q,F=Y}if(J.done)return r(b,F),Fe&&Hn(b,A),O;if(F===null){for(;!J.done;A++,J=x.next())J=g(b,J.value,E),J!==null&&(k=l(J,k,A),M===null?O=J:M.sibling=J,M=J);return Fe&&Hn(b,A),O}for(F=s(b,F);!J.done;A++,J=x.next())J=j(F,b,A,J.value,E),J!==null&&(e&&J.alternate!==null&&F.delete(J.key===null?A:J.key),k=l(J,k,A),M===null?O=J:M.sibling=J,M=J);return e&&F.forEach(function(ie){return t(b,ie)}),Fe&&Hn(b,A),O}function C(b,k,x,E){if(typeof x=="object"&&x!==null&&x.type===Es&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Ja:e:{for(var O=x.key,M=k;M!==null;){if(M.key===O){if(O=x.type,O===Es){if(M.tag===7){r(b,M.sibling),k=a(M,x.props.children),k.return=b,b=k;break e}}else if(M.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===dn&&Wf(O)===M.type){r(b,M.sibling),k=a(M,x.props),k.ref=Ti(b,M,x),k.return=b,b=k;break e}r(b,M);break}else t(b,M);M=M.sibling}x.type===Es?(k=Xn(x.props.children,b.mode,E,x.key),k.return=b,b=k):(E=Co(x.type,x.key,x.props,null,b.mode,E),E.ref=Ti(b,k,x),E.return=b,b=E)}return d(b);case Ms:e:{for(M=x.key;k!==null;){if(k.key===M)if(k.tag===4&&k.stateNode.containerInfo===x.containerInfo&&k.stateNode.implementation===x.implementation){r(b,k.sibling),k=a(k,x.children||[]),k.return=b,b=k;break e}else{r(b,k);break}else t(b,k);k=k.sibling}k=Ac(x,b.mode,E),k.return=b,b=k}return d(b);case dn:return M=x._init,C(b,k,M(x._payload),E)}if(Ii(x))return S(b,k,x,E);if(Si(x))return N(b,k,x,E);oo(b,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,k!==null&&k.tag===6?(r(b,k.sibling),k=a(k,x),k.return=b,b=k):(r(b,k),k=Rc(x,b.mode,E),k.return=b,b=k),d(b)):r(b,k)}return C}var Xs=ip(!0),ap=ip(!1),Vo=En(null),Yo=null,As=null,wu=null;function _u(){wu=As=Yo=null}function ku(e){var t=Vo.current;Be(Vo),e._currentValue=t}function Cd(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function Vs(e,t){Yo=e,wu=As=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Tt=!0),e.firstContext=null)}function er(e){var t=e._currentValue;if(wu!==e)if(e={context:e,memoizedValue:t,next:null},As===null){if(Yo===null)throw Error(V(308));As=e,Yo.dependencies={lanes:0,firstContext:e}}else As=As.next=e;return t}var Gn=null;function ju(e){Gn===null?Gn=[e]:Gn.push(e)}function op(e,t,r,s){var a=t.interleaved;return a===null?(r.next=r,ju(t)):(r.next=a.next,a.next=r),t.interleaved=r,en(e,s)}function en(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var un=!1;function Nu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Jr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function _n(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,je&2){var a=s.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),s.pending=t,en(e,r)}return a=s.interleaved,a===null?(t.next=t,ju(s)):(t.next=a.next,a.next=t),s.interleaved=t,en(e,r)}function wo(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,du(e,r)}}function $f(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var a=null,l=null;if(r=r.firstBaseUpdate,r!==null){do{var d={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};l===null?a=l=d:l=l.next=d,r=r.next}while(r!==null);l===null?a=l=t:l=l.next=t}else a=l=t;r={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:l,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function qo(e,t,r,s){var a=e.updateQueue;un=!1;var l=a.firstBaseUpdate,d=a.lastBaseUpdate,u=a.shared.pending;if(u!==null){a.shared.pending=null;var f=u,m=f.next;f.next=null,d===null?l=m:d.next=m,d=f;var v=e.alternate;v!==null&&(v=v.updateQueue,u=v.lastBaseUpdate,u!==d&&(u===null?v.firstBaseUpdate=m:u.next=m,v.lastBaseUpdate=f))}if(l!==null){var g=a.baseState;d=0,v=m=f=null,u=l;do{var y=u.lane,j=u.eventTime;if((s&y)===y){v!==null&&(v=v.next={eventTime:j,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var S=e,N=u;switch(y=t,j=r,N.tag){case 1:if(S=N.payload,typeof S=="function"){g=S.call(j,g,y);break e}g=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=N.payload,y=typeof S=="function"?S.call(j,g,y):S,y==null)break e;g=Ve({},g,y);break e;case 2:un=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,y=a.effects,y===null?a.effects=[u]:y.push(u))}else j={eventTime:j,lane:y,tag:u.tag,payload:u.payload,callback:u.callback,next:null},v===null?(m=v=j,f=g):v=v.next=j,d|=y;if(u=u.next,u===null){if(u=a.shared.pending,u===null)break;y=u,u=y.next,y.next=null,a.lastBaseUpdate=y,a.shared.pending=null}}while(!0);if(v===null&&(f=g),a.baseState=f,a.firstBaseUpdate=m,a.lastBaseUpdate=v,t=a.shared.interleaved,t!==null){a=t;do d|=a.lane,a=a.next;while(a!==t)}else l===null&&(a.shared.lanes=0);ns|=d,e.lanes=d,e.memoizedState=g}}function Zf(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],a=s.callback;if(a!==null){if(s.callback=null,s=r,typeof a!="function")throw Error(V(191,a));a.call(s)}}}var wa={},Or=En(wa),oa=En(wa),la=En(wa);function Jn(e){if(e===wa)throw Error(V(174));return e}function Su(e,t){switch(Ie(la,t),Ie(oa,e),Ie(Or,wa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:od(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=od(t,e)}Be(Or),Ie(Or,t)}function ei(){Be(Or),Be(oa),Be(la)}function cp(e){Jn(la.current);var t=Jn(Or.current),r=od(t,e.type);t!==r&&(Ie(oa,e),Ie(Or,r))}function Cu(e){oa.current===e&&(Be(Or),Be(oa))}var He=En(0);function Go(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Tc=[];function Pu(){for(var e=0;e<Tc.length;e++)Tc[e]._workInProgressVersionPrimary=null;Tc.length=0}var _o=nn.ReactCurrentDispatcher,Lc=nn.ReactCurrentBatchConfig,rs=0,Ue=null,it=null,lt=null,Jo=!1,Vi=!1,ca=0,vb=0;function xt(){throw Error(V(321))}function Mu(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!gr(e[r],t[r]))return!1;return!0}function Eu(e,t,r,s,a,l){if(rs=l,Ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,_o.current=e===null||e.memoizedState===null?_b:kb,e=r(s,a),Vi){l=0;do{if(Vi=!1,ca=0,25<=l)throw Error(V(301));l+=1,lt=it=null,t.updateQueue=null,_o.current=jb,e=r(s,a)}while(Vi)}if(_o.current=Ko,t=it!==null&&it.next!==null,rs=0,lt=it=Ue=null,Jo=!1,t)throw Error(V(300));return e}function Tu(){var e=ca!==0;return ca=0,e}function Sr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?Ue.memoizedState=lt=e:lt=lt.next=e,lt}function tr(){if(it===null){var e=Ue.alternate;e=e!==null?e.memoizedState:null}else e=it.next;var t=lt===null?Ue.memoizedState:lt.next;if(t!==null)lt=t,it=e;else{if(e===null)throw Error(V(310));it=e,e={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},lt===null?Ue.memoizedState=lt=e:lt=lt.next=e}return lt}function da(e,t){return typeof t=="function"?t(e):t}function Oc(e){var t=tr(),r=t.queue;if(r===null)throw Error(V(311));r.lastRenderedReducer=e;var s=it,a=s.baseQueue,l=r.pending;if(l!==null){if(a!==null){var d=a.next;a.next=l.next,l.next=d}s.baseQueue=a=l,r.pending=null}if(a!==null){l=a.next,s=s.baseState;var u=d=null,f=null,m=l;do{var v=m.lane;if((rs&v)===v)f!==null&&(f=f.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),s=m.hasEagerState?m.eagerState:e(s,m.action);else{var g={lane:v,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};f===null?(u=f=g,d=s):f=f.next=g,Ue.lanes|=v,ns|=v}m=m.next}while(m!==null&&m!==l);f===null?d=s:f.next=u,gr(s,t.memoizedState)||(Tt=!0),t.memoizedState=s,t.baseState=d,t.baseQueue=f,r.lastRenderedState=s}if(e=r.interleaved,e!==null){a=e;do l=a.lane,Ue.lanes|=l,ns|=l,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Dc(e){var t=tr(),r=t.queue;if(r===null)throw Error(V(311));r.lastRenderedReducer=e;var s=r.dispatch,a=r.pending,l=t.memoizedState;if(a!==null){r.pending=null;var d=a=a.next;do l=e(l,d.action),d=d.next;while(d!==a);gr(l,t.memoizedState)||(Tt=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),r.lastRenderedState=l}return[l,s]}function dp(){}function up(e,t){var r=Ue,s=tr(),a=t(),l=!gr(s.memoizedState,a);if(l&&(s.memoizedState=a,Tt=!0),s=s.queue,Lu(mp.bind(null,r,s,e),[e]),s.getSnapshot!==t||l||lt!==null&&lt.memoizedState.tag&1){if(r.flags|=2048,ua(9,fp.bind(null,r,s,a,t),void 0,null),ct===null)throw Error(V(349));rs&30||hp(r,t,a)}return a}function hp(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function fp(e,t,r,s){t.value=r,t.getSnapshot=s,pp(t)&&gp(e)}function mp(e,t,r){return r(function(){pp(t)&&gp(e)})}function pp(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!gr(e,r)}catch{return!0}}function gp(e){var t=en(e,1);t!==null&&pr(t,e,1,-1)}function Hf(e){var t=Sr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:e},t.queue=e,e=e.dispatch=wb.bind(null,Ue,e),[t.memoizedState,e]}function ua(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function xp(){return tr().memoizedState}function ko(e,t,r,s){var a=Sr();Ue.flags|=e,a.memoizedState=ua(1|t,r,void 0,s===void 0?null:s)}function vl(e,t,r,s){var a=tr();s=s===void 0?null:s;var l=void 0;if(it!==null){var d=it.memoizedState;if(l=d.destroy,s!==null&&Mu(s,d.deps)){a.memoizedState=ua(t,r,l,s);return}}Ue.flags|=e,a.memoizedState=ua(1|t,r,l,s)}function Uf(e,t){return ko(8390656,8,e,t)}function Lu(e,t){return vl(2048,8,e,t)}function vp(e,t){return vl(4,2,e,t)}function yp(e,t){return vl(4,4,e,t)}function bp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function wp(e,t,r){return r=r!=null?r.concat([e]):null,vl(4,4,bp.bind(null,t,e),r)}function Ou(){}function _p(e,t){var r=tr();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Mu(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function kp(e,t){var r=tr();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Mu(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function jp(e,t,r){return rs&21?(gr(r,t)||(r=M0(),Ue.lanes|=r,ns|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Tt=!0),e.memoizedState=r)}function yb(e,t){var r=Te;Te=r!==0&&4>r?r:4,e(!0);var s=Lc.transition;Lc.transition={};try{e(!1),t()}finally{Te=r,Lc.transition=s}}function Np(){return tr().memoizedState}function bb(e,t,r){var s=jn(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},Sp(e))Cp(t,r);else if(r=op(e,t,r,s),r!==null){var a=Nt();pr(r,e,s,a),Pp(r,t,s)}}function wb(e,t,r){var s=jn(e),a={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(Sp(e))Cp(t,a);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var d=t.lastRenderedState,u=l(d,r);if(a.hasEagerState=!0,a.eagerState=u,gr(u,d)){var f=t.interleaved;f===null?(a.next=a,ju(t)):(a.next=f.next,f.next=a),t.interleaved=a;return}}catch{}finally{}r=op(e,t,a,s),r!==null&&(a=Nt(),pr(r,e,s,a),Pp(r,t,s))}}function Sp(e){var t=e.alternate;return e===Ue||t!==null&&t===Ue}function Cp(e,t){Vi=Jo=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Pp(e,t,r){if(r&4194240){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,du(e,r)}}var Ko={readContext:er,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useInsertionEffect:xt,useLayoutEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useMutableSource:xt,useSyncExternalStore:xt,useId:xt,unstable_isNewReconciler:!1},_b={readContext:er,useCallback:function(e,t){return Sr().memoizedState=[e,t===void 0?null:t],e},useContext:er,useEffect:Uf,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ko(4194308,4,bp.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ko(4194308,4,e,t)},useInsertionEffect:function(e,t){return ko(4,2,e,t)},useMemo:function(e,t){var r=Sr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=Sr();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=bb.bind(null,Ue,e),[s.memoizedState,e]},useRef:function(e){var t=Sr();return e={current:e},t.memoizedState=e},useState:Hf,useDebugValue:Ou,useDeferredValue:function(e){return Sr().memoizedState=e},useTransition:function(){var e=Hf(!1),t=e[0];return e=yb.bind(null,e[1]),Sr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=Ue,a=Sr();if(Fe){if(r===void 0)throw Error(V(407));r=r()}else{if(r=t(),ct===null)throw Error(V(349));rs&30||hp(s,t,r)}a.memoizedState=r;var l={value:r,getSnapshot:t};return a.queue=l,Uf(mp.bind(null,s,l,e),[e]),s.flags|=2048,ua(9,fp.bind(null,s,l,r,t),void 0,null),r},useId:function(){var e=Sr(),t=ct.identifierPrefix;if(Fe){var r=Vr,s=Ur;r=(s&~(1<<32-mr(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=ca++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=vb++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},kb={readContext:er,useCallback:_p,useContext:er,useEffect:Lu,useImperativeHandle:wp,useInsertionEffect:vp,useLayoutEffect:yp,useMemo:kp,useReducer:Oc,useRef:xp,useState:function(){return Oc(da)},useDebugValue:Ou,useDeferredValue:function(e){var t=tr();return jp(t,it.memoizedState,e)},useTransition:function(){var e=Oc(da)[0],t=tr().memoizedState;return[e,t]},useMutableSource:dp,useSyncExternalStore:up,useId:Np,unstable_isNewReconciler:!1},jb={readContext:er,useCallback:_p,useContext:er,useEffect:Lu,useImperativeHandle:wp,useInsertionEffect:vp,useLayoutEffect:yp,useMemo:kp,useReducer:Dc,useRef:xp,useState:function(){return Dc(da)},useDebugValue:Ou,useDeferredValue:function(e){var t=tr();return it===null?t.memoizedState=e:jp(t,it.memoizedState,e)},useTransition:function(){var e=Dc(da)[0],t=tr().memoizedState;return[e,t]},useMutableSource:dp,useSyncExternalStore:up,useId:Np,unstable_isNewReconciler:!1};function dr(e,t){if(e&&e.defaultProps){t=Ve({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Pd(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:Ve({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var yl={isMounted:function(e){return(e=e._reactInternals)?ls(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=Nt(),a=jn(e),l=Jr(s,a);l.payload=t,r!=null&&(l.callback=r),t=_n(e,l,a),t!==null&&(pr(t,e,a,s),wo(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=Nt(),a=jn(e),l=Jr(s,a);l.tag=1,l.payload=t,r!=null&&(l.callback=r),t=_n(e,l,a),t!==null&&(pr(t,e,a,s),wo(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Nt(),s=jn(e),a=Jr(r,s);a.tag=2,t!=null&&(a.callback=t),t=_n(e,a,s),t!==null&&(pr(t,e,s,r),wo(t,e,s))}};function Vf(e,t,r,s,a,l,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,l,d):t.prototype&&t.prototype.isPureReactComponent?!na(r,s)||!na(a,l):!0}function Mp(e,t,r){var s=!1,a=Pn,l=t.contextType;return typeof l=="object"&&l!==null?l=er(l):(a=Ot(t)?es:bt.current,s=t.contextTypes,l=(s=s!=null)?Ks(e,a):Pn),t=new t(r,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=yl,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=l),t}function Yf(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&yl.enqueueReplaceState(t,t.state,null)}function Md(e,t,r,s){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Nu(e);var l=t.contextType;typeof l=="object"&&l!==null?a.context=er(l):(l=Ot(t)?es:bt.current,a.context=Ks(e,l)),a.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(Pd(e,t,l,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&yl.enqueueReplaceState(a,a.state,null),qo(e,r,a,s),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function ti(e,t){try{var r="",s=t;do r+=Qv(s),s=s.return;while(s);var a=r}catch(l){a=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:a,digest:null}}function zc(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Ed(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Nb=typeof WeakMap=="function"?WeakMap:Map;function Ep(e,t,r){r=Jr(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){Xo||(Xo=!0,Fd=s),Ed(e,t)},r}function Tp(e,t,r){r=Jr(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=t.value;r.payload=function(){return s(a)},r.callback=function(){Ed(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(r.callback=function(){Ed(e,t),typeof s!="function"&&(kn===null?kn=new Set([this]):kn.add(this));var d=t.stack;this.componentDidCatch(t.value,{componentStack:d!==null?d:""})}),r}function qf(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new Nb;var a=new Set;s.set(t,a)}else a=s.get(t),a===void 0&&(a=new Set,s.set(t,a));a.has(r)||(a.add(r),e=Bb.bind(null,e,t,r),t.then(e,e))}function Gf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Jf(e,t,r,s,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Jr(-1,1),t.tag=2,_n(r,t,1))),r.lanes|=1),e)}var Sb=nn.ReactCurrentOwner,Tt=!1;function kt(e,t,r,s){t.child=e===null?ap(t,null,r,s):Xs(t,e.child,r,s)}function Kf(e,t,r,s,a){r=r.render;var l=t.ref;return Vs(t,a),s=Eu(e,t,r,s,l,a),r=Tu(),e!==null&&!Tt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,tn(e,t,a)):(Fe&&r&&vu(t),t.flags|=1,kt(e,t,s,a),t.child)}function Qf(e,t,r,s,a){if(e===null){var l=r.type;return typeof l=="function"&&!Wu(l)&&l.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=l,Lp(e,t,l,s,a)):(e=Co(r.type,null,s,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&a)){var d=l.memoizedProps;if(r=r.compare,r=r!==null?r:na,r(d,s)&&e.ref===t.ref)return tn(e,t,a)}return t.flags|=1,e=Nn(l,s),e.ref=t.ref,e.return=t,t.child=e}function Lp(e,t,r,s,a){if(e!==null){var l=e.memoizedProps;if(na(l,s)&&e.ref===t.ref)if(Tt=!1,t.pendingProps=s=l,(e.lanes&a)!==0)e.flags&131072&&(Tt=!0);else return t.lanes=e.lanes,tn(e,t,a)}return Td(e,t,r,s,a)}function Op(e,t,r){var s=t.pendingProps,a=s.children,l=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ie(Fs,zt),zt|=r;else{if(!(r&1073741824))return e=l!==null?l.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ie(Fs,zt),zt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=l!==null?l.baseLanes:r,Ie(Fs,zt),zt|=s}else l!==null?(s=l.baseLanes|r,t.memoizedState=null):s=r,Ie(Fs,zt),zt|=s;return kt(e,t,a,r),t.child}function Dp(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Td(e,t,r,s,a){var l=Ot(r)?es:bt.current;return l=Ks(t,l),Vs(t,a),r=Eu(e,t,r,s,l,a),s=Tu(),e!==null&&!Tt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,tn(e,t,a)):(Fe&&s&&vu(t),t.flags|=1,kt(e,t,r,a),t.child)}function Xf(e,t,r,s,a){if(Ot(r)){var l=!0;Zo(t)}else l=!1;if(Vs(t,a),t.stateNode===null)jo(e,t),Mp(t,r,s),Md(t,r,s,a),s=!0;else if(e===null){var d=t.stateNode,u=t.memoizedProps;d.props=u;var f=d.context,m=r.contextType;typeof m=="object"&&m!==null?m=er(m):(m=Ot(r)?es:bt.current,m=Ks(t,m));var v=r.getDerivedStateFromProps,g=typeof v=="function"||typeof d.getSnapshotBeforeUpdate=="function";g||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(u!==s||f!==m)&&Yf(t,d,s,m),un=!1;var y=t.memoizedState;d.state=y,qo(t,s,d,a),f=t.memoizedState,u!==s||y!==f||Lt.current||un?(typeof v=="function"&&(Pd(t,r,v,s),f=t.memoizedState),(u=un||Vf(t,r,u,s,y,f,m))?(g||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=f),d.props=s,d.state=f,d.context=m,s=u):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{d=t.stateNode,lp(e,t),u=t.memoizedProps,m=t.type===t.elementType?u:dr(t.type,u),d.props=m,g=t.pendingProps,y=d.context,f=r.contextType,typeof f=="object"&&f!==null?f=er(f):(f=Ot(r)?es:bt.current,f=Ks(t,f));var j=r.getDerivedStateFromProps;(v=typeof j=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(u!==g||y!==f)&&Yf(t,d,s,f),un=!1,y=t.memoizedState,d.state=y,qo(t,s,d,a);var S=t.memoizedState;u!==g||y!==S||Lt.current||un?(typeof j=="function"&&(Pd(t,r,j,s),S=t.memoizedState),(m=un||Vf(t,r,m,s,y,S,f)||!1)?(v||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(s,S,f),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(s,S,f)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||u===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=S),d.props=s,d.state=S,d.context=f,s=m):(typeof d.componentDidUpdate!="function"||u===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),s=!1)}return Ld(e,t,r,s,l,a)}function Ld(e,t,r,s,a,l){Dp(e,t);var d=(t.flags&128)!==0;if(!s&&!d)return a&&Af(t,r,!1),tn(e,t,l);s=t.stateNode,Sb.current=t;var u=d&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&d?(t.child=Xs(t,e.child,null,l),t.child=Xs(t,null,u,l)):kt(e,t,u,l),t.memoizedState=s.state,a&&Af(t,r,!0),t.child}function zp(e){var t=e.stateNode;t.pendingContext?Rf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Rf(e,t.context,!1),Su(e,t.containerInfo)}function em(e,t,r,s,a){return Qs(),bu(a),t.flags|=256,kt(e,t,r,s),t.child}var Od={dehydrated:null,treeContext:null,retryLane:0};function Dd(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ip(e,t,r){var s=t.pendingProps,a=He.current,l=!1,d=(t.flags&128)!==0,u;if((u=d)||(u=e!==null&&e.memoizedState===null?!1:(a&2)!==0),u?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Ie(He,a&1),e===null)return Sd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(d=s.children,e=s.fallback,l?(s=t.mode,l=t.child,d={mode:"hidden",children:d},!(s&1)&&l!==null?(l.childLanes=0,l.pendingProps=d):l=_l(d,s,0,null),e=Xn(e,s,r,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Dd(r),t.memoizedState=Od,e):Du(t,d));if(a=e.memoizedState,a!==null&&(u=a.dehydrated,u!==null))return Cb(e,t,d,s,u,a,r);if(l){l=s.fallback,d=t.mode,a=e.child,u=a.sibling;var f={mode:"hidden",children:s.children};return!(d&1)&&t.child!==a?(s=t.child,s.childLanes=0,s.pendingProps=f,t.deletions=null):(s=Nn(a,f),s.subtreeFlags=a.subtreeFlags&14680064),u!==null?l=Nn(u,l):(l=Xn(l,d,r,null),l.flags|=2),l.return=t,s.return=t,s.sibling=l,t.child=s,s=l,l=t.child,d=e.child.memoizedState,d=d===null?Dd(r):{baseLanes:d.baseLanes|r,cachePool:null,transitions:d.transitions},l.memoizedState=d,l.childLanes=e.childLanes&~r,t.memoizedState=Od,s}return l=e.child,e=l.sibling,s=Nn(l,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function Du(e,t){return t=_l({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function lo(e,t,r,s){return s!==null&&bu(s),Xs(t,e.child,null,r),e=Du(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Cb(e,t,r,s,a,l,d){if(r)return t.flags&256?(t.flags&=-257,s=zc(Error(V(422))),lo(e,t,d,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=s.fallback,a=t.mode,s=_l({mode:"visible",children:s.children},a,0,null),l=Xn(l,a,d,null),l.flags|=2,s.return=t,l.return=t,s.sibling=l,t.child=s,t.mode&1&&Xs(t,e.child,null,d),t.child.memoizedState=Dd(d),t.memoizedState=Od,l);if(!(t.mode&1))return lo(e,t,d,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var u=s.dgst;return s=u,l=Error(V(419)),s=zc(l,s,void 0),lo(e,t,d,s)}if(u=(d&e.childLanes)!==0,Tt||u){if(s=ct,s!==null){switch(d&-d){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(s.suspendedLanes|d)?0:a,a!==0&&a!==l.retryLane&&(l.retryLane=a,en(e,a),pr(s,e,a,-1))}return Fu(),s=zc(Error(V(421))),lo(e,t,d,s)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=Fb.bind(null,e),a._reactRetry=t,null):(e=l.treeContext,At=wn(a.nextSibling),Bt=t,Fe=!0,hr=null,e!==null&&(Jt[Kt++]=Ur,Jt[Kt++]=Vr,Jt[Kt++]=ts,Ur=e.id,Vr=e.overflow,ts=t),t=Du(t,s.children),t.flags|=4096,t)}function tm(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Cd(e.return,t,r)}function Ic(e,t,r,s,a){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:a}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=s,l.tail=r,l.tailMode=a)}function Rp(e,t,r){var s=t.pendingProps,a=s.revealOrder,l=s.tail;if(kt(e,t,s.children,r),s=He.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&tm(e,r,t);else if(e.tag===19)tm(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Ie(He,s),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Go(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Ic(t,!1,a,r,l);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Go(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Ic(t,!0,r,null,l);break;case"together":Ic(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function jo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function tn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ns|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(V(153));if(t.child!==null){for(e=t.child,r=Nn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Nn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Pb(e,t,r){switch(t.tag){case 3:zp(t),Qs();break;case 5:cp(t);break;case 1:Ot(t.type)&&Zo(t);break;case 4:Su(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,a=t.memoizedProps.value;Ie(Vo,s._currentValue),s._currentValue=a;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Ie(He,He.current&1),t.flags|=128,null):r&t.child.childLanes?Ip(e,t,r):(Ie(He,He.current&1),e=tn(e,t,r),e!==null?e.sibling:null);Ie(He,He.current&1);break;case 19:if(s=(r&t.childLanes)!==0,e.flags&128){if(s)return Rp(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ie(He,He.current),s)break;return null;case 22:case 23:return t.lanes=0,Op(e,t,r)}return tn(e,t,r)}var Ap,zd,Bp,Fp;Ap=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};zd=function(){};Bp=function(e,t,r,s){var a=e.memoizedProps;if(a!==s){e=t.stateNode,Jn(Or.current);var l=null;switch(r){case"input":a=nd(e,a),s=nd(e,s),l=[];break;case"select":a=Ve({},a,{value:void 0}),s=Ve({},s,{value:void 0}),l=[];break;case"textarea":a=ad(e,a),s=ad(e,s),l=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Wo)}ld(r,s);var d;r=null;for(m in a)if(!s.hasOwnProperty(m)&&a.hasOwnProperty(m)&&a[m]!=null)if(m==="style"){var u=a[m];for(d in u)u.hasOwnProperty(d)&&(r||(r={}),r[d]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(Ji.hasOwnProperty(m)?l||(l=[]):(l=l||[]).push(m,null));for(m in s){var f=s[m];if(u=a!=null?a[m]:void 0,s.hasOwnProperty(m)&&f!==u&&(f!=null||u!=null))if(m==="style")if(u){for(d in u)!u.hasOwnProperty(d)||f&&f.hasOwnProperty(d)||(r||(r={}),r[d]="");for(d in f)f.hasOwnProperty(d)&&u[d]!==f[d]&&(r||(r={}),r[d]=f[d])}else r||(l||(l=[]),l.push(m,r)),r=f;else m==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,u=u?u.__html:void 0,f!=null&&u!==f&&(l=l||[]).push(m,f)):m==="children"?typeof f!="string"&&typeof f!="number"||(l=l||[]).push(m,""+f):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(Ji.hasOwnProperty(m)?(f!=null&&m==="onScroll"&&Ae("scroll",e),l||u===f||(l=[])):(l=l||[]).push(m,f))}r&&(l=l||[]).push("style",r);var m=l;(t.updateQueue=m)&&(t.flags|=4)}};Fp=function(e,t,r,s){r!==s&&(t.flags|=4)};function Li(e,t){if(!Fe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function vt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function Mb(e,t,r){var s=t.pendingProps;switch(yu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(t),null;case 1:return Ot(t.type)&&$o(),vt(t),null;case 3:return s=t.stateNode,ei(),Be(Lt),Be(bt),Pu(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ao(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,hr!==null&&(Zd(hr),hr=null))),zd(e,t),vt(t),null;case 5:Cu(t);var a=Jn(la.current);if(r=t.type,e!==null&&t.stateNode!=null)Bp(e,t,r,s,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(V(166));return vt(t),null}if(e=Jn(Or.current),ao(t)){s=t.stateNode,r=t.type;var l=t.memoizedProps;switch(s[Pr]=t,s[aa]=l,e=(t.mode&1)!==0,r){case"dialog":Ae("cancel",s),Ae("close",s);break;case"iframe":case"object":case"embed":Ae("load",s);break;case"video":case"audio":for(a=0;a<Ai.length;a++)Ae(Ai[a],s);break;case"source":Ae("error",s);break;case"img":case"image":case"link":Ae("error",s),Ae("load",s);break;case"details":Ae("toggle",s);break;case"input":df(s,l),Ae("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!l.multiple},Ae("invalid",s);break;case"textarea":hf(s,l),Ae("invalid",s)}ld(r,l),a=null;for(var d in l)if(l.hasOwnProperty(d)){var u=l[d];d==="children"?typeof u=="string"?s.textContent!==u&&(l.suppressHydrationWarning!==!0&&io(s.textContent,u,e),a=["children",u]):typeof u=="number"&&s.textContent!==""+u&&(l.suppressHydrationWarning!==!0&&io(s.textContent,u,e),a=["children",""+u]):Ji.hasOwnProperty(d)&&u!=null&&d==="onScroll"&&Ae("scroll",s)}switch(r){case"input":Ka(s),uf(s,l,!0);break;case"textarea":Ka(s),ff(s);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(s.onclick=Wo)}s=a,t.updateQueue=s,s!==null&&(t.flags|=4)}else{d=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=m0(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=d.createElement(r,{is:s.is}):(e=d.createElement(r),r==="select"&&(d=e,s.multiple?d.multiple=!0:s.size&&(d.size=s.size))):e=d.createElementNS(e,r),e[Pr]=t,e[aa]=s,Ap(e,t,!1,!1),t.stateNode=e;e:{switch(d=cd(r,s),r){case"dialog":Ae("cancel",e),Ae("close",e),a=s;break;case"iframe":case"object":case"embed":Ae("load",e),a=s;break;case"video":case"audio":for(a=0;a<Ai.length;a++)Ae(Ai[a],e);a=s;break;case"source":Ae("error",e),a=s;break;case"img":case"image":case"link":Ae("error",e),Ae("load",e),a=s;break;case"details":Ae("toggle",e),a=s;break;case"input":df(e,s),a=nd(e,s),Ae("invalid",e);break;case"option":a=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},a=Ve({},s,{value:void 0}),Ae("invalid",e);break;case"textarea":hf(e,s),a=ad(e,s),Ae("invalid",e);break;default:a=s}ld(r,a),u=a;for(l in u)if(u.hasOwnProperty(l)){var f=u[l];l==="style"?x0(e,f):l==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&p0(e,f)):l==="children"?typeof f=="string"?(r!=="textarea"||f!=="")&&Ki(e,f):typeof f=="number"&&Ki(e,""+f):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Ji.hasOwnProperty(l)?f!=null&&l==="onScroll"&&Ae("scroll",e):f!=null&&su(e,l,f,d))}switch(r){case"input":Ka(e),uf(e,s,!1);break;case"textarea":Ka(e),ff(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Cn(s.value));break;case"select":e.multiple=!!s.multiple,l=s.value,l!=null?$s(e,!!s.multiple,l,!1):s.defaultValue!=null&&$s(e,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Wo)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return vt(t),null;case 6:if(e&&t.stateNode!=null)Fp(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(V(166));if(r=Jn(la.current),Jn(Or.current),ao(t)){if(s=t.stateNode,r=t.memoizedProps,s[Pr]=t,(l=s.nodeValue!==r)&&(e=Bt,e!==null))switch(e.tag){case 3:io(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&io(s.nodeValue,r,(e.mode&1)!==0)}l&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[Pr]=t,t.stateNode=s}return vt(t),null;case 13:if(Be(He),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Fe&&At!==null&&t.mode&1&&!(t.flags&128))sp(),Qs(),t.flags|=98560,l=!1;else if(l=ao(t),s!==null&&s.dehydrated!==null){if(e===null){if(!l)throw Error(V(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(V(317));l[Pr]=t}else Qs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;vt(t),l=!1}else hr!==null&&(Zd(hr),hr=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||He.current&1?at===0&&(at=3):Fu())),t.updateQueue!==null&&(t.flags|=4),vt(t),null);case 4:return ei(),zd(e,t),e===null&&sa(t.stateNode.containerInfo),vt(t),null;case 10:return ku(t.type._context),vt(t),null;case 17:return Ot(t.type)&&$o(),vt(t),null;case 19:if(Be(He),l=t.memoizedState,l===null)return vt(t),null;if(s=(t.flags&128)!==0,d=l.rendering,d===null)if(s)Li(l,!1);else{if(at!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(d=Go(e),d!==null){for(t.flags|=128,Li(l,!1),s=d.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)l=r,e=s,l.flags&=14680066,d=l.alternate,d===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=d.childLanes,l.lanes=d.lanes,l.child=d.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=d.memoizedProps,l.memoizedState=d.memoizedState,l.updateQueue=d.updateQueue,l.type=d.type,e=d.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ie(He,He.current&1|2),t.child}e=e.sibling}l.tail!==null&&Ke()>ri&&(t.flags|=128,s=!0,Li(l,!1),t.lanes=4194304)}else{if(!s)if(e=Go(d),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Li(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Fe)return vt(t),null}else 2*Ke()-l.renderingStartTime>ri&&r!==1073741824&&(t.flags|=128,s=!0,Li(l,!1),t.lanes=4194304);l.isBackwards?(d.sibling=t.child,t.child=d):(r=l.last,r!==null?r.sibling=d:t.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ke(),t.sibling=null,r=He.current,Ie(He,s?r&1|2:r&1),t):(vt(t),null);case 22:case 23:return Bu(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?zt&1073741824&&(vt(t),t.subtreeFlags&6&&(t.flags|=8192)):vt(t),null;case 24:return null;case 25:return null}throw Error(V(156,t.tag))}function Eb(e,t){switch(yu(t),t.tag){case 1:return Ot(t.type)&&$o(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ei(),Be(Lt),Be(bt),Pu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Cu(t),null;case 13:if(Be(He),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(V(340));Qs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Be(He),null;case 4:return ei(),null;case 10:return ku(t.type._context),null;case 22:case 23:return Bu(),null;case 24:return null;default:return null}}var co=!1,yt=!1,Tb=typeof WeakSet=="function"?WeakSet:Set,ne=null;function Bs(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){qe(e,t,s)}else r.current=null}function Id(e,t,r){try{r()}catch(s){qe(e,t,s)}}var rm=!1;function Lb(e,t){if(yd=Ao,e=U0(),xu(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var a=s.anchorOffset,l=s.focusNode;s=s.focusOffset;try{r.nodeType,l.nodeType}catch{r=null;break e}var d=0,u=-1,f=-1,m=0,v=0,g=e,y=null;t:for(;;){for(var j;g!==r||a!==0&&g.nodeType!==3||(u=d+a),g!==l||s!==0&&g.nodeType!==3||(f=d+s),g.nodeType===3&&(d+=g.nodeValue.length),(j=g.firstChild)!==null;)y=g,g=j;for(;;){if(g===e)break t;if(y===r&&++m===a&&(u=d),y===l&&++v===s&&(f=d),(j=g.nextSibling)!==null)break;g=y,y=g.parentNode}g=j}r=u===-1||f===-1?null:{start:u,end:f}}else r=null}r=r||{start:0,end:0}}else r=null;for(bd={focusedElem:e,selectionRange:r},Ao=!1,ne=t;ne!==null;)if(t=ne,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ne=e;else for(;ne!==null;){t=ne;try{var S=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var N=S.memoizedProps,C=S.memoizedState,b=t.stateNode,k=b.getSnapshotBeforeUpdate(t.elementType===t.type?N:dr(t.type,N),C);b.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(V(163))}}catch(E){qe(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,ne=e;break}ne=t.return}return S=rm,rm=!1,S}function Yi(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var l=a.destroy;a.destroy=void 0,l!==void 0&&Id(t,r,l)}a=a.next}while(a!==s)}}function bl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function Rd(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Wp(e){var t=e.alternate;t!==null&&(e.alternate=null,Wp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Pr],delete t[aa],delete t[kd],delete t[mb],delete t[pb])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function $p(e){return e.tag===5||e.tag===3||e.tag===4}function nm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||$p(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ad(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Wo));else if(s!==4&&(e=e.child,e!==null))for(Ad(e,t,r),e=e.sibling;e!==null;)Ad(e,t,r),e=e.sibling}function Bd(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Bd(e,t,r),e=e.sibling;e!==null;)Bd(e,t,r),e=e.sibling}var ht=null,ur=!1;function ln(e,t,r){for(r=r.child;r!==null;)Zp(e,t,r),r=r.sibling}function Zp(e,t,r){if(Lr&&typeof Lr.onCommitFiberUnmount=="function")try{Lr.onCommitFiberUnmount(hl,r)}catch{}switch(r.tag){case 5:yt||Bs(r,t);case 6:var s=ht,a=ur;ht=null,ln(e,t,r),ht=s,ur=a,ht!==null&&(ur?(e=ht,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ht.removeChild(r.stateNode));break;case 18:ht!==null&&(ur?(e=ht,r=r.stateNode,e.nodeType===8?Mc(e.parentNode,r):e.nodeType===1&&Mc(e,r),ta(e)):Mc(ht,r.stateNode));break;case 4:s=ht,a=ur,ht=r.stateNode.containerInfo,ur=!0,ln(e,t,r),ht=s,ur=a;break;case 0:case 11:case 14:case 15:if(!yt&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var l=a,d=l.destroy;l=l.tag,d!==void 0&&(l&2||l&4)&&Id(r,t,d),a=a.next}while(a!==s)}ln(e,t,r);break;case 1:if(!yt&&(Bs(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(u){qe(r,t,u)}ln(e,t,r);break;case 21:ln(e,t,r);break;case 22:r.mode&1?(yt=(s=yt)||r.memoizedState!==null,ln(e,t,r),yt=s):ln(e,t,r);break;default:ln(e,t,r)}}function sm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Tb),t.forEach(function(s){var a=Wb.bind(null,e,s);r.has(s)||(r.add(s),s.then(a,a))})}}function cr(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var a=r[s];try{var l=e,d=t,u=d;e:for(;u!==null;){switch(u.tag){case 5:ht=u.stateNode,ur=!1;break e;case 3:ht=u.stateNode.containerInfo,ur=!0;break e;case 4:ht=u.stateNode.containerInfo,ur=!0;break e}u=u.return}if(ht===null)throw Error(V(160));Zp(l,d,a),ht=null,ur=!1;var f=a.alternate;f!==null&&(f.return=null),a.return=null}catch(m){qe(a,t,m)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Hp(t,e),t=t.sibling}function Hp(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(cr(t,e),Nr(e),s&4){try{Yi(3,e,e.return),bl(3,e)}catch(N){qe(e,e.return,N)}try{Yi(5,e,e.return)}catch(N){qe(e,e.return,N)}}break;case 1:cr(t,e),Nr(e),s&512&&r!==null&&Bs(r,r.return);break;case 5:if(cr(t,e),Nr(e),s&512&&r!==null&&Bs(r,r.return),e.flags&32){var a=e.stateNode;try{Ki(a,"")}catch(N){qe(e,e.return,N)}}if(s&4&&(a=e.stateNode,a!=null)){var l=e.memoizedProps,d=r!==null?r.memoizedProps:l,u=e.type,f=e.updateQueue;if(e.updateQueue=null,f!==null)try{u==="input"&&l.type==="radio"&&l.name!=null&&h0(a,l),cd(u,d);var m=cd(u,l);for(d=0;d<f.length;d+=2){var v=f[d],g=f[d+1];v==="style"?x0(a,g):v==="dangerouslySetInnerHTML"?p0(a,g):v==="children"?Ki(a,g):su(a,v,g,m)}switch(u){case"input":sd(a,l);break;case"textarea":f0(a,l);break;case"select":var y=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var j=l.value;j!=null?$s(a,!!l.multiple,j,!1):y!==!!l.multiple&&(l.defaultValue!=null?$s(a,!!l.multiple,l.defaultValue,!0):$s(a,!!l.multiple,l.multiple?[]:"",!1))}a[aa]=l}catch(N){qe(e,e.return,N)}}break;case 6:if(cr(t,e),Nr(e),s&4){if(e.stateNode===null)throw Error(V(162));a=e.stateNode,l=e.memoizedProps;try{a.nodeValue=l}catch(N){qe(e,e.return,N)}}break;case 3:if(cr(t,e),Nr(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{ta(t.containerInfo)}catch(N){qe(e,e.return,N)}break;case 4:cr(t,e),Nr(e);break;case 13:cr(t,e),Nr(e),a=e.child,a.flags&8192&&(l=a.memoizedState!==null,a.stateNode.isHidden=l,!l||a.alternate!==null&&a.alternate.memoizedState!==null||(Ru=Ke())),s&4&&sm(e);break;case 22:if(v=r!==null&&r.memoizedState!==null,e.mode&1?(yt=(m=yt)||v,cr(t,e),yt=m):cr(t,e),Nr(e),s&8192){if(m=e.memoizedState!==null,(e.stateNode.isHidden=m)&&!v&&e.mode&1)for(ne=e,v=e.child;v!==null;){for(g=ne=v;ne!==null;){switch(y=ne,j=y.child,y.tag){case 0:case 11:case 14:case 15:Yi(4,y,y.return);break;case 1:Bs(y,y.return);var S=y.stateNode;if(typeof S.componentWillUnmount=="function"){s=y,r=y.return;try{t=s,S.props=t.memoizedProps,S.state=t.memoizedState,S.componentWillUnmount()}catch(N){qe(s,r,N)}}break;case 5:Bs(y,y.return);break;case 22:if(y.memoizedState!==null){am(g);continue}}j!==null?(j.return=y,ne=j):am(g)}v=v.sibling}e:for(v=null,g=e;;){if(g.tag===5){if(v===null){v=g;try{a=g.stateNode,m?(l=a.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(u=g.stateNode,f=g.memoizedProps.style,d=f!=null&&f.hasOwnProperty("display")?f.display:null,u.style.display=g0("display",d))}catch(N){qe(e,e.return,N)}}}else if(g.tag===6){if(v===null)try{g.stateNode.nodeValue=m?"":g.memoizedProps}catch(N){qe(e,e.return,N)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===e)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break e;for(;g.sibling===null;){if(g.return===null||g.return===e)break e;v===g&&(v=null),g=g.return}v===g&&(v=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:cr(t,e),Nr(e),s&4&&sm(e);break;case 21:break;default:cr(t,e),Nr(e)}}function Nr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if($p(r)){var s=r;break e}r=r.return}throw Error(V(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(Ki(a,""),s.flags&=-33);var l=nm(e);Bd(e,l,a);break;case 3:case 4:var d=s.stateNode.containerInfo,u=nm(e);Ad(e,u,d);break;default:throw Error(V(161))}}catch(f){qe(e,e.return,f)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ob(e,t,r){ne=e,Up(e)}function Up(e,t,r){for(var s=(e.mode&1)!==0;ne!==null;){var a=ne,l=a.child;if(a.tag===22&&s){var d=a.memoizedState!==null||co;if(!d){var u=a.alternate,f=u!==null&&u.memoizedState!==null||yt;u=co;var m=yt;if(co=d,(yt=f)&&!m)for(ne=a;ne!==null;)d=ne,f=d.child,d.tag===22&&d.memoizedState!==null?om(a):f!==null?(f.return=d,ne=f):om(a);for(;l!==null;)ne=l,Up(l),l=l.sibling;ne=a,co=u,yt=m}im(e)}else a.subtreeFlags&8772&&l!==null?(l.return=a,ne=l):im(e)}}function im(e){for(;ne!==null;){var t=ne;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:yt||bl(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!yt)if(r===null)s.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:dr(t.type,r.memoizedProps);s.componentDidUpdate(a,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&Zf(t,l,s);break;case 3:var d=t.updateQueue;if(d!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Zf(t,d,r)}break;case 5:var u=t.stateNode;if(r===null&&t.flags&4){r=u;var f=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":f.autoFocus&&r.focus();break;case"img":f.src&&(r.src=f.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var m=t.alternate;if(m!==null){var v=m.memoizedState;if(v!==null){var g=v.dehydrated;g!==null&&ta(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(V(163))}yt||t.flags&512&&Rd(t)}catch(y){qe(t,t.return,y)}}if(t===e){ne=null;break}if(r=t.sibling,r!==null){r.return=t.return,ne=r;break}ne=t.return}}function am(e){for(;ne!==null;){var t=ne;if(t===e){ne=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ne=r;break}ne=t.return}}function om(e){for(;ne!==null;){var t=ne;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{bl(4,t)}catch(f){qe(t,r,f)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var a=t.return;try{s.componentDidMount()}catch(f){qe(t,a,f)}}var l=t.return;try{Rd(t)}catch(f){qe(t,l,f)}break;case 5:var d=t.return;try{Rd(t)}catch(f){qe(t,d,f)}}}catch(f){qe(t,t.return,f)}if(t===e){ne=null;break}var u=t.sibling;if(u!==null){u.return=t.return,ne=u;break}ne=t.return}}var Db=Math.ceil,Qo=nn.ReactCurrentDispatcher,zu=nn.ReactCurrentOwner,Xt=nn.ReactCurrentBatchConfig,je=0,ct=null,tt=null,mt=0,zt=0,Fs=En(0),at=0,ha=null,ns=0,wl=0,Iu=0,qi=null,Et=null,Ru=0,ri=1/0,Zr=null,Xo=!1,Fd=null,kn=null,uo=!1,pn=null,el=0,Gi=0,Wd=null,No=-1,So=0;function Nt(){return je&6?Ke():No!==-1?No:No=Ke()}function jn(e){return e.mode&1?je&2&&mt!==0?mt&-mt:xb.transition!==null?(So===0&&(So=M0()),So):(e=Te,e!==0||(e=window.event,e=e===void 0?16:I0(e.type)),e):1}function pr(e,t,r,s){if(50<Gi)throw Gi=0,Wd=null,Error(V(185));va(e,r,s),(!(je&2)||e!==ct)&&(e===ct&&(!(je&2)&&(wl|=r),at===4&&fn(e,mt)),Dt(e,s),r===1&&je===0&&!(t.mode&1)&&(ri=Ke()+500,xl&&Tn()))}function Dt(e,t){var r=e.callbackNode;xy(e,t);var s=Ro(e,e===ct?mt:0);if(s===0)r!==null&&gf(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&gf(r),t===1)e.tag===0?gb(lm.bind(null,e)):tp(lm.bind(null,e)),hb(function(){!(je&6)&&Tn()}),r=null;else{switch(E0(s)){case 1:r=cu;break;case 4:r=C0;break;case 16:r=Io;break;case 536870912:r=P0;break;default:r=Io}r=Xp(r,Vp.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Vp(e,t){if(No=-1,So=0,je&6)throw Error(V(327));var r=e.callbackNode;if(Ys()&&e.callbackNode!==r)return null;var s=Ro(e,e===ct?mt:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=tl(e,s);else{t=s;var a=je;je|=2;var l=qp();(ct!==e||mt!==t)&&(Zr=null,ri=Ke()+500,Qn(e,t));do try{Rb();break}catch(u){Yp(e,u)}while(!0);_u(),Qo.current=l,je=a,tt!==null?t=0:(ct=null,mt=0,t=at)}if(t!==0){if(t===2&&(a=md(e),a!==0&&(s=a,t=$d(e,a))),t===1)throw r=ha,Qn(e,0),fn(e,s),Dt(e,Ke()),r;if(t===6)fn(e,s);else{if(a=e.current.alternate,!(s&30)&&!zb(a)&&(t=tl(e,s),t===2&&(l=md(e),l!==0&&(s=l,t=$d(e,l))),t===1))throw r=ha,Qn(e,0),fn(e,s),Dt(e,Ke()),r;switch(e.finishedWork=a,e.finishedLanes=s,t){case 0:case 1:throw Error(V(345));case 2:Un(e,Et,Zr);break;case 3:if(fn(e,s),(s&130023424)===s&&(t=Ru+500-Ke(),10<t)){if(Ro(e,0)!==0)break;if(a=e.suspendedLanes,(a&s)!==s){Nt(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=_d(Un.bind(null,e,Et,Zr),t);break}Un(e,Et,Zr);break;case 4:if(fn(e,s),(s&4194240)===s)break;for(t=e.eventTimes,a=-1;0<s;){var d=31-mr(s);l=1<<d,d=t[d],d>a&&(a=d),s&=~l}if(s=a,s=Ke()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Db(s/1960))-s,10<s){e.timeoutHandle=_d(Un.bind(null,e,Et,Zr),s);break}Un(e,Et,Zr);break;case 5:Un(e,Et,Zr);break;default:throw Error(V(329))}}}return Dt(e,Ke()),e.callbackNode===r?Vp.bind(null,e):null}function $d(e,t){var r=qi;return e.current.memoizedState.isDehydrated&&(Qn(e,t).flags|=256),e=tl(e,t),e!==2&&(t=Et,Et=r,t!==null&&Zd(t)),e}function Zd(e){Et===null?Et=e:Et.push.apply(Et,e)}function zb(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var a=r[s],l=a.getSnapshot;a=a.value;try{if(!gr(l(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function fn(e,t){for(t&=~Iu,t&=~wl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-mr(t),s=1<<r;e[r]=-1,t&=~s}}function lm(e){if(je&6)throw Error(V(327));Ys();var t=Ro(e,0);if(!(t&1))return Dt(e,Ke()),null;var r=tl(e,t);if(e.tag!==0&&r===2){var s=md(e);s!==0&&(t=s,r=$d(e,s))}if(r===1)throw r=ha,Qn(e,0),fn(e,t),Dt(e,Ke()),r;if(r===6)throw Error(V(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Un(e,Et,Zr),Dt(e,Ke()),null}function Au(e,t){var r=je;je|=1;try{return e(t)}finally{je=r,je===0&&(ri=Ke()+500,xl&&Tn())}}function ss(e){pn!==null&&pn.tag===0&&!(je&6)&&Ys();var t=je;je|=1;var r=Xt.transition,s=Te;try{if(Xt.transition=null,Te=1,e)return e()}finally{Te=s,Xt.transition=r,je=t,!(je&6)&&Tn()}}function Bu(){zt=Fs.current,Be(Fs)}function Qn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,ub(r)),tt!==null)for(r=tt.return;r!==null;){var s=r;switch(yu(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&$o();break;case 3:ei(),Be(Lt),Be(bt),Pu();break;case 5:Cu(s);break;case 4:ei();break;case 13:Be(He);break;case 19:Be(He);break;case 10:ku(s.type._context);break;case 22:case 23:Bu()}r=r.return}if(ct=e,tt=e=Nn(e.current,null),mt=zt=t,at=0,ha=null,Iu=wl=ns=0,Et=qi=null,Gn!==null){for(t=0;t<Gn.length;t++)if(r=Gn[t],s=r.interleaved,s!==null){r.interleaved=null;var a=s.next,l=r.pending;if(l!==null){var d=l.next;l.next=a,s.next=d}r.pending=s}Gn=null}return e}function Yp(e,t){do{var r=tt;try{if(_u(),_o.current=Ko,Jo){for(var s=Ue.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Jo=!1}if(rs=0,lt=it=Ue=null,Vi=!1,ca=0,zu.current=null,r===null||r.return===null){at=1,ha=t,tt=null;break}e:{var l=e,d=r.return,u=r,f=t;if(t=mt,u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){var m=f,v=u,g=v.tag;if(!(v.mode&1)&&(g===0||g===11||g===15)){var y=v.alternate;y?(v.updateQueue=y.updateQueue,v.memoizedState=y.memoizedState,v.lanes=y.lanes):(v.updateQueue=null,v.memoizedState=null)}var j=Gf(d);if(j!==null){j.flags&=-257,Jf(j,d,u,l,t),j.mode&1&&qf(l,m,t),t=j,f=m;var S=t.updateQueue;if(S===null){var N=new Set;N.add(f),t.updateQueue=N}else S.add(f);break e}else{if(!(t&1)){qf(l,m,t),Fu();break e}f=Error(V(426))}}else if(Fe&&u.mode&1){var C=Gf(d);if(C!==null){!(C.flags&65536)&&(C.flags|=256),Jf(C,d,u,l,t),bu(ti(f,u));break e}}l=f=ti(f,u),at!==4&&(at=2),qi===null?qi=[l]:qi.push(l),l=d;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var b=Ep(l,f,t);$f(l,b);break e;case 1:u=f;var k=l.type,x=l.stateNode;if(!(l.flags&128)&&(typeof k.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(kn===null||!kn.has(x)))){l.flags|=65536,t&=-t,l.lanes|=t;var E=Tp(l,u,t);$f(l,E);break e}}l=l.return}while(l!==null)}Jp(r)}catch(O){t=O,tt===r&&r!==null&&(tt=r=r.return);continue}break}while(!0)}function qp(){var e=Qo.current;return Qo.current=Ko,e===null?Ko:e}function Fu(){(at===0||at===3||at===2)&&(at=4),ct===null||!(ns&268435455)&&!(wl&268435455)||fn(ct,mt)}function tl(e,t){var r=je;je|=2;var s=qp();(ct!==e||mt!==t)&&(Zr=null,Qn(e,t));do try{Ib();break}catch(a){Yp(e,a)}while(!0);if(_u(),je=r,Qo.current=s,tt!==null)throw Error(V(261));return ct=null,mt=0,at}function Ib(){for(;tt!==null;)Gp(tt)}function Rb(){for(;tt!==null&&!ly();)Gp(tt)}function Gp(e){var t=Qp(e.alternate,e,zt);e.memoizedProps=e.pendingProps,t===null?Jp(e):tt=t,zu.current=null}function Jp(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Eb(r,t),r!==null){r.flags&=32767,tt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{at=6,tt=null;return}}else if(r=Mb(r,t,zt),r!==null){tt=r;return}if(t=t.sibling,t!==null){tt=t;return}tt=t=e}while(t!==null);at===0&&(at=5)}function Un(e,t,r){var s=Te,a=Xt.transition;try{Xt.transition=null,Te=1,Ab(e,t,r,s)}finally{Xt.transition=a,Te=s}return null}function Ab(e,t,r,s){do Ys();while(pn!==null);if(je&6)throw Error(V(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(V(177));e.callbackNode=null,e.callbackPriority=0;var l=r.lanes|r.childLanes;if(vy(e,l),e===ct&&(tt=ct=null,mt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||uo||(uo=!0,Xp(Io,function(){return Ys(),null})),l=(r.flags&15990)!==0,r.subtreeFlags&15990||l){l=Xt.transition,Xt.transition=null;var d=Te;Te=1;var u=je;je|=4,zu.current=null,Lb(e,r),Hp(r,e),sb(bd),Ao=!!yd,bd=yd=null,e.current=r,Ob(r),cy(),je=u,Te=d,Xt.transition=l}else e.current=r;if(uo&&(uo=!1,pn=e,el=a),l=e.pendingLanes,l===0&&(kn=null),hy(r.stateNode),Dt(e,Ke()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],s(a.value,{componentStack:a.stack,digest:a.digest});if(Xo)throw Xo=!1,e=Fd,Fd=null,e;return el&1&&e.tag!==0&&Ys(),l=e.pendingLanes,l&1?e===Wd?Gi++:(Gi=0,Wd=e):Gi=0,Tn(),null}function Ys(){if(pn!==null){var e=E0(el),t=Xt.transition,r=Te;try{if(Xt.transition=null,Te=16>e?16:e,pn===null)var s=!1;else{if(e=pn,pn=null,el=0,je&6)throw Error(V(331));var a=je;for(je|=4,ne=e.current;ne!==null;){var l=ne,d=l.child;if(ne.flags&16){var u=l.deletions;if(u!==null){for(var f=0;f<u.length;f++){var m=u[f];for(ne=m;ne!==null;){var v=ne;switch(v.tag){case 0:case 11:case 15:Yi(8,v,l)}var g=v.child;if(g!==null)g.return=v,ne=g;else for(;ne!==null;){v=ne;var y=v.sibling,j=v.return;if(Wp(v),v===m){ne=null;break}if(y!==null){y.return=j,ne=y;break}ne=j}}}var S=l.alternate;if(S!==null){var N=S.child;if(N!==null){S.child=null;do{var C=N.sibling;N.sibling=null,N=C}while(N!==null)}}ne=l}}if(l.subtreeFlags&2064&&d!==null)d.return=l,ne=d;else e:for(;ne!==null;){if(l=ne,l.flags&2048)switch(l.tag){case 0:case 11:case 15:Yi(9,l,l.return)}var b=l.sibling;if(b!==null){b.return=l.return,ne=b;break e}ne=l.return}}var k=e.current;for(ne=k;ne!==null;){d=ne;var x=d.child;if(d.subtreeFlags&2064&&x!==null)x.return=d,ne=x;else e:for(d=k;ne!==null;){if(u=ne,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:bl(9,u)}}catch(O){qe(u,u.return,O)}if(u===d){ne=null;break e}var E=u.sibling;if(E!==null){E.return=u.return,ne=E;break e}ne=u.return}}if(je=a,Tn(),Lr&&typeof Lr.onPostCommitFiberRoot=="function")try{Lr.onPostCommitFiberRoot(hl,e)}catch{}s=!0}return s}finally{Te=r,Xt.transition=t}}return!1}function cm(e,t,r){t=ti(r,t),t=Ep(e,t,1),e=_n(e,t,1),t=Nt(),e!==null&&(va(e,1,t),Dt(e,t))}function qe(e,t,r){if(e.tag===3)cm(e,e,r);else for(;t!==null;){if(t.tag===3){cm(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(kn===null||!kn.has(s))){e=ti(r,e),e=Tp(t,e,1),t=_n(t,e,1),e=Nt(),t!==null&&(va(t,1,e),Dt(t,e));break}}t=t.return}}function Bb(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=Nt(),e.pingedLanes|=e.suspendedLanes&r,ct===e&&(mt&r)===r&&(at===4||at===3&&(mt&130023424)===mt&&500>Ke()-Ru?Qn(e,0):Iu|=r),Dt(e,t)}function Kp(e,t){t===0&&(e.mode&1?(t=eo,eo<<=1,!(eo&130023424)&&(eo=4194304)):t=1);var r=Nt();e=en(e,t),e!==null&&(va(e,t,r),Dt(e,r))}function Fb(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Kp(e,r)}function Wb(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(V(314))}s!==null&&s.delete(t),Kp(e,r)}var Qp;Qp=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Lt.current)Tt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Tt=!1,Pb(e,t,r);Tt=!!(e.flags&131072)}else Tt=!1,Fe&&t.flags&1048576&&rp(t,Uo,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;jo(e,t),e=t.pendingProps;var a=Ks(t,bt.current);Vs(t,r),a=Eu(null,t,s,e,a,r);var l=Tu();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ot(s)?(l=!0,Zo(t)):l=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Nu(t),a.updater=yl,t.stateNode=a,a._reactInternals=t,Md(t,s,e,r),t=Ld(null,t,s,!0,l,r)):(t.tag=0,Fe&&l&&vu(t),kt(null,t,a,r),t=t.child),t;case 16:s=t.elementType;e:{switch(jo(e,t),e=t.pendingProps,a=s._init,s=a(s._payload),t.type=s,a=t.tag=Zb(s),e=dr(s,e),a){case 0:t=Td(null,t,s,e,r);break e;case 1:t=Xf(null,t,s,e,r);break e;case 11:t=Kf(null,t,s,e,r);break e;case 14:t=Qf(null,t,s,dr(s.type,e),r);break e}throw Error(V(306,s,""))}return t;case 0:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:dr(s,a),Td(e,t,s,a,r);case 1:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:dr(s,a),Xf(e,t,s,a,r);case 3:e:{if(zp(t),e===null)throw Error(V(387));s=t.pendingProps,l=t.memoizedState,a=l.element,lp(e,t),qo(t,s,null,r);var d=t.memoizedState;if(s=d.element,l.isDehydrated)if(l={element:s,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){a=ti(Error(V(423)),t),t=em(e,t,s,r,a);break e}else if(s!==a){a=ti(Error(V(424)),t),t=em(e,t,s,r,a);break e}else for(At=wn(t.stateNode.containerInfo.firstChild),Bt=t,Fe=!0,hr=null,r=ap(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Qs(),s===a){t=tn(e,t,r);break e}kt(e,t,s,r)}t=t.child}return t;case 5:return cp(t),e===null&&Sd(t),s=t.type,a=t.pendingProps,l=e!==null?e.memoizedProps:null,d=a.children,wd(s,a)?d=null:l!==null&&wd(s,l)&&(t.flags|=32),Dp(e,t),kt(e,t,d,r),t.child;case 6:return e===null&&Sd(t),null;case 13:return Ip(e,t,r);case 4:return Su(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Xs(t,null,s,r):kt(e,t,s,r),t.child;case 11:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:dr(s,a),Kf(e,t,s,a,r);case 7:return kt(e,t,t.pendingProps,r),t.child;case 8:return kt(e,t,t.pendingProps.children,r),t.child;case 12:return kt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,a=t.pendingProps,l=t.memoizedProps,d=a.value,Ie(Vo,s._currentValue),s._currentValue=d,l!==null)if(gr(l.value,d)){if(l.children===a.children&&!Lt.current){t=tn(e,t,r);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var u=l.dependencies;if(u!==null){d=l.child;for(var f=u.firstContext;f!==null;){if(f.context===s){if(l.tag===1){f=Jr(-1,r&-r),f.tag=2;var m=l.updateQueue;if(m!==null){m=m.shared;var v=m.pending;v===null?f.next=f:(f.next=v.next,v.next=f),m.pending=f}}l.lanes|=r,f=l.alternate,f!==null&&(f.lanes|=r),Cd(l.return,r,t),u.lanes|=r;break}f=f.next}}else if(l.tag===10)d=l.type===t.type?null:l.child;else if(l.tag===18){if(d=l.return,d===null)throw Error(V(341));d.lanes|=r,u=d.alternate,u!==null&&(u.lanes|=r),Cd(d,r,t),d=l.sibling}else d=l.child;if(d!==null)d.return=l;else for(d=l;d!==null;){if(d===t){d=null;break}if(l=d.sibling,l!==null){l.return=d.return,d=l;break}d=d.return}l=d}kt(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,s=t.pendingProps.children,Vs(t,r),a=er(a),s=s(a),t.flags|=1,kt(e,t,s,r),t.child;case 14:return s=t.type,a=dr(s,t.pendingProps),a=dr(s.type,a),Qf(e,t,s,a,r);case 15:return Lp(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:dr(s,a),jo(e,t),t.tag=1,Ot(s)?(e=!0,Zo(t)):e=!1,Vs(t,r),Mp(t,s,a),Md(t,s,a,r),Ld(null,t,s,!0,e,r);case 19:return Rp(e,t,r);case 22:return Op(e,t,r)}throw Error(V(156,t.tag))};function Xp(e,t){return S0(e,t)}function $b(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qt(e,t,r,s){return new $b(e,t,r,s)}function Wu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zb(e){if(typeof e=="function")return Wu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===au)return 11;if(e===ou)return 14}return 2}function Nn(e,t){var r=e.alternate;return r===null?(r=Qt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Co(e,t,r,s,a,l){var d=2;if(s=e,typeof e=="function")Wu(e)&&(d=1);else if(typeof e=="string")d=5;else e:switch(e){case Es:return Xn(r.children,a,l,t);case iu:d=8,a|=8;break;case Xc:return e=Qt(12,r,t,a|2),e.elementType=Xc,e.lanes=l,e;case ed:return e=Qt(13,r,t,a),e.elementType=ed,e.lanes=l,e;case td:return e=Qt(19,r,t,a),e.elementType=td,e.lanes=l,e;case c0:return _l(r,a,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case o0:d=10;break e;case l0:d=9;break e;case au:d=11;break e;case ou:d=14;break e;case dn:d=16,s=null;break e}throw Error(V(130,e==null?e:typeof e,""))}return t=Qt(d,r,t,a),t.elementType=e,t.type=s,t.lanes=l,t}function Xn(e,t,r,s){return e=Qt(7,e,s,t),e.lanes=r,e}function _l(e,t,r,s){return e=Qt(22,e,s,t),e.elementType=c0,e.lanes=r,e.stateNode={isHidden:!1},e}function Rc(e,t,r){return e=Qt(6,e,null,t),e.lanes=r,e}function Ac(e,t,r){return t=Qt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Hb(e,t,r,s,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vc(0),this.expirationTimes=vc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vc(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function $u(e,t,r,s,a,l,d,u,f){return e=new Hb(e,t,r,u,f),t===1?(t=1,l===!0&&(t|=8)):t=0,l=Qt(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Nu(l),e}function Ub(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ms,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function eg(e){if(!e)return Pn;e=e._reactInternals;e:{if(ls(e)!==e||e.tag!==1)throw Error(V(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ot(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(V(171))}if(e.tag===1){var r=e.type;if(Ot(r))return ep(e,r,t)}return t}function tg(e,t,r,s,a,l,d,u,f){return e=$u(r,s,!0,e,a,l,d,u,f),e.context=eg(null),r=e.current,s=Nt(),a=jn(r),l=Jr(s,a),l.callback=t??null,_n(r,l,a),e.current.lanes=a,va(e,a,s),Dt(e,s),e}function kl(e,t,r,s){var a=t.current,l=Nt(),d=jn(a);return r=eg(r),t.context===null?t.context=r:t.pendingContext=r,t=Jr(l,d),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=_n(a,t,d),e!==null&&(pr(e,a,d,l),wo(e,a,d)),d}function rl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function dm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Zu(e,t){dm(e,t),(e=e.alternate)&&dm(e,t)}function Vb(){return null}var rg=typeof reportError=="function"?reportError:function(e){console.error(e)};function Hu(e){this._internalRoot=e}jl.prototype.render=Hu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(V(409));kl(e,t,null,null)};jl.prototype.unmount=Hu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ss(function(){kl(null,e,null,null)}),t[Xr]=null}};function jl(e){this._internalRoot=e}jl.prototype.unstable_scheduleHydration=function(e){if(e){var t=O0();e={blockedOn:null,target:e,priority:t};for(var r=0;r<hn.length&&t!==0&&t<hn[r].priority;r++);hn.splice(r,0,e),r===0&&z0(e)}};function Uu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Nl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function um(){}function Yb(e,t,r,s,a){if(a){if(typeof s=="function"){var l=s;s=function(){var m=rl(d);l.call(m)}}var d=tg(t,s,e,0,null,!1,!1,"",um);return e._reactRootContainer=d,e[Xr]=d.current,sa(e.nodeType===8?e.parentNode:e),ss(),d}for(;a=e.lastChild;)e.removeChild(a);if(typeof s=="function"){var u=s;s=function(){var m=rl(f);u.call(m)}}var f=$u(e,0,!1,null,null,!1,!1,"",um);return e._reactRootContainer=f,e[Xr]=f.current,sa(e.nodeType===8?e.parentNode:e),ss(function(){kl(t,f,r,s)}),f}function Sl(e,t,r,s,a){var l=r._reactRootContainer;if(l){var d=l;if(typeof a=="function"){var u=a;a=function(){var f=rl(d);u.call(f)}}kl(t,d,e,a)}else d=Yb(r,t,e,a,s);return rl(d)}T0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ri(t.pendingLanes);r!==0&&(du(t,r|1),Dt(t,Ke()),!(je&6)&&(ri=Ke()+500,Tn()))}break;case 13:ss(function(){var s=en(e,1);if(s!==null){var a=Nt();pr(s,e,1,a)}}),Zu(e,1)}};uu=function(e){if(e.tag===13){var t=en(e,134217728);if(t!==null){var r=Nt();pr(t,e,134217728,r)}Zu(e,134217728)}};L0=function(e){if(e.tag===13){var t=jn(e),r=en(e,t);if(r!==null){var s=Nt();pr(r,e,t,s)}Zu(e,t)}};O0=function(){return Te};D0=function(e,t){var r=Te;try{return Te=e,t()}finally{Te=r}};ud=function(e,t,r){switch(t){case"input":if(sd(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var a=gl(s);if(!a)throw Error(V(90));u0(s),sd(s,a)}}}break;case"textarea":f0(e,r);break;case"select":t=r.value,t!=null&&$s(e,!!r.multiple,t,!1)}};b0=Au;w0=ss;var qb={usingClientEntryPoint:!1,Events:[ba,Ds,gl,v0,y0,Au]},Oi={findFiberByHostInstance:qn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Gb={bundleType:Oi.bundleType,version:Oi.version,rendererPackageName:Oi.rendererPackageName,rendererConfig:Oi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:nn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=j0(e),e===null?null:e.stateNode},findFiberByHostInstance:Oi.findFiberByHostInstance||Vb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ho=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ho.isDisabled&&ho.supportsFiber)try{hl=ho.inject(Gb),Lr=ho}catch{}}$t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qb;$t.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Uu(t))throw Error(V(200));return Ub(e,t,null,r)};$t.createRoot=function(e,t){if(!Uu(e))throw Error(V(299));var r=!1,s="",a=rg;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=$u(e,1,!1,null,null,r,!1,s,a),e[Xr]=t.current,sa(e.nodeType===8?e.parentNode:e),new Hu(t)};$t.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(V(188)):(e=Object.keys(e).join(","),Error(V(268,e)));return e=j0(t),e=e===null?null:e.stateNode,e};$t.flushSync=function(e){return ss(e)};$t.hydrate=function(e,t,r){if(!Nl(t))throw Error(V(200));return Sl(null,e,t,!0,r)};$t.hydrateRoot=function(e,t,r){if(!Uu(e))throw Error(V(405));var s=r!=null&&r.hydratedSources||null,a=!1,l="",d=rg;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onRecoverableError!==void 0&&(d=r.onRecoverableError)),t=tg(t,null,e,1,r??null,a,!1,l,d),e[Xr]=t.current,sa(e),s)for(e=0;e<s.length;e++)r=s[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new jl(t)};$t.render=function(e,t,r){if(!Nl(t))throw Error(V(200));return Sl(null,e,t,!1,r)};$t.unmountComponentAtNode=function(e){if(!Nl(e))throw Error(V(40));return e._reactRootContainer?(ss(function(){Sl(null,null,e,!1,function(){e._reactRootContainer=null,e[Xr]=null})}),!0):!1};$t.unstable_batchedUpdates=Au;$t.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!Nl(r))throw Error(V(200));if(e==null||e._reactInternals===void 0)throw Error(V(38));return Sl(e,t,r,!1,s)};$t.version="18.3.1-next-f1338f8080-20240426";function ng(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ng)}catch(e){console.error(e)}}ng(),n0.exports=$t;var sg=n0.exports,ig,hm=sg;ig=hm.createRoot,hm.hydrateRoot;/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var fm="popstate";function Jb(e={}){function t(s,a){let{pathname:l,search:d,hash:u}=s.location;return Hd("",{pathname:l,search:d,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(s,a){return typeof a=="string"?a:fa(a)}return Qb(t,r,null,e)}function We(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function xr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Kb(){return Math.random().toString(36).substring(2,10)}function mm(e,t){return{usr:e.state,key:e.key,idx:t}}function Hd(e,t,r=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?li(t):t,state:r,key:t&&t.key||s||Kb()}}function fa({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function li(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function Qb(e,t,r,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,d=a.history,u="POP",f=null,m=v();m==null&&(m=0,d.replaceState({...d.state,idx:m},""));function v(){return(d.state||{idx:null}).idx}function g(){u="POP";let C=v(),b=C==null?null:C-m;m=C,f&&f({action:u,location:N.location,delta:b})}function y(C,b){u="PUSH";let k=Hd(N.location,C,b);m=v()+1;let x=mm(k,m),E=N.createHref(k);try{d.pushState(x,"",E)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;a.location.assign(E)}l&&f&&f({action:u,location:N.location,delta:1})}function j(C,b){u="REPLACE";let k=Hd(N.location,C,b);m=v();let x=mm(k,m),E=N.createHref(k);d.replaceState(x,"",E),l&&f&&f({action:u,location:N.location,delta:0})}function S(C){return Xb(C)}let N={get action(){return u},get location(){return e(a,d)},listen(C){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(fm,g),f=C,()=>{a.removeEventListener(fm,g),f=null}},createHref(C){return t(a,C)},createURL:S,encodeLocation(C){let b=S(C);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:y,replace:j,go(C){return d.go(C)}};return N}function Xb(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),We(r,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:fa(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=r+s),new URL(s,r)}function ag(e,t,r="/"){return ew(e,t,r,!1)}function ew(e,t,r,s){let a=typeof t=="string"?li(t):t,l=rn(a.pathname||"/",r);if(l==null)return null;let d=og(e);tw(d);let u=null;for(let f=0;u==null&&f<d.length;++f){let m=hw(l);u=dw(d[f],m,s)}return u}function og(e,t=[],r=[],s="",a=!1){let l=(d,u,f=a,m)=>{let v={relativePath:m===void 0?d.path||"":m,caseSensitive:d.caseSensitive===!0,childrenIndex:u,route:d};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&f)return;We(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let g=Kr([s,v.relativePath]),y=r.concat(v);d.children&&d.children.length>0&&(We(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),og(d.children,t,y,g,f)),!(d.path==null&&!d.index)&&t.push({path:g,score:lw(g,d.index),routesMeta:y})};return e.forEach((d,u)=>{var f;if(d.path===""||!((f=d.path)!=null&&f.includes("?")))l(d,u);else for(let m of lg(d.path))l(d,u,!0,m)}),t}function lg(e){let t=e.split("/");if(t.length===0)return[];let[r,...s]=t,a=r.endsWith("?"),l=r.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let d=lg(s.join("/")),u=[];return u.push(...d.map(f=>f===""?l:[l,f].join("/"))),a&&u.push(...d),u.map(f=>e.startsWith("/")&&f===""?"/":f)}function tw(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:cw(t.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}var rw=/^:[\w-]+$/,nw=3,sw=2,iw=1,aw=10,ow=-2,pm=e=>e==="*";function lw(e,t){let r=e.split("/"),s=r.length;return r.some(pm)&&(s+=ow),t&&(s+=sw),r.filter(a=>!pm(a)).reduce((a,l)=>a+(rw.test(l)?nw:l===""?iw:aw),s)}function cw(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function dw(e,t,r=!1){let{routesMeta:s}=e,a={},l="/",d=[];for(let u=0;u<s.length;++u){let f=s[u],m=u===s.length-1,v=l==="/"?t:t.slice(l.length)||"/",g=nl({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},v),y=f.route;if(!g&&m&&r&&!s[s.length-1].route.index&&(g=nl({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},v)),!g)return null;Object.assign(a,g.params),d.push({params:a,pathname:Kr([l,g.pathname]),pathnameBase:gw(Kr([l,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(l=Kr([l,g.pathnameBase]))}return d}function nl(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,s]=uw(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let l=a[0],d=l.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:s.reduce((m,{paramName:v,isOptional:g},y)=>{if(v==="*"){let S=u[y]||"";d=l.slice(0,l.length-S.length).replace(/(.)\/+$/,"$1")}const j=u[y];return g&&!j?m[v]=void 0:m[v]=(j||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:d,pattern:e}}function uw(e,t=!1,r=!0){xr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,u,f)=>(s.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function hw(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return xr(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function rn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=e.charAt(r);return s&&s!=="/"?null:e.slice(r)||"/"}function fw(e,t="/"){let{pathname:r,search:s="",hash:a=""}=typeof e=="string"?li(e):e;return{pathname:r?r.startsWith("/")?r:mw(r,t):t,search:xw(s),hash:vw(a)}}function mw(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Bc(e,t,r,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function pw(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Vu(e){let t=pw(e);return t.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase)}function Yu(e,t,r,s=!1){let a;typeof e=="string"?a=li(e):(a={...e},We(!a.pathname||!a.pathname.includes("?"),Bc("?","pathname","search",a)),We(!a.pathname||!a.pathname.includes("#"),Bc("#","pathname","hash",a)),We(!a.search||!a.search.includes("#"),Bc("#","search","hash",a)));let l=e===""||a.pathname==="",d=l?"/":a.pathname,u;if(d==null)u=r;else{let g=t.length-1;if(!s&&d.startsWith("..")){let y=d.split("/");for(;y[0]==="..";)y.shift(),g-=1;a.pathname=y.join("/")}u=g>=0?t[g]:"/"}let f=fw(a,u),m=d&&d!=="/"&&d.endsWith("/"),v=(l||d===".")&&r.endsWith("/");return!f.pathname.endsWith("/")&&(m||v)&&(f.pathname+="/"),f}var Kr=e=>e.join("/").replace(/\/\/+/g,"/"),gw=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),xw=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,vw=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function yw(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var cg=["POST","PUT","PATCH","DELETE"];new Set(cg);var bw=["GET",...cg];new Set(bw);var ci=w.createContext(null);ci.displayName="DataRouter";var Cl=w.createContext(null);Cl.displayName="DataRouterState";w.createContext(!1);var dg=w.createContext({isTransitioning:!1});dg.displayName="ViewTransition";var ww=w.createContext(new Map);ww.displayName="Fetchers";var _w=w.createContext(null);_w.displayName="Await";var yr=w.createContext(null);yr.displayName="Navigation";var _a=w.createContext(null);_a.displayName="Location";var br=w.createContext({outlet:null,matches:[],isDataRoute:!1});br.displayName="Route";var qu=w.createContext(null);qu.displayName="RouteError";function kw(e,{relative:t}={}){We(di(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:s}=w.useContext(yr),{hash:a,pathname:l,search:d}=ka(e,{relative:t}),u=l;return r!=="/"&&(u=l==="/"?r:Kr([r,l])),s.createHref({pathname:u,search:d,hash:a})}function di(){return w.useContext(_a)!=null}function sn(){return We(di(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(_a).location}var ug="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function hg(e){w.useContext(yr).static||w.useLayoutEffect(e)}function zr(){let{isDataRoute:e}=w.useContext(br);return e?Iw():jw()}function jw(){We(di(),"useNavigate() may be used only in the context of a <Router> component.");let e=w.useContext(ci),{basename:t,navigator:r}=w.useContext(yr),{matches:s}=w.useContext(br),{pathname:a}=sn(),l=JSON.stringify(Vu(s)),d=w.useRef(!1);return hg(()=>{d.current=!0}),w.useCallback((f,m={})=>{if(xr(d.current,ug),!d.current)return;if(typeof f=="number"){r.go(f);return}let v=Yu(f,JSON.parse(l),a,m.relative==="path");e==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:Kr([t,v.pathname])),(m.replace?r.replace:r.push)(v,m.state,m)},[t,r,l,a,e])}w.createContext(null);function fg(){let{matches:e}=w.useContext(br),t=e[e.length-1];return t?t.params:{}}function ka(e,{relative:t}={}){let{matches:r}=w.useContext(br),{pathname:s}=sn(),a=JSON.stringify(Vu(r));return w.useMemo(()=>Yu(e,JSON.parse(a),s,t==="path"),[e,a,s,t])}function Nw(e,t){return mg(e,t)}function mg(e,t,r,s,a){var k;We(di(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=w.useContext(yr),{matches:d}=w.useContext(br),u=d[d.length-1],f=u?u.params:{},m=u?u.pathname:"/",v=u?u.pathnameBase:"/",g=u&&u.route;{let x=g&&g.path||"";pg(m,!g||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let y=sn(),j;if(t){let x=typeof t=="string"?li(t):t;We(v==="/"||((k=x.pathname)==null?void 0:k.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${x.pathname}" was given in the \`location\` prop.`),j=x}else j=y;let S=j.pathname||"/",N=S;if(v!=="/"){let x=v.replace(/^\//,"").split("/");N="/"+S.replace(/^\//,"").split("/").slice(x.length).join("/")}let C=ag(e,{pathname:N});xr(g||C!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),xr(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=Ew(C&&C.map(x=>Object.assign({},x,{params:Object.assign({},f,x.params),pathname:Kr([v,l.encodeLocation?l.encodeLocation(x.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?v:Kr([v,l.encodeLocation?l.encodeLocation(x.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:x.pathnameBase])})),d,r,s,a);return t&&b?w.createElement(_a.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},b):b}function Sw(){let e=zw(),t=yw(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",e),d=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:l},"ErrorBoundary")," or"," ",w.createElement("code",{style:l},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),r?w.createElement("pre",{style:a},r):null,d)}var Cw=w.createElement(Sw,null),Pw=class extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?w.createElement(br.Provider,{value:this.props.routeContext},w.createElement(qu.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Mw({routeContext:e,match:t,children:r}){let s=w.useContext(ci);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),w.createElement(br.Provider,{value:e},r)}function Ew(e,t=[],r=null,s=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let l=e,d=r==null?void 0:r.errors;if(d!=null){let m=l.findIndex(v=>v.route.id&&(d==null?void 0:d[v.route.id])!==void 0);We(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),l=l.slice(0,Math.min(l.length,m+1))}let u=!1,f=-1;if(r)for(let m=0;m<l.length;m++){let v=l[m];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(f=m),v.route.id){let{loaderData:g,errors:y}=r,j=v.route.loader&&!g.hasOwnProperty(v.route.id)&&(!y||y[v.route.id]===void 0);if(v.route.lazy||j){u=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}return l.reduceRight((m,v,g)=>{let y,j=!1,S=null,N=null;r&&(y=d&&v.route.id?d[v.route.id]:void 0,S=v.route.errorElement||Cw,u&&(f<0&&g===0?(pg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,N=null):f===g&&(j=!0,N=v.route.hydrateFallbackElement||null)));let C=t.concat(l.slice(0,g+1)),b=()=>{let k;return y?k=S:j?k=N:v.route.Component?k=w.createElement(v.route.Component,null):v.route.element?k=v.route.element:k=m,w.createElement(Mw,{match:v,routeContext:{outlet:m,matches:C,isDataRoute:r!=null},children:k})};return r&&(v.route.ErrorBoundary||v.route.errorElement||g===0)?w.createElement(Pw,{location:r.location,revalidation:r.revalidation,component:S,error:y,children:b(),routeContext:{outlet:null,matches:C,isDataRoute:!0},unstable_onError:s}):b()},null)}function Gu(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Tw(e){let t=w.useContext(ci);return We(t,Gu(e)),t}function Lw(e){let t=w.useContext(Cl);return We(t,Gu(e)),t}function Ow(e){let t=w.useContext(br);return We(t,Gu(e)),t}function Ju(e){let t=Ow(e),r=t.matches[t.matches.length-1];return We(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function Dw(){return Ju("useRouteId")}function zw(){var s;let e=w.useContext(qu),t=Lw("useRouteError"),r=Ju("useRouteError");return e!==void 0?e:(s=t.errors)==null?void 0:s[r]}function Iw(){let{router:e}=Tw("useNavigate"),t=Ju("useNavigate"),r=w.useRef(!1);return hg(()=>{r.current=!0}),w.useCallback(async(a,l={})=>{xr(r.current,ug),r.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...l}))},[e,t])}var gm={};function pg(e,t,r){!t&&!gm[e]&&(gm[e]=!0,xr(!1,r))}w.memo(Rw);function Rw({routes:e,future:t,state:r,unstable_onError:s}){return mg(e,void 0,r,s,t)}function Wr({to:e,replace:t,state:r,relative:s}){We(di(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=w.useContext(yr);xr(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=w.useContext(br),{pathname:d}=sn(),u=zr(),f=Yu(e,Vu(l),d,s==="path"),m=JSON.stringify(f);return w.useEffect(()=>{u(JSON.parse(m),{replace:t,state:r,relative:s})},[u,m,s,t,r]),null}function $r(e){We(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Aw({basename:e="/",children:t=null,location:r,navigationType:s="POP",navigator:a,static:l=!1}){We(!di(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=e.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:d,navigator:a,static:l,future:{}}),[d,a,l]);typeof r=="string"&&(r=li(r));let{pathname:f="/",search:m="",hash:v="",state:g=null,key:y="default"}=r,j=w.useMemo(()=>{let S=rn(f,d);return S==null?null:{location:{pathname:S,search:m,hash:v,state:g,key:y},navigationType:s}},[d,f,m,v,g,y,s]);return xr(j!=null,`<Router basename="${d}"> is not able to match the URL "${f}${m}${v}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:w.createElement(yr.Provider,{value:u},w.createElement(_a.Provider,{children:t,value:j}))}function Bw({children:e,location:t}){return Nw(Ud(e),t)}function Ud(e,t=[]){let r=[];return w.Children.forEach(e,(s,a)=>{if(!w.isValidElement(s))return;let l=[...t,a];if(s.type===w.Fragment){r.push.apply(r,Ud(s.props.children,l));return}We(s.type===$r,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),We(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=Ud(s.props.children,l)),r.push(d)}),r}var Po="get",Mo="application/x-www-form-urlencoded";function Pl(e){return e!=null&&typeof e.tagName=="string"}function Fw(e){return Pl(e)&&e.tagName.toLowerCase()==="button"}function Ww(e){return Pl(e)&&e.tagName.toLowerCase()==="form"}function $w(e){return Pl(e)&&e.tagName.toLowerCase()==="input"}function Zw(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Hw(e,t){return e.button===0&&(!t||t==="_self")&&!Zw(e)}var fo=null;function Uw(){if(fo===null)try{new FormData(document.createElement("form"),0),fo=!1}catch{fo=!0}return fo}var Vw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Fc(e){return e!=null&&!Vw.has(e)?(xr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Mo}"`),null):e}function Yw(e,t){let r,s,a,l,d;if(Ww(e)){let u=e.getAttribute("action");s=u?rn(u,t):null,r=e.getAttribute("method")||Po,a=Fc(e.getAttribute("enctype"))||Mo,l=new FormData(e)}else if(Fw(e)||$w(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||u.getAttribute("action");if(s=f?rn(f,t):null,r=e.getAttribute("formmethod")||u.getAttribute("method")||Po,a=Fc(e.getAttribute("formenctype"))||Fc(u.getAttribute("enctype"))||Mo,l=new FormData(u,e),!Uw()){let{name:m,type:v,value:g}=e;if(v==="image"){let y=m?`${m}.`:"";l.append(`${y}x`,"0"),l.append(`${y}y`,"0")}else m&&l.append(m,g)}}else{if(Pl(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Po,s=null,a=Mo,d=e}return l&&a==="text/plain"&&(d=l,l=void 0),{action:s,method:r.toLowerCase(),encType:a,formData:l,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ku(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function qw(e,t,r){let s=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return s.pathname==="/"?s.pathname=`_root.${r}`:t&&rn(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${r}`,s}async function Gw(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Jw(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Kw(e,t,r){let s=await Promise.all(e.map(async a=>{let l=t.routes[a.route.id];if(l){let d=await Gw(l,r);return d.links?d.links():[]}return[]}));return t_(s.flat(1).filter(Jw).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function xm(e,t,r,s,a,l){let d=(f,m)=>r[m]?f.route.id!==r[m].route.id:!0,u=(f,m)=>{var v;return r[m].pathname!==f.pathname||((v=r[m].route.path)==null?void 0:v.endsWith("*"))&&r[m].params["*"]!==f.params["*"]};return l==="assets"?t.filter((f,m)=>d(f,m)||u(f,m)):l==="data"?t.filter((f,m)=>{var g;let v=s.routes[f.route.id];if(!v||!v.hasLoader)return!1;if(d(f,m)||u(f,m))return!0;if(f.route.shouldRevalidate){let y=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((g=r[0])==null?void 0:g.params)||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function Qw(e,t,{includeHydrateFallback:r}={}){return Xw(e.map(s=>{let a=t.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function Xw(e){return[...new Set(e)]}function e_(e){let t={},r=Object.keys(e).sort();for(let s of r)t[s]=e[s];return t}function t_(e,t){let r=new Set;return new Set(t),e.reduce((s,a)=>{let l=JSON.stringify(e_(a));return r.has(l)||(r.add(l),s.push({key:l,link:a})),s},[])}function gg(){let e=w.useContext(ci);return Ku(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function r_(){let e=w.useContext(Cl);return Ku(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Qu=w.createContext(void 0);Qu.displayName="FrameworkContext";function xg(){let e=w.useContext(Qu);return Ku(e,"You must render this element inside a <HydratedRouter> element"),e}function n_(e,t){let r=w.useContext(Qu),[s,a]=w.useState(!1),[l,d]=w.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:m,onMouseLeave:v,onTouchStart:g}=t,y=w.useRef(null);w.useEffect(()=>{if(e==="render"&&d(!0),e==="viewport"){let N=b=>{b.forEach(k=>{d(k.isIntersecting)})},C=new IntersectionObserver(N,{threshold:.5});return y.current&&C.observe(y.current),()=>{C.disconnect()}}},[e]),w.useEffect(()=>{if(s){let N=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(N)}}},[s]);let j=()=>{a(!0)},S=()=>{a(!1),d(!1)};return r?e!=="intent"?[l,y,{}]:[l,y,{onFocus:Di(u,j),onBlur:Di(f,S),onMouseEnter:Di(m,j),onMouseLeave:Di(v,S),onTouchStart:Di(g,j)}]:[!1,y,{}]}function Di(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function s_({page:e,...t}){let{router:r}=gg(),s=w.useMemo(()=>ag(r.routes,e,r.basename),[r.routes,e,r.basename]);return s?w.createElement(a_,{page:e,matches:s,...t}):null}function i_(e){let{manifest:t,routeModules:r}=xg(),[s,a]=w.useState([]);return w.useEffect(()=>{let l=!1;return Kw(e,t,r).then(d=>{l||a(d)}),()=>{l=!0}},[e,t,r]),s}function a_({page:e,matches:t,...r}){let s=sn(),{manifest:a,routeModules:l}=xg(),{basename:d}=gg(),{loaderData:u,matches:f}=r_(),m=w.useMemo(()=>xm(e,t,f,a,s,"data"),[e,t,f,a,s]),v=w.useMemo(()=>xm(e,t,f,a,s,"assets"),[e,t,f,a,s]),g=w.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let S=new Set,N=!1;if(t.forEach(b=>{var x;let k=a.routes[b.route.id];!k||!k.hasLoader||(!m.some(E=>E.route.id===b.route.id)&&b.route.id in u&&((x=l[b.route.id])!=null&&x.shouldRevalidate)||k.hasClientLoader?N=!0:S.add(b.route.id))}),S.size===0)return[];let C=qw(e,d,"data");return N&&S.size>0&&C.searchParams.set("_routes",t.filter(b=>S.has(b.route.id)).map(b=>b.route.id).join(",")),[C.pathname+C.search]},[d,u,s,a,m,t,e,l]),y=w.useMemo(()=>Qw(v,a),[v,a]),j=i_(v);return w.createElement(w.Fragment,null,g.map(S=>w.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...r})),y.map(S=>w.createElement("link",{key:S,rel:"modulepreload",href:S,...r})),j.map(({key:S,link:N})=>w.createElement("link",{key:S,nonce:r.nonce,...N})))}function o_(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var vg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{vg&&(window.__reactRouterVersion="7.9.4")}catch{}function l_({basename:e,children:t,window:r}){let s=w.useRef();s.current==null&&(s.current=Jb({window:r,v5Compat:!0}));let a=s.current,[l,d]=w.useState({action:a.action,location:a.location}),u=w.useCallback(f=>{w.startTransition(()=>d(f))},[d]);return w.useLayoutEffect(()=>a.listen(u),[a,u]),w.createElement(Aw,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:a})}var yg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bg=w.forwardRef(function({onClick:t,discover:r="render",prefetch:s="none",relative:a,reloadDocument:l,replace:d,state:u,target:f,to:m,preventScrollReset:v,viewTransition:g,...y},j){let{basename:S}=w.useContext(yr),N=typeof m=="string"&&yg.test(m),C,b=!1;if(typeof m=="string"&&N&&(C=m,vg))try{let Y=new URL(window.location.href),J=m.startsWith("//")?new URL(Y.protocol+m):new URL(m),q=rn(J.pathname,S);J.origin===Y.origin&&q!=null?m=q+J.search+J.hash:b=!0}catch{xr(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=kw(m,{relative:a}),[x,E,O]=n_(s,y),M=h_(m,{replace:d,state:u,target:f,preventScrollReset:v,relative:a,viewTransition:g});function F(Y){t&&t(Y),Y.defaultPrevented||M(Y)}let A=w.createElement("a",{...y,...O,href:C||k,onClick:b||l?t:F,ref:o_(j,E),target:f,"data-discover":!N&&r==="render"?"true":void 0});return x&&!N?w.createElement(w.Fragment,null,A,w.createElement(s_,{page:k})):A});bg.displayName="Link";var c_=w.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:s="",end:a=!1,style:l,to:d,viewTransition:u,children:f,...m},v){let g=ka(d,{relative:m.relative}),y=sn(),j=w.useContext(Cl),{navigator:S,basename:N}=w.useContext(yr),C=j!=null&&x_(g)&&u===!0,b=S.encodeLocation?S.encodeLocation(g).pathname:g.pathname,k=y.pathname,x=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;r||(k=k.toLowerCase(),x=x?x.toLowerCase():null,b=b.toLowerCase()),x&&N&&(x=rn(x,N)||x);const E=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let O=k===b||!a&&k.startsWith(b)&&k.charAt(E)==="/",M=x!=null&&(x===b||!a&&x.startsWith(b)&&x.charAt(b.length)==="/"),F={isActive:O,isPending:M,isTransitioning:C},A=O?t:void 0,Y;typeof s=="function"?Y=s(F):Y=[s,O?"active":null,M?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let J=typeof l=="function"?l(F):l;return w.createElement(bg,{...m,"aria-current":A,className:Y,ref:v,style:J,to:d,viewTransition:u},typeof f=="function"?f(F):f)});c_.displayName="NavLink";var d_=w.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:s,replace:a,state:l,method:d=Po,action:u,onSubmit:f,relative:m,preventScrollReset:v,viewTransition:g,...y},j)=>{let S=p_(),N=g_(u,{relative:m}),C=d.toLowerCase()==="get"?"get":"post",b=typeof u=="string"&&yg.test(u),k=x=>{if(f&&f(x),x.defaultPrevented)return;x.preventDefault();let E=x.nativeEvent.submitter,O=(E==null?void 0:E.getAttribute("formmethod"))||d;S(E||x.currentTarget,{fetcherKey:t,method:O,navigate:r,replace:a,state:l,relative:m,preventScrollReset:v,viewTransition:g})};return w.createElement("form",{ref:j,method:C,action:N,onSubmit:s?f:k,...y,"data-discover":!b&&e==="render"?"true":void 0})});d_.displayName="Form";function u_(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wg(e){let t=w.useContext(ci);return We(t,u_(e)),t}function h_(e,{target:t,replace:r,state:s,preventScrollReset:a,relative:l,viewTransition:d}={}){let u=zr(),f=sn(),m=ka(e,{relative:l});return w.useCallback(v=>{if(Hw(v,t)){v.preventDefault();let g=r!==void 0?r:fa(f)===fa(m);u(e,{replace:g,state:s,preventScrollReset:a,relative:l,viewTransition:d})}},[f,u,m,r,s,t,e,a,l,d])}var f_=0,m_=()=>`__${String(++f_)}__`;function p_(){let{router:e}=wg("useSubmit"),{basename:t}=w.useContext(yr),r=Dw();return w.useCallback(async(s,a={})=>{let{action:l,method:d,encType:u,formData:f,body:m}=Yw(s,t);if(a.navigate===!1){let v=a.fetcherKey||m_();await e.fetch(v,r,a.action||l,{preventScrollReset:a.preventScrollReset,formData:f,body:m,formMethod:a.method||d,formEncType:a.encType||u,flushSync:a.flushSync})}else await e.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:f,body:m,formMethod:a.method||d,formEncType:a.encType||u,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,r])}function g_(e,{relative:t}={}){let{basename:r}=w.useContext(yr),s=w.useContext(br);We(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...ka(e||".",{relative:t})},d=sn();if(e==null){l.search=d.search;let u=new URLSearchParams(l.search),f=u.getAll("index");if(f.some(v=>v==="")){u.delete("index"),f.filter(g=>g).forEach(g=>u.append("index",g));let v=u.toString();l.search=v?`?${v}`:""}}return(!e||e===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(l.pathname=l.pathname==="/"?r:Kr([r,l.pathname])),fa(l)}function x_(e,{relative:t}={}){let r=w.useContext(dg);We(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=wg("useViewTransitionState"),a=ka(e,{relative:t});if(!r.isTransitioning)return!1;let l=rn(r.currentLocation.pathname,s)||r.currentLocation.pathname,d=rn(r.nextLocation.pathname,s)||r.nextLocation.pathname;return nl(a.pathname,d)!=null||nl(a.pathname,l)!=null}const vm=e=>{let t;const r=new Set,s=(m,v)=>{const g=typeof m=="function"?m(t):m;if(!Object.is(g,t)){const y=t;t=v??(typeof g!="object"||g===null)?g:Object.assign({},t,g),r.forEach(j=>j(t,y))}},a=()=>t,u={setState:s,getState:a,getInitialState:()=>f,subscribe:m=>(r.add(m),()=>r.delete(m))},f=t=e(s,a,u);return u},v_=e=>e?vm(e):vm,y_=e=>e;function b_(e,t=y_){const r=ee.useSyncExternalStore(e.subscribe,ee.useCallback(()=>t(e.getState()),[e,t]),ee.useCallback(()=>t(e.getInitialState()),[e,t]));return ee.useDebugValue(r),r}const ym=e=>{const t=v_(e),r=s=>b_(t,s);return Object.assign(r,t),r},_g=e=>e?ym(e):ym,Wc={},w_=typeof import.meta<"u"&&(Wc==null?void 0:Wc.VITE_API_BASE)||"http://localhost:4000";async function B(e,t){const s=JSON.parse(localStorage.getItem("prestaci-auth")||"{}").token,a={"Content-Type":"application/json"};s&&(a.Authorization=`Bearer ${s}`);const l=await fetch(`${w_}${e}`,{headers:a,credentials:"include",...t});if(!l.ok){if(l.status===401)throw(e.includes("/auth/me")||e.includes("/dashboard"))&&localStorage.removeItem("prestaci-auth"),new Error("UNAUTHORIZED");const d=await l.text();throw new Error(`HTTP ${l.status}: ${d}`)}return l.json()}const G={getCategories:()=>B("/api/categories"),getSubCategories:e=>{const t=e?`?categorie_id=${e}`:"";return B(`/api/sous_categories${t}`)},getPrestataires:e=>{const t=e!=null&&e.ville?`?ville=${encodeURIComponent(e.ville)}`:"";return B(`/api/prestataires${t}`)},getServices:e=>{const t=new URLSearchParams;e!=null&&e.sous_categorie_id&&t.set("sous_categorie_id",String(e.sous_categorie_id)),e!=null&&e.prestataire_id&&t.set("prestataire_id",String(e.prestataire_id));const r=t.toString();return B(`/api/services${r?`?${r}`:""}`)},auth:{register:e=>B("/api/auth/register",{method:"POST",body:JSON.stringify(e)}),login:e=>B("/api/auth/login",{method:"POST",body:JSON.stringify(e)}),me:()=>B("/api/auth/me"),logout:()=>B("/api/auth/logout",{method:"POST"})},prestataires:{setup:e=>B("/api/prestataires/setup",{method:"POST",body:JSON.stringify(e)}),getProfile:()=>B("/api/prestataires/profile"),updateProfile:e=>B("/api/prestataires/profile",{method:"PUT",body:JSON.stringify(e)}),getById:e=>B(`/api/prestataires/${e}`)},subscription:{getPlans:()=>B("/api/subscription/plans"),getCurrent:()=>B("/api/subscription"),start:e=>B("/api/subscription/start",{method:"POST",body:JSON.stringify(e)})},reservations:{list:e=>B(`/api/reservations${e?`?filter=${e}`:""}`),cancel:e=>B(`/api/reservations/${e}/cancel`,{method:"PUT"}),create:e=>B("/api/reservations",{method:"POST",body:JSON.stringify(e)})},publications:{list:e=>B(`/api/publications${e?"?mine=1":""}`),create:e=>B("/api/publications",{method:"POST",body:JSON.stringify(e)}),like:e=>B(`/api/publications/${e}/like`,{method:"POST"}),unlike:e=>B(`/api/publications/${e}/like`,{method:"DELETE"}),getComments:e=>B(`/api/publications/${e}/comments`),addComment:(e,t)=>B(`/api/publications/${e}/comments`,{method:"POST",body:JSON.stringify({contenu:t})})},favorites:{listProviders:()=>B("/api/favorites/providers"),addProvider:e=>B(`/api/favorites/providers/${e}`,{method:"POST"}),removeProvider:e=>B(`/api/favorites/providers/${e}`,{method:"DELETE"}),listServices:()=>B("/api/favorites/services"),addService:e=>B(`/api/favorites/services/${e}`,{method:"POST"}),removeService:e=>B(`/api/favorites/services/${e}`,{method:"DELETE"}),listPublications:()=>B("/api/favorites/publications"),addPublication:e=>B(`/api/favorites/publications/${e}`,{method:"POST"}),removePublication:e=>B(`/api/favorites/publications/${e}`,{method:"DELETE"})},users:{getMe:()=>B("/api/users/me"),updateMe:e=>B("/api/users/me",{method:"PUT",body:JSON.stringify(e)})},dashboard:{getStats:()=>B("/api/dashboard/stats"),getRecentReservations:e=>{const t=e?`?limit=${e}`:"";return B(`/api/dashboard/recent-reservations${t}`)}},services:{list:()=>B("/api/services/my-services"),getById:e=>B(`/api/services/${e}`),create:e=>B("/api/services",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>B(`/api/services/${e}`,{method:"PUT",body:JSON.stringify(t)}),delete:e=>B(`/api/services/${e}`,{method:"DELETE"}),toggleStatus:e=>B(`/api/services/${e}/toggle`,{method:"PUT"})},prestataireReservations:{list:e=>{const t=e?`?filter=${e}`:"";return B(`/api/prestataire/reservations${t}`)},accept:e=>B(`/api/prestataire/reservations/${e}/accept`,{method:"PUT"}),reject:(e,t)=>B(`/api/prestataire/reservations/${e}/reject`,{method:"PUT",body:JSON.stringify({motif:t})}),complete:e=>B(`/api/prestataire/reservations/${e}/complete`,{method:"PUT"})},pushTokens:{register:e=>B("/api/push-tokens",{method:"POST",body:JSON.stringify(e)}),list:()=>B("/api/push-tokens"),toggle:e=>B(`/api/push-tokens/${e}/toggle`,{method:"PUT"}),delete:e=>B(`/api/push-tokens/${e}`,{method:"DELETE"}),cleanup:()=>B("/api/push-tokens/cleanup",{method:"POST"})},notifications:{list:e=>{const t=new URLSearchParams;e!=null&&e.limit&&t.append("limit",e.limit.toString()),e!=null&&e.unread&&t.append("unread","true");const r=t.toString();return B(`/api/notifications${r?"?"+r:""}`)},getUnreadCount:()=>B("/api/notifications/count"),markAsRead:e=>B(`/api/notifications/${e}/read`,{method:"PUT"}),markAllAsRead:()=>B("/api/notifications/read-all",{method:"PUT"}),delete:e=>B(`/api/notifications/${e}`,{method:"DELETE"}),createTest:()=>B("/api/notifications/test",{method:"POST"}),cleanup:e=>B("/api/notifications/cleanup",{method:"POST",body:JSON.stringify({days:e||30})})},admin:{getSettings:()=>B("/api/admin/settings"),updateSetting:(e,t,r)=>B(`/api/admin/settings/${e}`,{method:"PUT",body:JSON.stringify({value:t,description:r})}),deleteSetting:e=>B(`/api/admin/settings/${e}`,{method:"DELETE"}),resetSettings:()=>B("/api/admin/settings/reset",{method:"POST"}),getStats:()=>B("/api/admin/stats"),getUsers:e=>{const t=new URLSearchParams;e!=null&&e.role&&t.append("role",e.role),e!=null&&e.search&&t.append("search",e.search),e!=null&&e.page&&t.append("page",e.page.toString()),e!=null&&e.limit&&t.append("limit",e.limit.toString());const r=t.toString();return B(`/api/admin/users${r?"?"+r:""}`)},toggleUserStatus:e=>B(`/api/admin/users/${e}/toggle-status`,{method:"PUT"}),deleteUser:e=>B(`/api/admin/users/${e}`,{method:"DELETE"}),getWaveTransactions:e=>{const t=new URLSearchParams;e!=null&&e.statut&&t.append("statut",e.statut),e!=null&&e.page&&t.append("page",e.page.toString()),e!=null&&e.limit&&t.append("limit",e.limit.toString());const r=t.toString();return B(`/api/admin/wave-transactions${r?"?"+r:""}`)},validateWaveTransaction:e=>B(`/api/admin/wave-transactions/${e}/validate`,{method:"PUT"}),rejectWaveTransaction:(e,t)=>B(`/api/admin/wave-transactions/${e}/reject`,{method:"PUT",body:JSON.stringify({motif_rejet:t})}),services:{getAll:e=>{const t=new URLSearchParams;e!=null&&e.status&&t.append("status",e.status),e!=null&&e.search&&t.append("search",e.search),e!=null&&e.page&&t.append("page",e.page.toString()),e!=null&&e.limit&&t.append("limit",e.limit.toString());const r=t.toString();return B(`/api/admin/services${r?"?"+r:""}`)},getById:e=>B(`/api/admin/services/${e}`),updateStatus:(e,t,r)=>B(`/api/admin/services/${e}/status`,{method:"PUT",body:JSON.stringify({is_active:t,reason:r})}),delete:(e,t)=>B(`/api/admin/services/${e}`,{method:"DELETE",body:JSON.stringify({reason:t})}),getStats:()=>B("/api/admin/services/stats/overview")},categories:{getAll:e=>B(`/api/admin/categories${e?"?include_inactive=true":""}`),getById:e=>B(`/api/admin/categories/${e}`),create:e=>B("/api/admin/categories",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>B(`/api/admin/categories/${e}`,{method:"PUT",body:JSON.stringify(t)}),delete:e=>B(`/api/admin/categories/${e}`,{method:"DELETE"}),getSubCategories:e=>{const t=new URLSearchParams;e!=null&&e.categorie_id&&t.append("categorie_id",e.categorie_id.toString()),e!=null&&e.include_inactive&&t.append("include_inactive","true");const r=t.toString();return B(`/api/admin/categories/subcategories/all${r?"?"+r:""}`)},createSubCategory:(e,t)=>B(`/api/admin/categories/${e}/subcategories`,{method:"POST",body:JSON.stringify(t)}),updateSubCategory:(e,t)=>B(`/api/admin/categories/subcategories/${e}`,{method:"PUT",body:JSON.stringify(t)}),deleteSubCategory:e=>B(`/api/admin/categories/subcategories/${e}`,{method:"DELETE"})},reservations:{getAll:e=>{const t=new URLSearchParams;Object.entries(e||{}).forEach(([s,a])=>{a&&t.append(s,a.toString())});const r=t.toString();return B(`/api/admin/reservations${r?"?"+r:""}`)},getById:e=>B(`/api/admin/reservations/${e}`),updateStatus:(e,t,r)=>B(`/api/admin/reservations/${e}/status`,{method:"PUT",body:JSON.stringify({statut:t,reason:r})}),delete:(e,t)=>B(`/api/admin/reservations/${e}`,{method:"DELETE",body:JSON.stringify({reason:t})}),getStats:()=>B("/api/admin/reservations/stats/overview"),getConflicts:()=>B("/api/admin/reservations/conflicts")},avis:{getAll:e=>{const t=new URLSearchParams;Object.entries(e||{}).forEach(([s,a])=>{a&&t.append(s,a.toString())});const r=t.toString();return B(`/api/admin/avis${r?"?"+r:""}`)},getById:e=>B(`/api/admin/avis/${e}`),moderate:(e,t,r)=>B(`/api/admin/avis/${e}/moderate`,{method:"PUT",body:JSON.stringify({is_approved:t,reason:r})}),delete:(e,t)=>B(`/api/admin/avis/${e}`,{method:"DELETE",body:JSON.stringify({reason:t})}),bulkModerate:(e,t,r)=>B("/api/admin/avis/bulk-moderate",{method:"POST",body:JSON.stringify({avis_ids:e,is_approved:t,reason:r})}),getStats:()=>B("/api/admin/avis/stats/overview")},notifications:{getAll:e=>{const t=new URLSearchParams;Object.entries(e||{}).forEach(([s,a])=>{a&&t.append(s,a.toString())});const r=t.toString();return B(`/api/admin/notifications${r?"?"+r:""}`)},broadcast:e=>B("/api/admin/notifications/broadcast",{method:"POST",body:JSON.stringify(e)}),targeted:e=>B("/api/admin/notifications/targeted",{method:"POST",body:JSON.stringify(e)}),delete:e=>B(`/api/admin/notifications/${e}`,{method:"DELETE"}),bulkDelete:e=>B("/api/admin/notifications/bulk-delete",{method:"POST",body:JSON.stringify({notification_ids:e})}),getStats:()=>B("/api/admin/notifications/stats/overview"),getTemplates:()=>B("/api/admin/notifications/templates"),sendFromTemplate:e=>B("/api/admin/notifications/template",{method:"POST",body:JSON.stringify(e)})},statistics:{getOverview:e=>{const t=e?`?period=${e}`:"";return B(`/api/admin/statistics/overview${t}`)},getRevenue:e=>{const t=new URLSearchParams;e!=null&&e.period&&t.append("period",e.period),e!=null&&e.group_by&&t.append("group_by",e.group_by);const r=t.toString();return B(`/api/admin/statistics/revenue${r?"?"+r:""}`)},getUsers:e=>{const t=e?`?period=${e}`:"";return B(`/api/admin/statistics/users${t}`)},getServices:e=>{const t=e?`?period=${e}`:"";return B(`/api/admin/statistics/services${t}`)},getPerformance:e=>{const t=e?`?period=${e}`:"";return B(`/api/admin/statistics/performance${t}`)},export:(e,t,r)=>{const s=new URLSearchParams;return s.append("type",e),t&&s.append("period",t),r&&s.append("format",r),B(`/api/admin/statistics/export?${s.toString()}`)}},plans:{getAll:e=>B(`/api/admin/plans${e?"?include_inactive=true":""}`),getById:e=>B(`/api/admin/plans/${e}`),create:e=>B("/api/admin/plans",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>B(`/api/admin/plans/${e}`,{method:"PUT",body:JSON.stringify(t)}),delete:e=>B(`/api/admin/plans/${e}`,{method:"DELETE"}),getTransactions:e=>{const t=new URLSearchParams;Object.entries(e||{}).forEach(([s,a])=>{a&&t.append(s,a.toString())});const r=t.toString();return B(`/api/admin/wave-transactions${r?"?"+r:""}`)},updateTransactionStatus:(e,t,r)=>B(`/api/admin/wave-transactions/${e}/${t==="valide"?"validate":"reject"}`,{method:"PUT",body:JSON.stringify(t==="rejete"?{motif_rejet:r}:{})}),getStats:()=>B("/api/admin/plans/stats/overview")},maintenance:{getStatus:()=>B("/api/admin/maintenance/status"),clearCache:e=>B("/api/admin/maintenance/cache/clear",{method:"POST",body:JSON.stringify({cache_type:e})}),createBackup:(e,t)=>B("/api/admin/maintenance/backup",{method:"POST",body:JSON.stringify({backup_type:e,include_data:t})}),getBackups:()=>B("/api/admin/maintenance/backups"),deleteBackup:e=>B(`/api/admin/maintenance/backups/${e}`,{method:"DELETE"}),getLogs:e=>{const t=new URLSearchParams;Object.entries(e||{}).forEach(([s,a])=>{a&&t.append(s,a.toString())});const r=t.toString();return B(`/api/admin/maintenance/logs${r?"?"+r:""}`)},setMaintenanceMode:(e,t,r)=>B("/api/admin/maintenance/mode",{method:"POST",body:JSON.stringify({enabled:e,message:t,estimated_duration:r})}),getHealth:()=>B("/api/admin/maintenance/health")}},avis:{create:e=>B("/api/avis",{method:"POST",body:JSON.stringify(e)}),getByPrestataire:e=>B(`/api/avis/prestataire/${e}`),getByService:e=>B(`/api/avis/service/${e}`),getMyAvis:()=>B("/api/avis/client"),delete:e=>B(`/api/avis/${e}`,{method:"DELETE"})},notificationPreferences:{get:()=>B("/api/notification-preferences"),update:e=>B("/api/notification-preferences",{method:"PUT",body:JSON.stringify(e)}),reset:()=>B("/api/notification-preferences/reset",{method:"POST"})},waveTransactions:{create:e=>B("/api/wave-transactions",{method:"POST",body:JSON.stringify(e)}),getMyTransactions:()=>B("/api/wave-transactions/my-transactions"),getStatus:()=>B("/api/wave-transactions/status")}},Qe=_g((e,t)=>({user:null,role:null,token:null,isAuthenticated:!1,login:async(r,s)=>{const a=await G.auth.login({email:r,password:s}),{user:l,token:d}=a,u=(l==null?void 0:l.role_nom)||((l==null?void 0:l.role_id)===1?"client":(l==null?void 0:l.role_id)===2?"prestataire":(l==null?void 0:l.role_id)===3?"admin":""),f=l!=null&&l.role_id?{id:l.role_id,nom:u,description:"",created_at:""}:null;return e({user:l,role:f,token:d,isAuthenticated:!0}),localStorage.setItem("prestaci-auth",JSON.stringify({user:l,role:f,token:d})),!0},logout:()=>{try{G.auth.logout()}catch{}e({user:null,role:null,token:null,isAuthenticated:!1}),localStorage.removeItem("prestaci-auth"),document.cookie="session_token=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",document.cookie="user_id=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",window.location.href="/login"},register:async r=>{const s={email:r.email,password:r.password,nom:r.nom,prenom:r.prenom,telephone:r.telephone,role_id:r.role_id||1,...r.role_id===2&&{nom_commercial:r.nom_commercial,ville:r.ville,adresse:r.adresse,latitude:r.latitude,longitude:r.longitude}},a=await G.auth.register(s),{user:l,token:d}=a,u=(l==null?void 0:l.role_nom)||((l==null?void 0:l.role_id)===1?"client":(l==null?void 0:l.role_id)===2?"prestataire":(l==null?void 0:l.role_id)===3?"admin":""),f=l!=null&&l.role_id?{id:l.role_id,nom:u,description:"",created_at:""}:null;return e({user:l,role:f,token:d,isAuthenticated:!0}),localStorage.setItem("prestaci-auth",JSON.stringify({user:l,role:f,token:d})),!0},updateProfile:r=>{const s=t().user;(async()=>{try{if(!s)return;const{user:a}=await G.users.updateMe({nom:r.nom,prenom:r.prenom,telephone:r.telephone,ville:r.ville,photo_profil:r.photo_profil});e({user:a}),localStorage.setItem("prestaci-auth",JSON.stringify({user:a,role:t().role}))}catch{const l={...s,...r,updated_at:new Date().toISOString()};e({user:l}),localStorage.setItem("prestaci-auth",JSON.stringify({user:l,role:t().role,token:t().token}))}})()},setToken:r=>{e({token:r});const s=JSON.parse(localStorage.getItem("prestaci-auth")||"{}");localStorage.setItem("prestaci-auth",JSON.stringify({...s,token:r}))},getToken:()=>{const r=t();return r.token?r.token:JSON.parse(localStorage.getItem("prestaci-auth")||"{}").token||null}})),rt=_g((e,t)=>({isDarkMode:!1,currentLocation:null,notifications:[],toasts:[],toggleDarkMode:()=>{const r=!t().isDarkMode;e({isDarkMode:r}),localStorage.setItem("prestaci-dark-mode",JSON.stringify(r)),document.documentElement.classList.toggle("dark",r)},setLocation:r=>{e({currentLocation:r})},addNotification:r=>{e(s=>({notifications:[r,...s.notifications]}))},markNotificationAsRead:r=>{e(s=>({notifications:s.notifications.map(a=>a.id===r?{...a,is_read:!0}:a)}))},markAllNotificationsAsRead:()=>{e(r=>({notifications:r.notifications.map(s=>({...s,is_read:!0}))}))},showToast:(r,s)=>{const a=Date.now();e(l=>({toasts:[...l.toasts,{id:a,message:r,type:s}]})),setTimeout(()=>{t().removeToast(a)},3e3)},removeToast:r=>{e(s=>({toasts:s.toasts.filter(a=>a.id!==r)}))}}));/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var __={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k_=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),re=(e,t)=>{const r=w.forwardRef(({color:s="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:d,className:u="",children:f,...m},v)=>w.createElement("svg",{ref:v,...__,width:a,height:a,stroke:s,strokeWidth:d?Number(l)*24/Number(a):l,className:["lucide",`lucide-${k_(e)}`,u].join(" "),...m},[...t.map(([g,y])=>w.createElement(g,y)),...Array.isArray(f)?f:[f]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=re("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vd=re("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N_=re("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=re("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=re("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=re("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S_=re("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C_=re("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P_=re("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=re("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ml=re("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sl=re("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=re("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=re("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M_=re("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=re("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E_=re("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ni=re("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const il=re("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xu=re("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=re("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=re("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=re("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T_=re("FileQuestion",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M10 10.3c.2-.4.5-.8.9-1a2.1 2.1 0 0 1 2.6.4c.3.4.5.8.5 1.3 0 1.3-2 2-2 2",key:"1umxtm"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=re("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gn=re("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kg=re("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const To=re("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eh=re("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=re("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const al=re("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jg=re("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=re("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=re("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const th=re("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ng=re("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=re("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=re("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _m=re("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sg=re("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=re("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=re("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=re("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bi=re("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_=re("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=re("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=re("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pg=re("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=re("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I_=re("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=re("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R_=re("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yd=re("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=re("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A_=re("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mg=re("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=re("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=re("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=re("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=re("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=re("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=re("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=re("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm=re("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lo=re("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dr=re("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eg=re("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function $_(){var S,N;const{isDarkMode:e,toggleDarkMode:t,notifications:r,markAllNotificationsAsRead:s}=rt(),{user:a,role:l,isAuthenticated:d}=Qe(),u=zr(),f=sn(),[m,v]=w.useState(!1),g=w.useRef(null),y=r.filter(C=>!C.is_read).length,j=()=>{v(!m),!m&&y>0&&s()};return w.useEffect(()=>{const C=b=>{g.current&&!g.current.contains(b.target)&&v(!1)};return m&&document.addEventListener("mousedown",C),()=>{document.removeEventListener("mousedown",C)}},[m]),d?i.jsx("header",{className:"sticky top-0 z-50 bg-white/80 dark:bg-gray-800/80 backdrop-blur-lg border-b border-gray-200/50 dark:border-gray-700/50 px-3 py-2.5 shadow-sm",children:i.jsxs("div",{className:"flex items-center justify-between max-w-md mx-auto",children:[i.jsx("div",{className:"flex items-center",children:i.jsx("div",{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"PrestaCI"})}),i.jsxs("div",{className:"flex items-center space-x-1.5 sm:space-x-3",children:[(l==null?void 0:l.id)===2&&(f.pathname.startsWith("/pro")?i.jsx("button",{onClick:()=>u("/app"),className:"px-2 sm:px-3 py-1 sm:py-1.5 rounded-full text-xs sm:text-sm font-medium bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-600 transition-all duration-200 hover:shadow-md",children:"Accueil"}):i.jsx("button",{onClick:()=>u("/pro"),className:"px-2 sm:px-3 py-1 sm:py-1.5 rounded-full text-xs sm:text-sm font-medium bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:from-blue-700 hover:to-purple-700 transition-all duration-200 hover:shadow-lg hover:scale-105",children:"Pro"})),i.jsxs("div",{className:"relative",ref:g,children:[i.jsxs("button",{onClick:j,className:"relative p-1.5 sm:p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-all duration-200 hover:scale-110",children:[i.jsx(is,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-600 dark:text-gray-400"}),y>0&&i.jsx("span",{className:"absolute -top-0.5 -right-0.5 sm:-top-1 sm:-right-1 bg-gradient-to-r from-red-500 to-pink-500 text-white text-[10px] sm:text-xs rounded-full w-4 h-4 sm:w-5 sm:h-5 flex items-center justify-center shadow-lg animate-pulse",children:y})]}),m&&i.jsxs("div",{className:"fixed inset-x-4 top-16 sm:absolute sm:right-0 sm:left-auto sm:inset-x-auto sm:mt-2 w-auto sm:w-80 bg-white/95 dark:bg-gray-800/95 backdrop-blur-xl rounded-2xl shadow-2xl border border-gray-200/50 dark:border-gray-700/50 max-h-96 overflow-y-auto z-50 animate-in slide-in-from-top-2 duration-200",children:[i.jsx("div",{className:"p-4 border-b border-gray-200/50 dark:border-gray-700/50",children:i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Notifications"})}),r.length===0?i.jsx("div",{className:"p-4 text-center text-gray-500 dark:text-gray-400",children:"Aucune notification"}):i.jsx("div",{className:"divide-y divide-gray-200/50 dark:divide-gray-700/50",children:r.map(C=>i.jsxs("div",{className:`p-3 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors ${C.is_read?"":"bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20"}`,children:[i.jsx("p",{className:"font-medium text-sm text-gray-900 dark:text-white",children:C.titre}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:C.message})]},C.id))})]})]}),i.jsx("button",{onClick:t,className:"p-1.5 sm:p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-all duration-200 hover:scale-110",children:e?i.jsx(A_,{className:"w-4 h-4 sm:w-5 sm:h-5 text-yellow-500 dark:text-yellow-400"}):i.jsx(O_,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-600 dark:text-gray-400"})}),i.jsx("button",{onClick:()=>{f.pathname.startsWith("/pro")?u("/pro/profile"):u("/app/profile")},className:"w-8 h-8 sm:w-9 sm:h-9 rounded-full overflow-hidden hover:ring-2 hover:ring-blue-500 transition-all duration-200 hover:scale-110 shadow-md flex-shrink-0",children:a!=null&&a.photo_profil?i.jsx("img",{src:a.photo_profil,alt:`${a.prenom} ${a.nom}`,className:"w-full h-full object-cover"}):i.jsxs("div",{className:"w-full h-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white text-sm font-semibold",children:[(S=a==null?void 0:a.prenom)==null?void 0:S[0],(N=a==null?void 0:a.nom)==null?void 0:N[0]]})})]})]})}):null}function Rt({children:e,showBottomNav:t=!0}){const{isDarkMode:r}=rt(),{isAuthenticated:s}=Qe();return i.jsx("div",{className:`min-h-screen ${r?"dark":""}`,children:i.jsxs("div",{className:"bg-white dark:bg-gray-900 text-gray-900 dark:text-white transition-colors duration-200",children:[i.jsx($_,{}),i.jsx("main",{className:`${t&&s?"pb-20":""}`,children:e})]})})}function Z_(){const[e,t]=w.useState(""),[r,s]=w.useState(""),[a,l]=w.useState(!1),[d,u]=w.useState(!1),[f,m]=w.useState(""),{login:v}=Qe(),g=zr(),y=async j=>{j.preventDefault(),u(!0),m("");try{await v(e,r)?g("/app",{replace:!0}):m("Email ou mot de passe incorrect")}catch{m("Erreur de connexion")}finally{u(!1)}};return i.jsxs("div",{className:"w-full max-w-md mx-auto p-8 bg-white dark:bg-gray-800 rounded-3xl shadow-2xl border border-gray-100 dark:border-gray-700",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("div",{className:"inline-block p-4 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl shadow-lg mb-4",children:i.jsx("h1",{className:"text-3xl font-bold text-white",children:"PrestaCI"})}),i.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Bienvenue !"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Connectez-vous pour continuer"})]}),i.jsxs("form",{onSubmit:y,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),i.jsxs("div",{className:"relative",children:[i.jsx(cs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"email",value:e,onChange:j=>t(j.target.value),className:"w-full pl-10 pr-4 py-3.5 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm focus:shadow-md transition-all duration-200",placeholder:"votre@email.com",required:!0})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Mot de passe"}),i.jsxs("div",{className:"relative",children:[i.jsx(al,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:a?"text":"password",value:r,onChange:j=>s(j.target.value),className:"w-full pl-10 pr-12 py-3.5 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm focus:shadow-md transition-all duration-200",placeholder:"",required:!0}),i.jsx("button",{type:"button",onClick:()=>l(!a),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors duration-200",children:a?i.jsx(El,{className:"w-5 h-5"}):i.jsx(Na,{className:"w-5 h-5"})})]})]}),f&&i.jsx("div",{className:"p-3 bg-gradient-to-r from-red-50 to-pink-50 dark:from-red-900/20 dark:to-pink-900/20 border border-red-200 dark:border-red-800 rounded-xl shadow-sm",children:i.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm font-medium",children:f})}),i.jsx("button",{type:"submit",disabled:d,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 disabled:from-blue-400 disabled:to-purple-400 text-white py-3.5 px-4 rounded-xl font-semibold transition-all duration-200 shadow-lg hover:shadow-xl hover:scale-[1.02] disabled:hover:scale-100",children:d?"Connexion...":"Se connecter"})]}),i.jsx("div",{className:"mt-6 text-center",children:i.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Pas encore de compte ?"," ",i.jsx("button",{onClick:()=>g("/register"),className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-semibold hover:underline transition-all duration-200",children:"S'inscrire"})]})})]})}function Tg(e,t){const r=w.useRef(t);w.useEffect(function(){t!==r.current&&e.attributionControl!=null&&(r.current!=null&&e.attributionControl.removeAttribution(r.current),t!=null&&e.attributionControl.addAttribution(t)),r.current=t},[e,t])}function H_(e,t,r){t.center!==r.center&&e.setLatLng(t.center),t.radius!=null&&t.radius!==r.radius&&e.setRadius(t.radius)}const U_=1;function V_(e){return Object.freeze({__version:U_,map:e})}function rh(e,t){return Object.freeze({...e,...t})}const Lg=w.createContext(null),Og=Lg.Provider;function Tl(){const e=w.useContext(Lg);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function Dg(e){function t(r,s){const{instance:a,context:l}=e(r).current;return w.useImperativeHandle(s,()=>a),r.children==null?null:ee.createElement(Og,{value:l},r.children)}return w.forwardRef(t)}function Y_(e){function t(r,s){const[a,l]=w.useState(!1),{instance:d}=e(r,l).current;w.useImperativeHandle(s,()=>d),w.useEffect(function(){a&&d.update()},[d,a,r.children]);const u=d._contentNode;return u?sg.createPortal(r.children,u):null}return w.forwardRef(t)}function q_(e){function t(r,s){const{instance:a}=e(r).current;return w.useImperativeHandle(s,()=>a),null}return w.forwardRef(t)}function nh(e,t){const r=w.useRef();w.useEffect(function(){return t!=null&&e.instance.on(t),r.current=t,function(){r.current!=null&&e.instance.off(r.current),r.current=null}},[e,t])}function Ll(e,t){const r=e.pane??t.pane;return r?{...e,pane:r}:e}function G_(e,t){return function(s,a){const l=Tl(),d=e(Ll(s,l),l);return Tg(l.map,s.attribution),nh(d.current,s.eventHandlers),t(d.current,l,s,a),d}}var qd={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(r,s){s(t)})(jv,function(r){var s="1.9.4";function a(n){var o,c,h,p;for(c=1,h=arguments.length;c<h;c++){p=arguments[c];for(o in p)n[o]=p[o]}return n}var l=Object.create||function(){function n(){}return function(o){return n.prototype=o,new n}}();function d(n,o){var c=Array.prototype.slice;if(n.bind)return n.bind.apply(n,c.call(arguments,1));var h=c.call(arguments,2);return function(){return n.apply(o,h.length?h.concat(c.call(arguments)):arguments)}}var u=0;function f(n){return"_leaflet_id"in n||(n._leaflet_id=++u),n._leaflet_id}function m(n,o,c){var h,p,_,P;return P=function(){h=!1,p&&(_.apply(c,p),p=!1)},_=function(){h?p=arguments:(n.apply(c,arguments),setTimeout(P,o),h=!0)},_}function v(n,o,c){var h=o[1],p=o[0],_=h-p;return n===h&&c?n:((n-p)%_+_)%_+p}function g(){return!1}function y(n,o){if(o===!1)return n;var c=Math.pow(10,o===void 0?6:o);return Math.round(n*c)/c}function j(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function S(n){return j(n).split(/\s+/)}function N(n,o){Object.prototype.hasOwnProperty.call(n,"options")||(n.options=n.options?l(n.options):{});for(var c in o)n.options[c]=o[c];return n.options}function C(n,o,c){var h=[];for(var p in n)h.push(encodeURIComponent(c?p.toUpperCase():p)+"="+encodeURIComponent(n[p]));return(!o||o.indexOf("?")===-1?"?":"&")+h.join("&")}var b=/\{ *([\w_ -]+) *\}/g;function k(n,o){return n.replace(b,function(c,h){var p=o[h];if(p===void 0)throw new Error("No value provided for variable "+c);return typeof p=="function"&&(p=p(o)),p})}var x=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};function E(n,o){for(var c=0;c<n.length;c++)if(n[c]===o)return c;return-1}var O="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function M(n){return window["webkit"+n]||window["moz"+n]||window["ms"+n]}var F=0;function A(n){var o=+new Date,c=Math.max(0,16-(o-F));return F=o+c,window.setTimeout(n,c)}var Y=window.requestAnimationFrame||M("RequestAnimationFrame")||A,J=window.cancelAnimationFrame||M("CancelAnimationFrame")||M("CancelRequestAnimationFrame")||function(n){window.clearTimeout(n)};function q(n,o,c){if(c&&Y===A)n.call(o);else return Y.call(window,d(n,o))}function ie(n){n&&J.call(window,n)}var ke={__proto__:null,extend:a,create:l,bind:d,get lastId(){return u},stamp:f,throttle:m,wrapNum:v,falseFn:g,formatNum:y,trim:j,splitWords:S,setOptions:N,getParamString:C,template:k,isArray:x,indexOf:E,emptyImageUrl:O,requestFn:Y,cancelFn:J,requestAnimFrame:q,cancelAnimFrame:ie};function pe(){}pe.extend=function(n){var o=function(){N(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},c=o.__super__=this.prototype,h=l(c);h.constructor=o,o.prototype=h;for(var p in this)Object.prototype.hasOwnProperty.call(this,p)&&p!=="prototype"&&p!=="__super__"&&(o[p]=this[p]);return n.statics&&a(o,n.statics),n.includes&&(Z(n.includes),a.apply(null,[h].concat(n.includes))),a(h,n),delete h.statics,delete h.includes,h.options&&(h.options=c.options?l(c.options):{},a(h.options,n.options)),h._initHooks=[],h.callInitHooks=function(){if(!this._initHooksCalled){c.callInitHooks&&c.callInitHooks.call(this),this._initHooksCalled=!0;for(var _=0,P=h._initHooks.length;_<P;_++)h._initHooks[_].call(this)}},o},pe.include=function(n){var o=this.prototype.options;return a(this.prototype,n),n.options&&(this.prototype.options=o,this.mergeOptions(n.options)),this},pe.mergeOptions=function(n){return a(this.prototype.options,n),this},pe.addInitHook=function(n){var o=Array.prototype.slice.call(arguments,1),c=typeof n=="function"?n:function(){this[n].apply(this,o)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(c),this};function Z(n){if(!(typeof L>"u"||!L||!L.Mixin)){n=x(n)?n:[n];for(var o=0;o<n.length;o++)n[o]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var oe={on:function(n,o,c){if(typeof n=="object")for(var h in n)this._on(h,n[h],o);else{n=S(n);for(var p=0,_=n.length;p<_;p++)this._on(n[p],o,c)}return this},off:function(n,o,c){if(!arguments.length)delete this._events;else if(typeof n=="object")for(var h in n)this._off(h,n[h],o);else{n=S(n);for(var p=arguments.length===1,_=0,P=n.length;_<P;_++)p?this._off(n[_]):this._off(n[_],o,c)}return this},_on:function(n,o,c,h){if(typeof o!="function"){console.warn("wrong listener type: "+typeof o);return}if(this._listens(n,o,c)===!1){c===this&&(c=void 0);var p={fn:o,ctx:c};h&&(p.once=!0),this._events=this._events||{},this._events[n]=this._events[n]||[],this._events[n].push(p)}},_off:function(n,o,c){var h,p,_;if(this._events&&(h=this._events[n],!!h)){if(arguments.length===1){if(this._firingCount)for(p=0,_=h.length;p<_;p++)h[p].fn=g;delete this._events[n];return}if(typeof o!="function"){console.warn("wrong listener type: "+typeof o);return}var P=this._listens(n,o,c);if(P!==!1){var D=h[P];this._firingCount&&(D.fn=g,this._events[n]=h=h.slice()),h.splice(P,1)}}},fire:function(n,o,c){if(!this.listens(n,c))return this;var h=a({},o,{type:n,target:this,sourceTarget:o&&o.sourceTarget||this});if(this._events){var p=this._events[n];if(p){this._firingCount=this._firingCount+1||1;for(var _=0,P=p.length;_<P;_++){var D=p[_],R=D.fn;D.once&&this.off(n,R,D.ctx),R.call(D.ctx||this,h)}this._firingCount--}}return c&&this._propagateEvent(h),this},listens:function(n,o,c,h){typeof n!="string"&&console.warn('"string" type argument expected');var p=o;typeof o!="function"&&(h=!!o,p=void 0,c=void 0);var _=this._events&&this._events[n];if(_&&_.length&&this._listens(n,p,c)!==!1)return!0;if(h){for(var P in this._eventParents)if(this._eventParents[P].listens(n,o,c,h))return!0}return!1},_listens:function(n,o,c){if(!this._events)return!1;var h=this._events[n]||[];if(!o)return!!h.length;c===this&&(c=void 0);for(var p=0,_=h.length;p<_;p++)if(h[p].fn===o&&h[p].ctx===c)return p;return!1},once:function(n,o,c){if(typeof n=="object")for(var h in n)this._on(h,n[h],o,!0);else{n=S(n);for(var p=0,_=n.length;p<_;p++)this._on(n[p],o,c,!0)}return this},addEventParent:function(n){return this._eventParents=this._eventParents||{},this._eventParents[f(n)]=n,this},removeEventParent:function(n){return this._eventParents&&delete this._eventParents[f(n)],this},_propagateEvent:function(n){for(var o in this._eventParents)this._eventParents[o].fire(n.type,a({layer:n.target,propagatedFrom:n.target},n),!0)}};oe.addEventListener=oe.on,oe.removeEventListener=oe.clearAllEventListeners=oe.off,oe.addOneTimeEventListener=oe.once,oe.fireEvent=oe.fire,oe.hasEventListeners=oe.listens;var ye=pe.extend(oe);function W(n,o,c){this.x=c?Math.round(n):n,this.y=c?Math.round(o):o}var Q=Math.trunc||function(n){return n>0?Math.floor(n):Math.ceil(n)};W.prototype={clone:function(){return new W(this.x,this.y)},add:function(n){return this.clone()._add($(n))},_add:function(n){return this.x+=n.x,this.y+=n.y,this},subtract:function(n){return this.clone()._subtract($(n))},_subtract:function(n){return this.x-=n.x,this.y-=n.y,this},divideBy:function(n){return this.clone()._divideBy(n)},_divideBy:function(n){return this.x/=n,this.y/=n,this},multiplyBy:function(n){return this.clone()._multiplyBy(n)},_multiplyBy:function(n){return this.x*=n,this.y*=n,this},scaleBy:function(n){return new W(this.x*n.x,this.y*n.y)},unscaleBy:function(n){return new W(this.x/n.x,this.y/n.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Q(this.x),this.y=Q(this.y),this},distanceTo:function(n){n=$(n);var o=n.x-this.x,c=n.y-this.y;return Math.sqrt(o*o+c*c)},equals:function(n){return n=$(n),n.x===this.x&&n.y===this.y},contains:function(n){return n=$(n),Math.abs(n.x)<=Math.abs(this.x)&&Math.abs(n.y)<=Math.abs(this.y)},toString:function(){return"Point("+y(this.x)+", "+y(this.y)+")"}};function $(n,o,c){return n instanceof W?n:x(n)?new W(n[0],n[1]):n==null?n:typeof n=="object"&&"x"in n&&"y"in n?new W(n.x,n.y):new W(n,o,c)}function se(n,o){if(n)for(var c=o?[n,o]:n,h=0,p=c.length;h<p;h++)this.extend(c[h])}se.prototype={extend:function(n){var o,c;if(!n)return this;if(n instanceof W||typeof n[0]=="number"||"x"in n)o=c=$(n);else if(n=he(n),o=n.min,c=n.max,!o||!c)return this;return!this.min&&!this.max?(this.min=o.clone(),this.max=c.clone()):(this.min.x=Math.min(o.x,this.min.x),this.max.x=Math.max(c.x,this.max.x),this.min.y=Math.min(o.y,this.min.y),this.max.y=Math.max(c.y,this.max.y)),this},getCenter:function(n){return $((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,n)},getBottomLeft:function(){return $(this.min.x,this.max.y)},getTopRight:function(){return $(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(n){var o,c;return typeof n[0]=="number"||n instanceof W?n=$(n):n=he(n),n instanceof se?(o=n.min,c=n.max):o=c=n,o.x>=this.min.x&&c.x<=this.max.x&&o.y>=this.min.y&&c.y<=this.max.y},intersects:function(n){n=he(n);var o=this.min,c=this.max,h=n.min,p=n.max,_=p.x>=o.x&&h.x<=c.x,P=p.y>=o.y&&h.y<=c.y;return _&&P},overlaps:function(n){n=he(n);var o=this.min,c=this.max,h=n.min,p=n.max,_=p.x>o.x&&h.x<c.x,P=p.y>o.y&&h.y<c.y;return _&&P},isValid:function(){return!!(this.min&&this.max)},pad:function(n){var o=this.min,c=this.max,h=Math.abs(o.x-c.x)*n,p=Math.abs(o.y-c.y)*n;return he($(o.x-h,o.y-p),$(c.x+h,c.y+p))},equals:function(n){return n?(n=he(n),this.min.equals(n.getTopLeft())&&this.max.equals(n.getBottomRight())):!1}};function he(n,o){return!n||n instanceof se?n:new se(n,o)}function Se(n,o){if(n)for(var c=o?[n,o]:n,h=0,p=c.length;h<p;h++)this.extend(c[h])}Se.prototype={extend:function(n){var o=this._southWest,c=this._northEast,h,p;if(n instanceof X)h=n,p=n;else if(n instanceof Se){if(h=n._southWest,p=n._northEast,!h||!p)return this}else return n?this.extend(z(n)||I(n)):this;return!o&&!c?(this._southWest=new X(h.lat,h.lng),this._northEast=new X(p.lat,p.lng)):(o.lat=Math.min(h.lat,o.lat),o.lng=Math.min(h.lng,o.lng),c.lat=Math.max(p.lat,c.lat),c.lng=Math.max(p.lng,c.lng)),this},pad:function(n){var o=this._southWest,c=this._northEast,h=Math.abs(o.lat-c.lat)*n,p=Math.abs(o.lng-c.lng)*n;return new Se(new X(o.lat-h,o.lng-p),new X(c.lat+h,c.lng+p))},getCenter:function(){return new X((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new X(this.getNorth(),this.getWest())},getSouthEast:function(){return new X(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(n){typeof n[0]=="number"||n instanceof X||"lat"in n?n=z(n):n=I(n);var o=this._southWest,c=this._northEast,h,p;return n instanceof Se?(h=n.getSouthWest(),p=n.getNorthEast()):h=p=n,h.lat>=o.lat&&p.lat<=c.lat&&h.lng>=o.lng&&p.lng<=c.lng},intersects:function(n){n=I(n);var o=this._southWest,c=this._northEast,h=n.getSouthWest(),p=n.getNorthEast(),_=p.lat>=o.lat&&h.lat<=c.lat,P=p.lng>=o.lng&&h.lng<=c.lng;return _&&P},overlaps:function(n){n=I(n);var o=this._southWest,c=this._northEast,h=n.getSouthWest(),p=n.getNorthEast(),_=p.lat>o.lat&&h.lat<c.lat,P=p.lng>o.lng&&h.lng<c.lng;return _&&P},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(n,o){return n?(n=I(n),this._southWest.equals(n.getSouthWest(),o)&&this._northEast.equals(n.getNorthEast(),o)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function I(n,o){return n instanceof Se?n:new Se(n,o)}function X(n,o,c){if(isNaN(n)||isNaN(o))throw new Error("Invalid LatLng object: ("+n+", "+o+")");this.lat=+n,this.lng=+o,c!==void 0&&(this.alt=+c)}X.prototype={equals:function(n,o){if(!n)return!1;n=z(n);var c=Math.max(Math.abs(this.lat-n.lat),Math.abs(this.lng-n.lng));return c<=(o===void 0?1e-9:o)},toString:function(n){return"LatLng("+y(this.lat,n)+", "+y(this.lng,n)+")"},distanceTo:function(n){return ae.distance(this,z(n))},wrap:function(){return ae.wrapLatLng(this)},toBounds:function(n){var o=180*n/40075017,c=o/Math.cos(Math.PI/180*this.lat);return I([this.lat-o,this.lng-c],[this.lat+o,this.lng+c])},clone:function(){return new X(this.lat,this.lng,this.alt)}};function z(n,o,c){return n instanceof X?n:x(n)&&typeof n[0]!="object"?n.length===3?new X(n[0],n[1],n[2]):n.length===2?new X(n[0],n[1]):null:n==null?n:typeof n=="object"&&"lat"in n?new X(n.lat,"lng"in n?n.lng:n.lon,n.alt):o===void 0?null:new X(n,o,c)}var U={latLngToPoint:function(n,o){var c=this.projection.project(n),h=this.scale(o);return this.transformation._transform(c,h)},pointToLatLng:function(n,o){var c=this.scale(o),h=this.transformation.untransform(n,c);return this.projection.unproject(h)},project:function(n){return this.projection.project(n)},unproject:function(n){return this.projection.unproject(n)},scale:function(n){return 256*Math.pow(2,n)},zoom:function(n){return Math.log(n/256)/Math.LN2},getProjectedBounds:function(n){if(this.infinite)return null;var o=this.projection.bounds,c=this.scale(n),h=this.transformation.transform(o.min,c),p=this.transformation.transform(o.max,c);return new se(h,p)},infinite:!1,wrapLatLng:function(n){var o=this.wrapLng?v(n.lng,this.wrapLng,!0):n.lng,c=this.wrapLat?v(n.lat,this.wrapLat,!0):n.lat,h=n.alt;return new X(c,o,h)},wrapLatLngBounds:function(n){var o=n.getCenter(),c=this.wrapLatLng(o),h=o.lat-c.lat,p=o.lng-c.lng;if(h===0&&p===0)return n;var _=n.getSouthWest(),P=n.getNorthEast(),D=new X(_.lat-h,_.lng-p),R=new X(P.lat-h,P.lng-p);return new Se(D,R)}},ae=a({},U,{wrapLng:[-180,180],R:6371e3,distance:function(n,o){var c=Math.PI/180,h=n.lat*c,p=o.lat*c,_=Math.sin((o.lat-n.lat)*c/2),P=Math.sin((o.lng-n.lng)*c/2),D=_*_+Math.cos(h)*Math.cos(p)*P*P,R=2*Math.atan2(Math.sqrt(D),Math.sqrt(1-D));return this.R*R}}),we=6378137,Ce={R:we,MAX_LATITUDE:85.0511287798,project:function(n){var o=Math.PI/180,c=this.MAX_LATITUDE,h=Math.max(Math.min(c,n.lat),-c),p=Math.sin(h*o);return new W(this.R*n.lng*o,this.R*Math.log((1+p)/(1-p))/2)},unproject:function(n){var o=180/Math.PI;return new X((2*Math.atan(Math.exp(n.y/this.R))-Math.PI/2)*o,n.x*o/this.R)},bounds:function(){var n=we*Math.PI;return new se([-n,-n],[n,n])}()};function Ye(n,o,c,h){if(x(n)){this._a=n[0],this._b=n[1],this._c=n[2],this._d=n[3];return}this._a=n,this._b=o,this._c=c,this._d=h}Ye.prototype={transform:function(n,o){return this._transform(n.clone(),o)},_transform:function(n,o){return o=o||1,n.x=o*(this._a*n.x+this._b),n.y=o*(this._c*n.y+this._d),n},untransform:function(n,o){return o=o||1,new W((n.x/o-this._b)/this._a,(n.y/o-this._d)/this._c)}};function Le(n,o,c,h){return new Ye(n,o,c,h)}var Re=a({},ae,{code:"EPSG:3857",projection:Ce,transformation:function(){var n=.5/(Math.PI*Ce.R);return Le(n,.5,-n,.5)}()}),Ge=a({},Re,{code:"EPSG:900913"});function st(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function dt(n,o){var c="",h,p,_,P,D,R;for(h=0,_=n.length;h<_;h++){for(D=n[h],p=0,P=D.length;p<P;p++)R=D[p],c+=(p?"L":"M")+R.x+" "+R.y;c+=o?le.svg?"z":"x":""}return c||"M0 0"}var Ht=document.documentElement.style,Ut="ActiveXObject"in window,Ln=Ut&&!document.addEventListener,wt="msLaunchUri"in navigator&&!("documentMode"in document),nr=wr("webkit"),hs=wr("android"),On=wr("android 2")||wr("android 3"),Dn=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),zn=hs&&wr("Google")&&Dn<537&&!("AudioNode"in window),In=!!window.opera,fs=!wt&&wr("chrome"),ms=wr("gecko")&&!nr&&!In&&!Ut,hi=!fs&&wr("safari"),T=wr("phantom"),K="OTransition"in Ht,Oe=navigator.platform.indexOf("Win")===0,sr=Ut&&"transition"in Ht,ir="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!On,Rn="MozPerspective"in Ht,ps=!window.L_DISABLE_3D&&(sr||ir||Rn)&&!K&&!T,ar=typeof orientation<"u"||wr("mobile"),Il=ar&&nr,Ea=ar&&ir,fe=!window.PointerEvent&&window.MSPointerEvent,Me=!!(window.PointerEvent||fe),ue="ontouchstart"in window||!!window.TouchEvent,Pe=!window.L_NO_TOUCH&&(ue||Me),Vt=ar&&In,be=ar&&ms,Rl=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Al=function(){var n=!1;try{var o=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("testPassiveEventSupport",g,o),window.removeEventListener("testPassiveEventSupport",g,o)}catch{}return n}(),Bl=function(){return!!document.createElement("canvas").getContext}(),An=!!(document.createElementNS&&st("svg").createSVGRect),fi=!!An&&function(){var n=document.createElement("div");return n.innerHTML="<svg/>",(n.firstChild&&n.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),mx=!An&&function(){try{var n=document.createElement("div");n.innerHTML='<v:shape adj="1"/>';var o=n.firstChild;return o.style.behavior="url(#default#VML)",o&&typeof o.adj=="object"}catch{return!1}}(),px=navigator.platform.indexOf("Mac")===0,gx=navigator.platform.indexOf("Linux")===0;function wr(n){return navigator.userAgent.toLowerCase().indexOf(n)>=0}var le={ie:Ut,ielt9:Ln,edge:wt,webkit:nr,android:hs,android23:On,androidStock:zn,opera:In,chrome:fs,gecko:ms,safari:hi,phantom:T,opera12:K,win:Oe,ie3d:sr,webkit3d:ir,gecko3d:Rn,any3d:ps,mobile:ar,mobileWebkit:Il,mobileWebkit3d:Ea,msPointer:fe,pointer:Me,touch:Pe,touchNative:ue,mobileOpera:Vt,mobileGecko:be,retina:Rl,passiveEvents:Al,canvas:Bl,svg:An,vml:mx,inlineSvg:fi,mac:px,linux:gx},lh=le.msPointer?"MSPointerDown":"pointerdown",ch=le.msPointer?"MSPointerMove":"pointermove",dh=le.msPointer?"MSPointerUp":"pointerup",uh=le.msPointer?"MSPointerCancel":"pointercancel",Fl={touchstart:lh,touchmove:ch,touchend:dh,touchcancel:uh},hh={touchstart:_x,touchmove:Ta,touchend:Ta,touchcancel:Ta},gs={},fh=!1;function xx(n,o,c){return o==="touchstart"&&wx(),hh[o]?(c=hh[o].bind(this,c),n.addEventListener(Fl[o],c,!1),c):(console.warn("wrong event specified:",o),g)}function vx(n,o,c){if(!Fl[o]){console.warn("wrong event specified:",o);return}n.removeEventListener(Fl[o],c,!1)}function yx(n){gs[n.pointerId]=n}function bx(n){gs[n.pointerId]&&(gs[n.pointerId]=n)}function mh(n){delete gs[n.pointerId]}function wx(){fh||(document.addEventListener(lh,yx,!0),document.addEventListener(ch,bx,!0),document.addEventListener(dh,mh,!0),document.addEventListener(uh,mh,!0),fh=!0)}function Ta(n,o){if(o.pointerType!==(o.MSPOINTER_TYPE_MOUSE||"mouse")){o.touches=[];for(var c in gs)o.touches.push(gs[c]);o.changedTouches=[o],n(o)}}function _x(n,o){o.MSPOINTER_TYPE_TOUCH&&o.pointerType===o.MSPOINTER_TYPE_TOUCH&&ut(o),Ta(n,o)}function kx(n){var o={},c,h;for(h in n)c=n[h],o[h]=c&&c.bind?c.bind(n):c;return n=o,o.type="dblclick",o.detail=2,o.isTrusted=!1,o._simulated=!0,o}var jx=200;function Nx(n,o){n.addEventListener("dblclick",o);var c=0,h;function p(_){if(_.detail!==1){h=_.detail;return}if(!(_.pointerType==="mouse"||_.sourceCapabilities&&!_.sourceCapabilities.firesTouchEvents)){var P=yh(_);if(!(P.some(function(R){return R instanceof HTMLLabelElement&&R.attributes.for})&&!P.some(function(R){return R instanceof HTMLInputElement||R instanceof HTMLSelectElement}))){var D=Date.now();D-c<=jx?(h++,h===2&&o(kx(_))):h=1,c=D}}}return n.addEventListener("click",p),{dblclick:o,simDblclick:p}}function Sx(n,o){n.removeEventListener("dblclick",o.dblclick),n.removeEventListener("click",o.simDblclick)}var Wl=Da(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),mi=Da(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ph=mi==="webkitTransition"||mi==="OTransition"?mi+"End":"transitionend";function gh(n){return typeof n=="string"?document.getElementById(n):n}function pi(n,o){var c=n.style[o]||n.currentStyle&&n.currentStyle[o];if((!c||c==="auto")&&document.defaultView){var h=document.defaultView.getComputedStyle(n,null);c=h?h[o]:null}return c==="auto"?null:c}function Ne(n,o,c){var h=document.createElement(n);return h.className=o||"",c&&c.appendChild(h),h}function $e(n){var o=n.parentNode;o&&o.removeChild(n)}function La(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function xs(n){var o=n.parentNode;o&&o.lastChild!==n&&o.appendChild(n)}function vs(n){var o=n.parentNode;o&&o.firstChild!==n&&o.insertBefore(n,o.firstChild)}function $l(n,o){if(n.classList!==void 0)return n.classList.contains(o);var c=Oa(n);return c.length>0&&new RegExp("(^|\\s)"+o+"(\\s|$)").test(c)}function ge(n,o){if(n.classList!==void 0)for(var c=S(o),h=0,p=c.length;h<p;h++)n.classList.add(c[h]);else if(!$l(n,o)){var _=Oa(n);Zl(n,(_?_+" ":"")+o)}}function Je(n,o){n.classList!==void 0?n.classList.remove(o):Zl(n,j((" "+Oa(n)+" ").replace(" "+o+" "," ")))}function Zl(n,o){n.className.baseVal===void 0?n.className=o:n.className.baseVal=o}function Oa(n){return n.correspondingElement&&(n=n.correspondingElement),n.className.baseVal===void 0?n.className:n.className.baseVal}function Yt(n,o){"opacity"in n.style?n.style.opacity=o:"filter"in n.style&&Cx(n,o)}function Cx(n,o){var c=!1,h="DXImageTransform.Microsoft.Alpha";try{c=n.filters.item(h)}catch{if(o===1)return}o=Math.round(o*100),c?(c.Enabled=o!==100,c.Opacity=o):n.style.filter+=" progid:"+h+"(opacity="+o+")"}function Da(n){for(var o=document.documentElement.style,c=0;c<n.length;c++)if(n[c]in o)return n[c];return!1}function Bn(n,o,c){var h=o||new W(0,0);n.style[Wl]=(le.ie3d?"translate("+h.x+"px,"+h.y+"px)":"translate3d("+h.x+"px,"+h.y+"px,0)")+(c?" scale("+c+")":"")}function Xe(n,o){n._leaflet_pos=o,le.any3d?Bn(n,o):(n.style.left=o.x+"px",n.style.top=o.y+"px")}function Fn(n){return n._leaflet_pos||new W(0,0)}var gi,xi,Hl;if("onselectstart"in document)gi=function(){me(window,"selectstart",ut)},xi=function(){ze(window,"selectstart",ut)};else{var vi=Da(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);gi=function(){if(vi){var n=document.documentElement.style;Hl=n[vi],n[vi]="none"}},xi=function(){vi&&(document.documentElement.style[vi]=Hl,Hl=void 0)}}function Ul(){me(window,"dragstart",ut)}function Vl(){ze(window,"dragstart",ut)}var za,Yl;function ql(n){for(;n.tabIndex===-1;)n=n.parentNode;n.style&&(Ia(),za=n,Yl=n.style.outlineStyle,n.style.outlineStyle="none",me(window,"keydown",Ia))}function Ia(){za&&(za.style.outlineStyle=Yl,za=void 0,Yl=void 0,ze(window,"keydown",Ia))}function xh(n){do n=n.parentNode;while((!n.offsetWidth||!n.offsetHeight)&&n!==document.body);return n}function Gl(n){var o=n.getBoundingClientRect();return{x:o.width/n.offsetWidth||1,y:o.height/n.offsetHeight||1,boundingClientRect:o}}var Px={__proto__:null,TRANSFORM:Wl,TRANSITION:mi,TRANSITION_END:ph,get:gh,getStyle:pi,create:Ne,remove:$e,empty:La,toFront:xs,toBack:vs,hasClass:$l,addClass:ge,removeClass:Je,setClass:Zl,getClass:Oa,setOpacity:Yt,testProp:Da,setTransform:Bn,setPosition:Xe,getPosition:Fn,get disableTextSelection(){return gi},get enableTextSelection(){return xi},disableImageDrag:Ul,enableImageDrag:Vl,preventOutline:ql,restoreOutline:Ia,getSizedParentNode:xh,getScale:Gl};function me(n,o,c,h){if(o&&typeof o=="object")for(var p in o)Kl(n,p,o[p],c);else{o=S(o);for(var _=0,P=o.length;_<P;_++)Kl(n,o[_],c,h)}return this}var _r="_leaflet_events";function ze(n,o,c,h){if(arguments.length===1)vh(n),delete n[_r];else if(o&&typeof o=="object")for(var p in o)Ql(n,p,o[p],c);else if(o=S(o),arguments.length===2)vh(n,function(D){return E(o,D)!==-1});else for(var _=0,P=o.length;_<P;_++)Ql(n,o[_],c,h);return this}function vh(n,o){for(var c in n[_r]){var h=c.split(/\d/)[0];(!o||o(h))&&Ql(n,h,null,null,c)}}var Jl={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Kl(n,o,c,h){var p=o+f(c)+(h?"_"+f(h):"");if(n[_r]&&n[_r][p])return this;var _=function(D){return c.call(h||n,D||window.event)},P=_;!le.touchNative&&le.pointer&&o.indexOf("touch")===0?_=xx(n,o,_):le.touch&&o==="dblclick"?_=Nx(n,_):"addEventListener"in n?o==="touchstart"||o==="touchmove"||o==="wheel"||o==="mousewheel"?n.addEventListener(Jl[o]||o,_,le.passiveEvents?{passive:!1}:!1):o==="mouseenter"||o==="mouseleave"?(_=function(D){D=D||window.event,ec(n,D)&&P(D)},n.addEventListener(Jl[o],_,!1)):n.addEventListener(o,P,!1):n.attachEvent("on"+o,_),n[_r]=n[_r]||{},n[_r][p]=_}function Ql(n,o,c,h,p){p=p||o+f(c)+(h?"_"+f(h):"");var _=n[_r]&&n[_r][p];if(!_)return this;!le.touchNative&&le.pointer&&o.indexOf("touch")===0?vx(n,o,_):le.touch&&o==="dblclick"?Sx(n,_):"removeEventListener"in n?n.removeEventListener(Jl[o]||o,_,!1):n.detachEvent("on"+o,_),n[_r][p]=null}function Wn(n){return n.stopPropagation?n.stopPropagation():n.originalEvent?n.originalEvent._stopped=!0:n.cancelBubble=!0,this}function Xl(n){return Kl(n,"wheel",Wn),this}function yi(n){return me(n,"mousedown touchstart dblclick contextmenu",Wn),n._leaflet_disable_click=!0,this}function ut(n){return n.preventDefault?n.preventDefault():n.returnValue=!1,this}function $n(n){return ut(n),Wn(n),this}function yh(n){if(n.composedPath)return n.composedPath();for(var o=[],c=n.target;c;)o.push(c),c=c.parentNode;return o}function bh(n,o){if(!o)return new W(n.clientX,n.clientY);var c=Gl(o),h=c.boundingClientRect;return new W((n.clientX-h.left)/c.x-o.clientLeft,(n.clientY-h.top)/c.y-o.clientTop)}var Mx=le.linux&&le.chrome?window.devicePixelRatio:le.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function wh(n){return le.edge?n.wheelDeltaY/2:n.deltaY&&n.deltaMode===0?-n.deltaY/Mx:n.deltaY&&n.deltaMode===1?-n.deltaY*20:n.deltaY&&n.deltaMode===2?-n.deltaY*60:n.deltaX||n.deltaZ?0:n.wheelDelta?(n.wheelDeltaY||n.wheelDelta)/2:n.detail&&Math.abs(n.detail)<32765?-n.detail*20:n.detail?n.detail/-32765*60:0}function ec(n,o){var c=o.relatedTarget;if(!c)return!0;try{for(;c&&c!==n;)c=c.parentNode}catch{return!1}return c!==n}var Ex={__proto__:null,on:me,off:ze,stopPropagation:Wn,disableScrollPropagation:Xl,disableClickPropagation:yi,preventDefault:ut,stop:$n,getPropagationPath:yh,getMousePosition:bh,getWheelDelta:wh,isExternalTarget:ec,addListener:me,removeListener:ze},_h=ye.extend({run:function(n,o,c,h){this.stop(),this._el=n,this._inProgress=!0,this._duration=c||.25,this._easeOutPower=1/Math.max(h||.5,.2),this._startPos=Fn(n),this._offset=o.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=q(this._animate,this),this._step()},_step:function(n){var o=+new Date-this._startTime,c=this._duration*1e3;o<c?this._runFrame(this._easeOut(o/c),n):(this._runFrame(1),this._complete())},_runFrame:function(n,o){var c=this._startPos.add(this._offset.multiplyBy(n));o&&c._round(),Xe(this._el,c),this.fire("step")},_complete:function(){ie(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(n){return 1-Math.pow(1-n,this._easeOutPower)}}),_e=ye.extend({options:{crs:Re,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(n,o){o=N(this,o),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(n),this._initLayout(),this._onResize=d(this._onResize,this),this._initEvents(),o.maxBounds&&this.setMaxBounds(o.maxBounds),o.zoom!==void 0&&(this._zoom=this._limitZoom(o.zoom)),o.center&&o.zoom!==void 0&&this.setView(z(o.center),o.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=mi&&le.any3d&&!le.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),me(this._proxy,ph,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(n,o,c){if(o=o===void 0?this._zoom:this._limitZoom(o),n=this._limitCenter(z(n),o,this.options.maxBounds),c=c||{},this._stop(),this._loaded&&!c.reset&&c!==!0){c.animate!==void 0&&(c.zoom=a({animate:c.animate},c.zoom),c.pan=a({animate:c.animate,duration:c.duration},c.pan));var h=this._zoom!==o?this._tryAnimatedZoom&&this._tryAnimatedZoom(n,o,c.zoom):this._tryAnimatedPan(n,c.pan);if(h)return clearTimeout(this._sizeTimer),this}return this._resetView(n,o,c.pan&&c.pan.noMoveStart),this},setZoom:function(n,o){return this._loaded?this.setView(this.getCenter(),n,{zoom:o}):(this._zoom=n,this)},zoomIn:function(n,o){return n=n||(le.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+n,o)},zoomOut:function(n,o){return n=n||(le.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-n,o)},setZoomAround:function(n,o,c){var h=this.getZoomScale(o),p=this.getSize().divideBy(2),_=n instanceof W?n:this.latLngToContainerPoint(n),P=_.subtract(p).multiplyBy(1-1/h),D=this.containerPointToLatLng(p.add(P));return this.setView(D,o,{zoom:c})},_getBoundsCenterZoom:function(n,o){o=o||{},n=n.getBounds?n.getBounds():I(n);var c=$(o.paddingTopLeft||o.padding||[0,0]),h=$(o.paddingBottomRight||o.padding||[0,0]),p=this.getBoundsZoom(n,!1,c.add(h));if(p=typeof o.maxZoom=="number"?Math.min(o.maxZoom,p):p,p===1/0)return{center:n.getCenter(),zoom:p};var _=h.subtract(c).divideBy(2),P=this.project(n.getSouthWest(),p),D=this.project(n.getNorthEast(),p),R=this.unproject(P.add(D).divideBy(2).add(_),p);return{center:R,zoom:p}},fitBounds:function(n,o){if(n=I(n),!n.isValid())throw new Error("Bounds are not valid.");var c=this._getBoundsCenterZoom(n,o);return this.setView(c.center,c.zoom,o)},fitWorld:function(n){return this.fitBounds([[-90,-180],[90,180]],n)},panTo:function(n,o){return this.setView(n,this._zoom,{pan:o})},panBy:function(n,o){if(n=$(n).round(),o=o||{},!n.x&&!n.y)return this.fire("moveend");if(o.animate!==!0&&!this.getSize().contains(n))return this._resetView(this.unproject(this.project(this.getCenter()).add(n)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new _h,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),o.noMoveStart||this.fire("movestart"),o.animate!==!1){ge(this._mapPane,"leaflet-pan-anim");var c=this._getMapPanePos().subtract(n).round();this._panAnim.run(this._mapPane,c,o.duration||.25,o.easeLinearity)}else this._rawPanBy(n),this.fire("move").fire("moveend");return this},flyTo:function(n,o,c){if(c=c||{},c.animate===!1||!le.any3d)return this.setView(n,o,c);this._stop();var h=this.project(this.getCenter()),p=this.project(n),_=this.getSize(),P=this._zoom;n=z(n),o=o===void 0?P:o;var D=Math.max(_.x,_.y),R=D*this.getZoomScale(P,o),H=p.distanceTo(h)||1,te=1.42,de=te*te;function xe(et){var qa=et?-1:1,vv=et?R:D,yv=R*R-D*D+qa*de*de*H*H,bv=2*vv*de*H,uc=yv/bv,rf=Math.sqrt(uc*uc+1)-uc,wv=rf<1e-9?-18:Math.log(rf);return wv}function _t(et){return(Math.exp(et)-Math.exp(-et))/2}function ot(et){return(Math.exp(et)+Math.exp(-et))/2}function Gt(et){return _t(et)/ot(et)}var Pt=xe(0);function js(et){return D*(ot(Pt)/ot(Pt+te*et))}function mv(et){return D*(ot(Pt)*Gt(Pt+te*et)-_t(Pt))/de}function pv(et){return 1-Math.pow(1-et,1.5)}var gv=Date.now(),ef=(xe(1)-Pt)/te,xv=c.duration?1e3*c.duration:1e3*ef*.8;function tf(){var et=(Date.now()-gv)/xv,qa=pv(et)*ef;et<=1?(this._flyToFrame=q(tf,this),this._move(this.unproject(h.add(p.subtract(h).multiplyBy(mv(qa)/H)),P),this.getScaleZoom(D/js(qa),P),{flyTo:!0})):this._move(n,o)._moveEnd(!0)}return this._moveStart(!0,c.noMoveStart),tf.call(this),this},flyToBounds:function(n,o){var c=this._getBoundsCenterZoom(n,o);return this.flyTo(c.center,c.zoom,o)},setMaxBounds:function(n){return n=I(n),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),n.isValid()?(this.options.maxBounds=n,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(n){var o=this.options.minZoom;return this.options.minZoom=n,this._loaded&&o!==n&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(n):this},setMaxZoom:function(n){var o=this.options.maxZoom;return this.options.maxZoom=n,this._loaded&&o!==n&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(n):this},panInsideBounds:function(n,o){this._enforcingBounds=!0;var c=this.getCenter(),h=this._limitCenter(c,this._zoom,I(n));return c.equals(h)||this.panTo(h,o),this._enforcingBounds=!1,this},panInside:function(n,o){o=o||{};var c=$(o.paddingTopLeft||o.padding||[0,0]),h=$(o.paddingBottomRight||o.padding||[0,0]),p=this.project(this.getCenter()),_=this.project(n),P=this.getPixelBounds(),D=he([P.min.add(c),P.max.subtract(h)]),R=D.getSize();if(!D.contains(_)){this._enforcingBounds=!0;var H=_.subtract(D.getCenter()),te=D.extend(_).getSize().subtract(R);p.x+=H.x<0?-te.x:te.x,p.y+=H.y<0?-te.y:te.y,this.panTo(this.unproject(p),o),this._enforcingBounds=!1}return this},invalidateSize:function(n){if(!this._loaded)return this;n=a({animate:!1,pan:!0},n===!0?{animate:!0}:n);var o=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var c=this.getSize(),h=o.divideBy(2).round(),p=c.divideBy(2).round(),_=h.subtract(p);return!_.x&&!_.y?this:(n.animate&&n.pan?this.panBy(_):(n.pan&&this._rawPanBy(_),this.fire("move"),n.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(d(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:o,newSize:c}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(n){if(n=this._locateOptions=a({timeout:1e4,watch:!1},n),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var o=d(this._handleGeolocationResponse,this),c=d(this._handleGeolocationError,this);return n.watch?this._locationWatchId=navigator.geolocation.watchPosition(o,c,n):navigator.geolocation.getCurrentPosition(o,c,n),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(n){if(this._container._leaflet_id){var o=n.code,c=n.message||(o===1?"permission denied":o===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:o,message:"Geolocation error: "+c+"."})}},_handleGeolocationResponse:function(n){if(this._container._leaflet_id){var o=n.coords.latitude,c=n.coords.longitude,h=new X(o,c),p=h.toBounds(n.coords.accuracy*2),_=this._locateOptions;if(_.setView){var P=this.getBoundsZoom(p);this.setView(h,_.maxZoom?Math.min(P,_.maxZoom):P)}var D={latlng:h,bounds:p,timestamp:n.timestamp};for(var R in n.coords)typeof n.coords[R]=="number"&&(D[R]=n.coords[R]);this.fire("locationfound",D)}},addHandler:function(n,o){if(!o)return this;var c=this[n]=new o(this);return this._handlers.push(c),this.options[n]&&c.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),$e(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ie(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var n;for(n in this._layers)this._layers[n].remove();for(n in this._panes)$e(this._panes[n]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(n,o){var c="leaflet-pane"+(n?" leaflet-"+n.replace("Pane","")+"-pane":""),h=Ne("div",c,o||this._mapPane);return n&&(this._panes[n]=h),h},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var n=this.getPixelBounds(),o=this.unproject(n.getBottomLeft()),c=this.unproject(n.getTopRight());return new Se(o,c)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(n,o,c){n=I(n),c=$(c||[0,0]);var h=this.getZoom()||0,p=this.getMinZoom(),_=this.getMaxZoom(),P=n.getNorthWest(),D=n.getSouthEast(),R=this.getSize().subtract(c),H=he(this.project(D,h),this.project(P,h)).getSize(),te=le.any3d?this.options.zoomSnap:1,de=R.x/H.x,xe=R.y/H.y,_t=o?Math.max(de,xe):Math.min(de,xe);return h=this.getScaleZoom(_t,h),te&&(h=Math.round(h/(te/100))*(te/100),h=o?Math.ceil(h/te)*te:Math.floor(h/te)*te),Math.max(p,Math.min(_,h))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new W(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(n,o){var c=this._getTopLeftPoint(n,o);return new se(c,c.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(n){return this.options.crs.getProjectedBounds(n===void 0?this.getZoom():n)},getPane:function(n){return typeof n=="string"?this._panes[n]:n},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(n,o){var c=this.options.crs;return o=o===void 0?this._zoom:o,c.scale(n)/c.scale(o)},getScaleZoom:function(n,o){var c=this.options.crs;o=o===void 0?this._zoom:o;var h=c.zoom(n*c.scale(o));return isNaN(h)?1/0:h},project:function(n,o){return o=o===void 0?this._zoom:o,this.options.crs.latLngToPoint(z(n),o)},unproject:function(n,o){return o=o===void 0?this._zoom:o,this.options.crs.pointToLatLng($(n),o)},layerPointToLatLng:function(n){var o=$(n).add(this.getPixelOrigin());return this.unproject(o)},latLngToLayerPoint:function(n){var o=this.project(z(n))._round();return o._subtract(this.getPixelOrigin())},wrapLatLng:function(n){return this.options.crs.wrapLatLng(z(n))},wrapLatLngBounds:function(n){return this.options.crs.wrapLatLngBounds(I(n))},distance:function(n,o){return this.options.crs.distance(z(n),z(o))},containerPointToLayerPoint:function(n){return $(n).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(n){return $(n).add(this._getMapPanePos())},containerPointToLatLng:function(n){var o=this.containerPointToLayerPoint($(n));return this.layerPointToLatLng(o)},latLngToContainerPoint:function(n){return this.layerPointToContainerPoint(this.latLngToLayerPoint(z(n)))},mouseEventToContainerPoint:function(n){return bh(n,this._container)},mouseEventToLayerPoint:function(n){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(n))},mouseEventToLatLng:function(n){return this.layerPointToLatLng(this.mouseEventToLayerPoint(n))},_initContainer:function(n){var o=this._container=gh(n);if(o){if(o._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");me(o,"scroll",this._onScroll,this),this._containerId=f(o)},_initLayout:function(){var n=this._container;this._fadeAnimated=this.options.fadeAnimation&&le.any3d,ge(n,"leaflet-container"+(le.touch?" leaflet-touch":"")+(le.retina?" leaflet-retina":"")+(le.ielt9?" leaflet-oldie":"")+(le.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var o=pi(n,"position");o!=="absolute"&&o!=="relative"&&o!=="fixed"&&o!=="sticky"&&(n.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var n=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Xe(this._mapPane,new W(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ge(n.markerPane,"leaflet-zoom-hide"),ge(n.shadowPane,"leaflet-zoom-hide"))},_resetView:function(n,o,c){Xe(this._mapPane,new W(0,0));var h=!this._loaded;this._loaded=!0,o=this._limitZoom(o),this.fire("viewprereset");var p=this._zoom!==o;this._moveStart(p,c)._move(n,o)._moveEnd(p),this.fire("viewreset"),h&&this.fire("load")},_moveStart:function(n,o){return n&&this.fire("zoomstart"),o||this.fire("movestart"),this},_move:function(n,o,c,h){o===void 0&&(o=this._zoom);var p=this._zoom!==o;return this._zoom=o,this._lastCenter=n,this._pixelOrigin=this._getNewPixelOrigin(n),h?c&&c.pinch&&this.fire("zoom",c):((p||c&&c.pinch)&&this.fire("zoom",c),this.fire("move",c)),this},_moveEnd:function(n){return n&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ie(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(n){Xe(this._mapPane,this._getMapPanePos().subtract(n))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(n){this._targets={},this._targets[f(this._container)]=this;var o=n?ze:me;o(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&o(window,"resize",this._onResize,this),le.any3d&&this.options.transform3DLimit&&(n?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ie(this._resizeRequest),this._resizeRequest=q(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var n=this._getMapPanePos();Math.max(Math.abs(n.x),Math.abs(n.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(n,o){for(var c=[],h,p=o==="mouseout"||o==="mouseover",_=n.target||n.srcElement,P=!1;_;){if(h=this._targets[f(_)],h&&(o==="click"||o==="preclick")&&this._draggableMoved(h)){P=!0;break}if(h&&h.listens(o,!0)&&(p&&!ec(_,n)||(c.push(h),p))||_===this._container)break;_=_.parentNode}return!c.length&&!P&&!p&&this.listens(o,!0)&&(c=[this]),c},_isClickDisabled:function(n){for(;n&&n!==this._container;){if(n._leaflet_disable_click)return!0;n=n.parentNode}},_handleDOMEvent:function(n){var o=n.target||n.srcElement;if(!(!this._loaded||o._leaflet_disable_events||n.type==="click"&&this._isClickDisabled(o))){var c=n.type;c==="mousedown"&&ql(o),this._fireDOMEvent(n,c)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(n,o,c){if(n.type==="click"){var h=a({},n);h.type="preclick",this._fireDOMEvent(h,h.type,c)}var p=this._findEventTargets(n,o);if(c){for(var _=[],P=0;P<c.length;P++)c[P].listens(o,!0)&&_.push(c[P]);p=_.concat(p)}if(p.length){o==="contextmenu"&&ut(n);var D=p[0],R={originalEvent:n};if(n.type!=="keypress"&&n.type!=="keydown"&&n.type!=="keyup"){var H=D.getLatLng&&(!D._radius||D._radius<=10);R.containerPoint=H?this.latLngToContainerPoint(D.getLatLng()):this.mouseEventToContainerPoint(n),R.layerPoint=this.containerPointToLayerPoint(R.containerPoint),R.latlng=H?D.getLatLng():this.layerPointToLatLng(R.layerPoint)}for(P=0;P<p.length;P++)if(p[P].fire(o,R,!0),R.originalEvent._stopped||p[P].options.bubblingMouseEvents===!1&&E(this._mouseEvents,o)!==-1)return}},_draggableMoved:function(n){return n=n.dragging&&n.dragging.enabled()?n:this,n.dragging&&n.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var n=0,o=this._handlers.length;n<o;n++)this._handlers[n].disable()},whenReady:function(n,o){return this._loaded?n.call(o||this,{target:this}):this.on("load",n,o),this},_getMapPanePos:function(){return Fn(this._mapPane)||new W(0,0)},_moved:function(){var n=this._getMapPanePos();return n&&!n.equals([0,0])},_getTopLeftPoint:function(n,o){var c=n&&o!==void 0?this._getNewPixelOrigin(n,o):this.getPixelOrigin();return c.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(n,o){var c=this.getSize()._divideBy(2);return this.project(n,o)._subtract(c)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(n,o,c){var h=this._getNewPixelOrigin(c,o);return this.project(n,o)._subtract(h)},_latLngBoundsToNewLayerBounds:function(n,o,c){var h=this._getNewPixelOrigin(c,o);return he([this.project(n.getSouthWest(),o)._subtract(h),this.project(n.getNorthWest(),o)._subtract(h),this.project(n.getSouthEast(),o)._subtract(h),this.project(n.getNorthEast(),o)._subtract(h)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(n){return this.latLngToLayerPoint(n).subtract(this._getCenterLayerPoint())},_limitCenter:function(n,o,c){if(!c)return n;var h=this.project(n,o),p=this.getSize().divideBy(2),_=new se(h.subtract(p),h.add(p)),P=this._getBoundsOffset(_,c,o);return Math.abs(P.x)<=1&&Math.abs(P.y)<=1?n:this.unproject(h.add(P),o)},_limitOffset:function(n,o){if(!o)return n;var c=this.getPixelBounds(),h=new se(c.min.add(n),c.max.add(n));return n.add(this._getBoundsOffset(h,o))},_getBoundsOffset:function(n,o,c){var h=he(this.project(o.getNorthEast(),c),this.project(o.getSouthWest(),c)),p=h.min.subtract(n.min),_=h.max.subtract(n.max),P=this._rebound(p.x,-_.x),D=this._rebound(p.y,-_.y);return new W(P,D)},_rebound:function(n,o){return n+o>0?Math.round(n-o)/2:Math.max(0,Math.ceil(n))-Math.max(0,Math.floor(o))},_limitZoom:function(n){var o=this.getMinZoom(),c=this.getMaxZoom(),h=le.any3d?this.options.zoomSnap:1;return h&&(n=Math.round(n/h)*h),Math.max(o,Math.min(c,n))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Je(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(n,o){var c=this._getCenterOffset(n)._trunc();return(o&&o.animate)!==!0&&!this.getSize().contains(c)?!1:(this.panBy(c,o),!0)},_createAnimProxy:function(){var n=this._proxy=Ne("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(n),this.on("zoomanim",function(o){var c=Wl,h=this._proxy.style[c];Bn(this._proxy,this.project(o.center,o.zoom),this.getZoomScale(o.zoom,1)),h===this._proxy.style[c]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){$e(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var n=this.getCenter(),o=this.getZoom();Bn(this._proxy,this.project(n,o),this.getZoomScale(o,1))},_catchTransitionEnd:function(n){this._animatingZoom&&n.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(n,o,c){if(this._animatingZoom)return!0;if(c=c||{},!this._zoomAnimated||c.animate===!1||this._nothingToAnimate()||Math.abs(o-this._zoom)>this.options.zoomAnimationThreshold)return!1;var h=this.getZoomScale(o),p=this._getCenterOffset(n)._divideBy(1-1/h);return c.animate!==!0&&!this.getSize().contains(p)?!1:(q(function(){this._moveStart(!0,c.noMoveStart||!1)._animateZoom(n,o,!0)},this),!0)},_animateZoom:function(n,o,c,h){this._mapPane&&(c&&(this._animatingZoom=!0,this._animateToCenter=n,this._animateToZoom=o,ge(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:n,zoom:o,noUpdate:h}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(d(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Je(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Tx(n,o){return new _e(n,o)}var or=pe.extend({options:{position:"topright"},initialize:function(n){N(this,n)},getPosition:function(){return this.options.position},setPosition:function(n){var o=this._map;return o&&o.removeControl(this),this.options.position=n,o&&o.addControl(this),this},getContainer:function(){return this._container},addTo:function(n){this.remove(),this._map=n;var o=this._container=this.onAdd(n),c=this.getPosition(),h=n._controlCorners[c];return ge(o,"leaflet-control"),c.indexOf("bottom")!==-1?h.insertBefore(o,h.firstChild):h.appendChild(o),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?($e(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(n){this._map&&n&&n.screenX>0&&n.screenY>0&&this._map.getContainer().focus()}}),bi=function(n){return new or(n)};_e.include({addControl:function(n){return n.addTo(this),this},removeControl:function(n){return n.remove(),this},_initControlPos:function(){var n=this._controlCorners={},o="leaflet-",c=this._controlContainer=Ne("div",o+"control-container",this._container);function h(p,_){var P=o+p+" "+o+_;n[p+_]=Ne("div",P,c)}h("top","left"),h("top","right"),h("bottom","left"),h("bottom","right")},_clearControlPos:function(){for(var n in this._controlCorners)$e(this._controlCorners[n]);$e(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var kh=or.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(n,o,c,h){return c<h?-1:h<c?1:0}},initialize:function(n,o,c){N(this,c),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var h in n)this._addLayer(n[h],h);for(h in o)this._addLayer(o[h],h,!0)},onAdd:function(n){this._initLayout(),this._update(),this._map=n,n.on("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(n){return or.prototype.addTo.call(this,n),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var n=0;n<this._layers.length;n++)this._layers[n].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(n,o){return this._addLayer(n,o),this._map?this._update():this},addOverlay:function(n,o){return this._addLayer(n,o,!0),this._map?this._update():this},removeLayer:function(n){n.off("add remove",this._onLayerChange,this);var o=this._getLayer(f(n));return o&&this._layers.splice(this._layers.indexOf(o),1),this._map?this._update():this},expand:function(){ge(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var n=this._map.getSize().y-(this._container.offsetTop+50);return n<this._section.clientHeight?(ge(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=n+"px"):Je(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Je(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var n="leaflet-control-layers",o=this._container=Ne("div",n),c=this.options.collapsed;o.setAttribute("aria-haspopup",!0),yi(o),Xl(o);var h=this._section=Ne("section",n+"-list");c&&(this._map.on("click",this.collapse,this),me(o,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var p=this._layersLink=Ne("a",n+"-toggle",o);p.href="#",p.title="Layers",p.setAttribute("role","button"),me(p,{keydown:function(_){_.keyCode===13&&this._expandSafely()},click:function(_){ut(_),this._expandSafely()}},this),c||this.expand(),this._baseLayersList=Ne("div",n+"-base",h),this._separator=Ne("div",n+"-separator",h),this._overlaysList=Ne("div",n+"-overlays",h),o.appendChild(h)},_getLayer:function(n){for(var o=0;o<this._layers.length;o++)if(this._layers[o]&&f(this._layers[o].layer)===n)return this._layers[o]},_addLayer:function(n,o,c){this._map&&n.on("add remove",this._onLayerChange,this),this._layers.push({layer:n,name:o,overlay:c}),this.options.sortLayers&&this._layers.sort(d(function(h,p){return this.options.sortFunction(h.layer,p.layer,h.name,p.name)},this)),this.options.autoZIndex&&n.setZIndex&&(this._lastZIndex++,n.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;La(this._baseLayersList),La(this._overlaysList),this._layerControlInputs=[];var n,o,c,h,p=0;for(c=0;c<this._layers.length;c++)h=this._layers[c],this._addItem(h),o=o||h.overlay,n=n||!h.overlay,p+=h.overlay?0:1;return this.options.hideSingleBase&&(n=n&&p>1,this._baseLayersList.style.display=n?"":"none"),this._separator.style.display=o&&n?"":"none",this},_onLayerChange:function(n){this._handlingClick||this._update();var o=this._getLayer(f(n.target)),c=o.overlay?n.type==="add"?"overlayadd":"overlayremove":n.type==="add"?"baselayerchange":null;c&&this._map.fire(c,o)},_createRadioElement:function(n,o){var c='<input type="radio" class="leaflet-control-layers-selector" name="'+n+'"'+(o?' checked="checked"':"")+"/>",h=document.createElement("div");return h.innerHTML=c,h.firstChild},_addItem:function(n){var o=document.createElement("label"),c=this._map.hasLayer(n.layer),h;n.overlay?(h=document.createElement("input"),h.type="checkbox",h.className="leaflet-control-layers-selector",h.defaultChecked=c):h=this._createRadioElement("leaflet-base-layers_"+f(this),c),this._layerControlInputs.push(h),h.layerId=f(n.layer),me(h,"click",this._onInputClick,this);var p=document.createElement("span");p.innerHTML=" "+n.name;var _=document.createElement("span");o.appendChild(_),_.appendChild(h),_.appendChild(p);var P=n.overlay?this._overlaysList:this._baseLayersList;return P.appendChild(o),this._checkDisabledLayers(),o},_onInputClick:function(){if(!this._preventClick){var n=this._layerControlInputs,o,c,h=[],p=[];this._handlingClick=!0;for(var _=n.length-1;_>=0;_--)o=n[_],c=this._getLayer(o.layerId).layer,o.checked?h.push(c):o.checked||p.push(c);for(_=0;_<p.length;_++)this._map.hasLayer(p[_])&&this._map.removeLayer(p[_]);for(_=0;_<h.length;_++)this._map.hasLayer(h[_])||this._map.addLayer(h[_]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var n=this._layerControlInputs,o,c,h=this._map.getZoom(),p=n.length-1;p>=0;p--)o=n[p],c=this._getLayer(o.layerId).layer,o.disabled=c.options.minZoom!==void 0&&h<c.options.minZoom||c.options.maxZoom!==void 0&&h>c.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var n=this._section;this._preventClick=!0,me(n,"click",ut),this.expand();var o=this;setTimeout(function(){ze(n,"click",ut),o._preventClick=!1})}}),Lx=function(n,o,c){return new kh(n,o,c)},tc=or.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(n){var o="leaflet-control-zoom",c=Ne("div",o+" leaflet-bar"),h=this.options;return this._zoomInButton=this._createButton(h.zoomInText,h.zoomInTitle,o+"-in",c,this._zoomIn),this._zoomOutButton=this._createButton(h.zoomOutText,h.zoomOutTitle,o+"-out",c,this._zoomOut),this._updateDisabled(),n.on("zoomend zoomlevelschange",this._updateDisabled,this),c},onRemove:function(n){n.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(n){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(n.shiftKey?3:1))},_zoomOut:function(n){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(n.shiftKey?3:1))},_createButton:function(n,o,c,h,p){var _=Ne("a",c,h);return _.innerHTML=n,_.href="#",_.title=o,_.setAttribute("role","button"),_.setAttribute("aria-label",o),yi(_),me(_,"click",$n),me(_,"click",p,this),me(_,"click",this._refocusOnMap,this),_},_updateDisabled:function(){var n=this._map,o="leaflet-disabled";Je(this._zoomInButton,o),Je(this._zoomOutButton,o),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||n._zoom===n.getMinZoom())&&(ge(this._zoomOutButton,o),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||n._zoom===n.getMaxZoom())&&(ge(this._zoomInButton,o),this._zoomInButton.setAttribute("aria-disabled","true"))}});_e.mergeOptions({zoomControl:!0}),_e.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new tc,this.addControl(this.zoomControl))});var Ox=function(n){return new tc(n)},jh=or.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(n){var o="leaflet-control-scale",c=Ne("div",o),h=this.options;return this._addScales(h,o+"-line",c),n.on(h.updateWhenIdle?"moveend":"move",this._update,this),n.whenReady(this._update,this),c},onRemove:function(n){n.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(n,o,c){n.metric&&(this._mScale=Ne("div",o,c)),n.imperial&&(this._iScale=Ne("div",o,c))},_update:function(){var n=this._map,o=n.getSize().y/2,c=n.distance(n.containerPointToLatLng([0,o]),n.containerPointToLatLng([this.options.maxWidth,o]));this._updateScales(c)},_updateScales:function(n){this.options.metric&&n&&this._updateMetric(n),this.options.imperial&&n&&this._updateImperial(n)},_updateMetric:function(n){var o=this._getRoundNum(n),c=o<1e3?o+" m":o/1e3+" km";this._updateScale(this._mScale,c,o/n)},_updateImperial:function(n){var o=n*3.2808399,c,h,p;o>5280?(c=o/5280,h=this._getRoundNum(c),this._updateScale(this._iScale,h+" mi",h/c)):(p=this._getRoundNum(o),this._updateScale(this._iScale,p+" ft",p/o))},_updateScale:function(n,o,c){n.style.width=Math.round(this.options.maxWidth*c)+"px",n.innerHTML=o},_getRoundNum:function(n){var o=Math.pow(10,(Math.floor(n)+"").length-1),c=n/o;return c=c>=10?10:c>=5?5:c>=3?3:c>=2?2:1,o*c}}),Dx=function(n){return new jh(n)},zx='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',rc=or.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(le.inlineSvg?zx+" ":"")+"Leaflet</a>"},initialize:function(n){N(this,n),this._attributions={}},onAdd:function(n){n.attributionControl=this,this._container=Ne("div","leaflet-control-attribution"),yi(this._container);for(var o in n._layers)n._layers[o].getAttribution&&this.addAttribution(n._layers[o].getAttribution());return this._update(),n.on("layeradd",this._addAttribution,this),this._container},onRemove:function(n){n.off("layeradd",this._addAttribution,this)},_addAttribution:function(n){n.layer.getAttribution&&(this.addAttribution(n.layer.getAttribution()),n.layer.once("remove",function(){this.removeAttribution(n.layer.getAttribution())},this))},setPrefix:function(n){return this.options.prefix=n,this._update(),this},addAttribution:function(n){return n?(this._attributions[n]||(this._attributions[n]=0),this._attributions[n]++,this._update(),this):this},removeAttribution:function(n){return n?(this._attributions[n]&&(this._attributions[n]--,this._update()),this):this},_update:function(){if(this._map){var n=[];for(var o in this._attributions)this._attributions[o]&&n.push(o);var c=[];this.options.prefix&&c.push(this.options.prefix),n.length&&c.push(n.join(", ")),this._container.innerHTML=c.join(' <span aria-hidden="true">|</span> ')}}});_e.mergeOptions({attributionControl:!0}),_e.addInitHook(function(){this.options.attributionControl&&new rc().addTo(this)});var Ix=function(n){return new rc(n)};or.Layers=kh,or.Zoom=tc,or.Scale=jh,or.Attribution=rc,bi.layers=Lx,bi.zoom=Ox,bi.scale=Dx,bi.attribution=Ix;var kr=pe.extend({initialize:function(n){this._map=n},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});kr.addTo=function(n,o){return n.addHandler(o,this),this};var Rx={Events:oe},Nh=le.touch?"touchstart mousedown":"mousedown",an=ye.extend({options:{clickTolerance:3},initialize:function(n,o,c,h){N(this,h),this._element=n,this._dragStartTarget=o||n,this._preventOutline=c},enable:function(){this._enabled||(me(this._dragStartTarget,Nh,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(an._dragging===this&&this.finishDrag(!0),ze(this._dragStartTarget,Nh,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(n){if(this._enabled&&(this._moved=!1,!$l(this._element,"leaflet-zoom-anim"))){if(n.touches&&n.touches.length!==1){an._dragging===this&&this.finishDrag();return}if(!(an._dragging||n.shiftKey||n.which!==1&&n.button!==1&&!n.touches)&&(an._dragging=this,this._preventOutline&&ql(this._element),Ul(),gi(),!this._moving)){this.fire("down");var o=n.touches?n.touches[0]:n,c=xh(this._element);this._startPoint=new W(o.clientX,o.clientY),this._startPos=Fn(this._element),this._parentScale=Gl(c);var h=n.type==="mousedown";me(document,h?"mousemove":"touchmove",this._onMove,this),me(document,h?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(n){if(this._enabled){if(n.touches&&n.touches.length>1){this._moved=!0;return}var o=n.touches&&n.touches.length===1?n.touches[0]:n,c=new W(o.clientX,o.clientY)._subtract(this._startPoint);!c.x&&!c.y||Math.abs(c.x)+Math.abs(c.y)<this.options.clickTolerance||(c.x/=this._parentScale.x,c.y/=this._parentScale.y,ut(n),this._moved||(this.fire("dragstart"),this._moved=!0,ge(document.body,"leaflet-dragging"),this._lastTarget=n.target||n.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ge(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(c),this._moving=!0,this._lastEvent=n,this._updatePosition())}},_updatePosition:function(){var n={originalEvent:this._lastEvent};this.fire("predrag",n),Xe(this._element,this._newPos),this.fire("drag",n)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(n){Je(document.body,"leaflet-dragging"),this._lastTarget&&(Je(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ze(document,"mousemove touchmove",this._onMove,this),ze(document,"mouseup touchend touchcancel",this._onUp,this),Vl(),xi();var o=this._moved&&this._moving;this._moving=!1,an._dragging=!1,o&&this.fire("dragend",{noInertia:n,distance:this._newPos.distanceTo(this._startPos)})}});function Sh(n,o,c){var h,p=[1,4,2,8],_,P,D,R,H,te,de,xe;for(_=0,te=n.length;_<te;_++)n[_]._code=Zn(n[_],o);for(D=0;D<4;D++){for(de=p[D],h=[],_=0,te=n.length,P=te-1;_<te;P=_++)R=n[_],H=n[P],R._code&de?H._code&de||(xe=Ra(H,R,de,o,c),xe._code=Zn(xe,o),h.push(xe)):(H._code&de&&(xe=Ra(H,R,de,o,c),xe._code=Zn(xe,o),h.push(xe)),h.push(R));n=h}return n}function Ch(n,o){var c,h,p,_,P,D,R,H,te;if(!n||n.length===0)throw new Error("latlngs not passed");qt(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var de=z([0,0]),xe=I(n),_t=xe.getNorthWest().distanceTo(xe.getSouthWest())*xe.getNorthEast().distanceTo(xe.getNorthWest());_t<1700&&(de=nc(n));var ot=n.length,Gt=[];for(c=0;c<ot;c++){var Pt=z(n[c]);Gt.push(o.project(z([Pt.lat-de.lat,Pt.lng-de.lng])))}for(D=R=H=0,c=0,h=ot-1;c<ot;h=c++)p=Gt[c],_=Gt[h],P=p.y*_.x-_.y*p.x,R+=(p.x+_.x)*P,H+=(p.y+_.y)*P,D+=P*3;D===0?te=Gt[0]:te=[R/D,H/D];var js=o.unproject($(te));return z([js.lat+de.lat,js.lng+de.lng])}function nc(n){for(var o=0,c=0,h=0,p=0;p<n.length;p++){var _=z(n[p]);o+=_.lat,c+=_.lng,h++}return z([o/h,c/h])}var Ax={__proto__:null,clipPolygon:Sh,polygonCenter:Ch,centroid:nc};function Ph(n,o){if(!o||!n.length)return n.slice();var c=o*o;return n=Wx(n,c),n=Fx(n,c),n}function Mh(n,o,c){return Math.sqrt(wi(n,o,c,!0))}function Bx(n,o,c){return wi(n,o,c)}function Fx(n,o){var c=n.length,h=typeof Uint8Array<"u"?Uint8Array:Array,p=new h(c);p[0]=p[c-1]=1,sc(n,p,o,0,c-1);var _,P=[];for(_=0;_<c;_++)p[_]&&P.push(n[_]);return P}function sc(n,o,c,h,p){var _=0,P,D,R;for(D=h+1;D<=p-1;D++)R=wi(n[D],n[h],n[p],!0),R>_&&(P=D,_=R);_>c&&(o[P]=1,sc(n,o,c,h,P),sc(n,o,c,P,p))}function Wx(n,o){for(var c=[n[0]],h=1,p=0,_=n.length;h<_;h++)$x(n[h],n[p])>o&&(c.push(n[h]),p=h);return p<_-1&&c.push(n[_-1]),c}var Eh;function Th(n,o,c,h,p){var _=h?Eh:Zn(n,c),P=Zn(o,c),D,R,H;for(Eh=P;;){if(!(_|P))return[n,o];if(_&P)return!1;D=_||P,R=Ra(n,o,D,c,p),H=Zn(R,c),D===_?(n=R,_=H):(o=R,P=H)}}function Ra(n,o,c,h,p){var _=o.x-n.x,P=o.y-n.y,D=h.min,R=h.max,H,te;return c&8?(H=n.x+_*(R.y-n.y)/P,te=R.y):c&4?(H=n.x+_*(D.y-n.y)/P,te=D.y):c&2?(H=R.x,te=n.y+P*(R.x-n.x)/_):c&1&&(H=D.x,te=n.y+P*(D.x-n.x)/_),new W(H,te,p)}function Zn(n,o){var c=0;return n.x<o.min.x?c|=1:n.x>o.max.x&&(c|=2),n.y<o.min.y?c|=4:n.y>o.max.y&&(c|=8),c}function $x(n,o){var c=o.x-n.x,h=o.y-n.y;return c*c+h*h}function wi(n,o,c,h){var p=o.x,_=o.y,P=c.x-p,D=c.y-_,R=P*P+D*D,H;return R>0&&(H=((n.x-p)*P+(n.y-_)*D)/R,H>1?(p=c.x,_=c.y):H>0&&(p+=P*H,_+=D*H)),P=n.x-p,D=n.y-_,h?P*P+D*D:new W(p,_)}function qt(n){return!x(n[0])||typeof n[0][0]!="object"&&typeof n[0][0]<"u"}function Lh(n){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),qt(n)}function Oh(n,o){var c,h,p,_,P,D,R,H;if(!n||n.length===0)throw new Error("latlngs not passed");qt(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var te=z([0,0]),de=I(n),xe=de.getNorthWest().distanceTo(de.getSouthWest())*de.getNorthEast().distanceTo(de.getNorthWest());xe<1700&&(te=nc(n));var _t=n.length,ot=[];for(c=0;c<_t;c++){var Gt=z(n[c]);ot.push(o.project(z([Gt.lat-te.lat,Gt.lng-te.lng])))}for(c=0,h=0;c<_t-1;c++)h+=ot[c].distanceTo(ot[c+1])/2;if(h===0)H=ot[0];else for(c=0,_=0;c<_t-1;c++)if(P=ot[c],D=ot[c+1],p=P.distanceTo(D),_+=p,_>h){R=(_-h)/p,H=[D.x-R*(D.x-P.x),D.y-R*(D.y-P.y)];break}var Pt=o.unproject($(H));return z([Pt.lat+te.lat,Pt.lng+te.lng])}var Zx={__proto__:null,simplify:Ph,pointToSegmentDistance:Mh,closestPointOnSegment:Bx,clipSegment:Th,_getEdgeIntersection:Ra,_getBitCode:Zn,_sqClosestPointOnSegment:wi,isFlat:qt,_flat:Lh,polylineCenter:Oh},ic={project:function(n){return new W(n.lng,n.lat)},unproject:function(n){return new X(n.y,n.x)},bounds:new se([-180,-90],[180,90])},ac={R:6378137,R_MINOR:6356752314245179e-9,bounds:new se([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(n){var o=Math.PI/180,c=this.R,h=n.lat*o,p=this.R_MINOR/c,_=Math.sqrt(1-p*p),P=_*Math.sin(h),D=Math.tan(Math.PI/4-h/2)/Math.pow((1-P)/(1+P),_/2);return h=-c*Math.log(Math.max(D,1e-10)),new W(n.lng*o*c,h)},unproject:function(n){for(var o=180/Math.PI,c=this.R,h=this.R_MINOR/c,p=Math.sqrt(1-h*h),_=Math.exp(-n.y/c),P=Math.PI/2-2*Math.atan(_),D=0,R=.1,H;D<15&&Math.abs(R)>1e-7;D++)H=p*Math.sin(P),H=Math.pow((1-H)/(1+H),p/2),R=Math.PI/2-2*Math.atan(_*H)-P,P+=R;return new X(P*o,n.x*o/c)}},Hx={__proto__:null,LonLat:ic,Mercator:ac,SphericalMercator:Ce},Ux=a({},ae,{code:"EPSG:3395",projection:ac,transformation:function(){var n=.5/(Math.PI*ac.R);return Le(n,.5,-n,.5)}()}),Dh=a({},ae,{code:"EPSG:4326",projection:ic,transformation:Le(1/180,1,-1/180,.5)}),Vx=a({},U,{projection:ic,transformation:Le(1,0,-1,0),scale:function(n){return Math.pow(2,n)},zoom:function(n){return Math.log(n)/Math.LN2},distance:function(n,o){var c=o.lng-n.lng,h=o.lat-n.lat;return Math.sqrt(c*c+h*h)},infinite:!0});U.Earth=ae,U.EPSG3395=Ux,U.EPSG3857=Re,U.EPSG900913=Ge,U.EPSG4326=Dh,U.Simple=Vx;var lr=ye.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(n){return n.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(n){return n&&n.removeLayer(this),this},getPane:function(n){return this._map.getPane(n?this.options[n]||n:this.options.pane)},addInteractiveTarget:function(n){return this._map._targets[f(n)]=this,this},removeInteractiveTarget:function(n){return delete this._map._targets[f(n)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(n){var o=n.target;if(o.hasLayer(this)){if(this._map=o,this._zoomAnimated=o._zoomAnimated,this.getEvents){var c=this.getEvents();o.on(c,this),this.once("remove",function(){o.off(c,this)},this)}this.onAdd(o),this.fire("add"),o.fire("layeradd",{layer:this})}}});_e.include({addLayer:function(n){if(!n._layerAdd)throw new Error("The provided object is not a Layer.");var o=f(n);return this._layers[o]?this:(this._layers[o]=n,n._mapToAdd=this,n.beforeAdd&&n.beforeAdd(this),this.whenReady(n._layerAdd,n),this)},removeLayer:function(n){var o=f(n);return this._layers[o]?(this._loaded&&n.onRemove(this),delete this._layers[o],this._loaded&&(this.fire("layerremove",{layer:n}),n.fire("remove")),n._map=n._mapToAdd=null,this):this},hasLayer:function(n){return f(n)in this._layers},eachLayer:function(n,o){for(var c in this._layers)n.call(o,this._layers[c]);return this},_addLayers:function(n){n=n?x(n)?n:[n]:[];for(var o=0,c=n.length;o<c;o++)this.addLayer(n[o])},_addZoomLimit:function(n){(!isNaN(n.options.maxZoom)||!isNaN(n.options.minZoom))&&(this._zoomBoundLayers[f(n)]=n,this._updateZoomLevels())},_removeZoomLimit:function(n){var o=f(n);this._zoomBoundLayers[o]&&(delete this._zoomBoundLayers[o],this._updateZoomLevels())},_updateZoomLevels:function(){var n=1/0,o=-1/0,c=this._getZoomSpan();for(var h in this._zoomBoundLayers){var p=this._zoomBoundLayers[h].options;n=p.minZoom===void 0?n:Math.min(n,p.minZoom),o=p.maxZoom===void 0?o:Math.max(o,p.maxZoom)}this._layersMaxZoom=o===-1/0?void 0:o,this._layersMinZoom=n===1/0?void 0:n,c!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ys=lr.extend({initialize:function(n,o){N(this,o),this._layers={};var c,h;if(n)for(c=0,h=n.length;c<h;c++)this.addLayer(n[c])},addLayer:function(n){var o=this.getLayerId(n);return this._layers[o]=n,this._map&&this._map.addLayer(n),this},removeLayer:function(n){var o=n in this._layers?n:this.getLayerId(n);return this._map&&this._layers[o]&&this._map.removeLayer(this._layers[o]),delete this._layers[o],this},hasLayer:function(n){var o=typeof n=="number"?n:this.getLayerId(n);return o in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(n){var o=Array.prototype.slice.call(arguments,1),c,h;for(c in this._layers)h=this._layers[c],h[n]&&h[n].apply(h,o);return this},onAdd:function(n){this.eachLayer(n.addLayer,n)},onRemove:function(n){this.eachLayer(n.removeLayer,n)},eachLayer:function(n,o){for(var c in this._layers)n.call(o,this._layers[c]);return this},getLayer:function(n){return this._layers[n]},getLayers:function(){var n=[];return this.eachLayer(n.push,n),n},setZIndex:function(n){return this.invoke("setZIndex",n)},getLayerId:function(n){return f(n)}}),Yx=function(n,o){return new ys(n,o)},Rr=ys.extend({addLayer:function(n){return this.hasLayer(n)?this:(n.addEventParent(this),ys.prototype.addLayer.call(this,n),this.fire("layeradd",{layer:n}))},removeLayer:function(n){return this.hasLayer(n)?(n in this._layers&&(n=this._layers[n]),n.removeEventParent(this),ys.prototype.removeLayer.call(this,n),this.fire("layerremove",{layer:n})):this},setStyle:function(n){return this.invoke("setStyle",n)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var n=new Se;for(var o in this._layers){var c=this._layers[o];n.extend(c.getBounds?c.getBounds():c.getLatLng())}return n}}),qx=function(n,o){return new Rr(n,o)},bs=pe.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(n){N(this,n)},createIcon:function(n){return this._createIcon("icon",n)},createShadow:function(n){return this._createIcon("shadow",n)},_createIcon:function(n,o){var c=this._getIconUrl(n);if(!c){if(n==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var h=this._createImg(c,o&&o.tagName==="IMG"?o:null);return this._setIconStyles(h,n),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),h},_setIconStyles:function(n,o){var c=this.options,h=c[o+"Size"];typeof h=="number"&&(h=[h,h]);var p=$(h),_=$(o==="shadow"&&c.shadowAnchor||c.iconAnchor||p&&p.divideBy(2,!0));n.className="leaflet-marker-"+o+" "+(c.className||""),_&&(n.style.marginLeft=-_.x+"px",n.style.marginTop=-_.y+"px"),p&&(n.style.width=p.x+"px",n.style.height=p.y+"px")},_createImg:function(n,o){return o=o||document.createElement("img"),o.src=n,o},_getIconUrl:function(n){return le.retina&&this.options[n+"RetinaUrl"]||this.options[n+"Url"]}});function Gx(n){return new bs(n)}var _i=bs.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(n){return typeof _i.imagePath!="string"&&(_i.imagePath=this._detectIconPath()),(this.options.imagePath||_i.imagePath)+bs.prototype._getIconUrl.call(this,n)},_stripUrl:function(n){var o=function(c,h,p){var _=h.exec(c);return _&&_[p]};return n=o(n,/^url\((['"])?(.+)\1\)$/,2),n&&o(n,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var n=Ne("div","leaflet-default-icon-path",document.body),o=pi(n,"background-image")||pi(n,"backgroundImage");if(document.body.removeChild(n),o=this._stripUrl(o),o)return o;var c=document.querySelector('link[href$="leaflet.css"]');return c?c.href.substring(0,c.href.length-11-1):""}}),zh=kr.extend({initialize:function(n){this._marker=n},addHooks:function(){var n=this._marker._icon;this._draggable||(this._draggable=new an(n,n,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ge(n,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Je(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(n){var o=this._marker,c=o._map,h=this._marker.options.autoPanSpeed,p=this._marker.options.autoPanPadding,_=Fn(o._icon),P=c.getPixelBounds(),D=c.getPixelOrigin(),R=he(P.min._subtract(D).add(p),P.max._subtract(D).subtract(p));if(!R.contains(_)){var H=$((Math.max(R.max.x,_.x)-R.max.x)/(P.max.x-R.max.x)-(Math.min(R.min.x,_.x)-R.min.x)/(P.min.x-R.min.x),(Math.max(R.max.y,_.y)-R.max.y)/(P.max.y-R.max.y)-(Math.min(R.min.y,_.y)-R.min.y)/(P.min.y-R.min.y)).multiplyBy(h);c.panBy(H,{animate:!1}),this._draggable._newPos._add(H),this._draggable._startPos._add(H),Xe(o._icon,this._draggable._newPos),this._onDrag(n),this._panRequest=q(this._adjustPan.bind(this,n))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(n){this._marker.options.autoPan&&(ie(this._panRequest),this._panRequest=q(this._adjustPan.bind(this,n)))},_onDrag:function(n){var o=this._marker,c=o._shadow,h=Fn(o._icon),p=o._map.layerPointToLatLng(h);c&&Xe(c,h),o._latlng=p,n.latlng=p,n.oldLatLng=this._oldLatLng,o.fire("move",n).fire("drag",n)},_onDragEnd:function(n){ie(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",n)}}),Aa=lr.extend({options:{icon:new _i,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(n,o){N(this,o),this._latlng=z(n)},onAdd:function(n){this._zoomAnimated=this._zoomAnimated&&n.options.markerZoomAnimation,this._zoomAnimated&&n.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(n){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&n.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(n){var o=this._latlng;return this._latlng=z(n),this.update(),this.fire("move",{oldLatLng:o,latlng:this._latlng})},setZIndexOffset:function(n){return this.options.zIndexOffset=n,this.update()},getIcon:function(){return this.options.icon},setIcon:function(n){return this.options.icon=n,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var n=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(n)}return this},_initIcon:function(){var n=this.options,o="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),c=n.icon.createIcon(this._icon),h=!1;c!==this._icon&&(this._icon&&this._removeIcon(),h=!0,n.title&&(c.title=n.title),c.tagName==="IMG"&&(c.alt=n.alt||"")),ge(c,o),n.keyboard&&(c.tabIndex="0",c.setAttribute("role","button")),this._icon=c,n.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&me(c,"focus",this._panOnFocus,this);var p=n.icon.createShadow(this._shadow),_=!1;p!==this._shadow&&(this._removeShadow(),_=!0),p&&(ge(p,o),p.alt=""),this._shadow=p,n.opacity<1&&this._updateOpacity(),h&&this.getPane().appendChild(this._icon),this._initInteraction(),p&&_&&this.getPane(n.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ze(this._icon,"focus",this._panOnFocus,this),$e(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&$e(this._shadow),this._shadow=null},_setPos:function(n){this._icon&&Xe(this._icon,n),this._shadow&&Xe(this._shadow,n),this._zIndex=n.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(n){this._icon&&(this._icon.style.zIndex=this._zIndex+n)},_animateZoom:function(n){var o=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center).round();this._setPos(o)},_initInteraction:function(){if(this.options.interactive&&(ge(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),zh)){var n=this.options.draggable;this.dragging&&(n=this.dragging.enabled(),this.dragging.disable()),this.dragging=new zh(this),n&&this.dragging.enable()}},setOpacity:function(n){return this.options.opacity=n,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var n=this.options.opacity;this._icon&&Yt(this._icon,n),this._shadow&&Yt(this._shadow,n)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var n=this._map;if(n){var o=this.options.icon.options,c=o.iconSize?$(o.iconSize):$(0,0),h=o.iconAnchor?$(o.iconAnchor):$(0,0);n.panInside(this._latlng,{paddingTopLeft:h,paddingBottomRight:c.subtract(h)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Jx(n,o){return new Aa(n,o)}var on=lr.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(n){this._renderer=n.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(n){return N(this,n),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&n&&Object.prototype.hasOwnProperty.call(n,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ba=on.extend({options:{fill:!0,radius:10},initialize:function(n,o){N(this,o),this._latlng=z(n),this._radius=this.options.radius},setLatLng:function(n){var o=this._latlng;return this._latlng=z(n),this.redraw(),this.fire("move",{oldLatLng:o,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(n){return this.options.radius=this._radius=n,this.redraw()},getRadius:function(){return this._radius},setStyle:function(n){var o=n&&n.radius||this._radius;return on.prototype.setStyle.call(this,n),this.setRadius(o),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var n=this._radius,o=this._radiusY||n,c=this._clickTolerance(),h=[n+c,o+c];this._pxBounds=new se(this._point.subtract(h),this._point.add(h))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(n){return n.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Kx(n,o){return new Ba(n,o)}var oc=Ba.extend({initialize:function(n,o,c){if(typeof o=="number"&&(o=a({},c,{radius:o})),N(this,o),this._latlng=z(n),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(n){return this._mRadius=n,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var n=[this._radius,this._radiusY||this._radius];return new Se(this._map.layerPointToLatLng(this._point.subtract(n)),this._map.layerPointToLatLng(this._point.add(n)))},setStyle:on.prototype.setStyle,_project:function(){var n=this._latlng.lng,o=this._latlng.lat,c=this._map,h=c.options.crs;if(h.distance===ae.distance){var p=Math.PI/180,_=this._mRadius/ae.R/p,P=c.project([o+_,n]),D=c.project([o-_,n]),R=P.add(D).divideBy(2),H=c.unproject(R).lat,te=Math.acos((Math.cos(_*p)-Math.sin(o*p)*Math.sin(H*p))/(Math.cos(o*p)*Math.cos(H*p)))/p;(isNaN(te)||te===0)&&(te=_/Math.cos(Math.PI/180*o)),this._point=R.subtract(c.getPixelOrigin()),this._radius=isNaN(te)?0:R.x-c.project([H,n-te]).x,this._radiusY=R.y-P.y}else{var de=h.unproject(h.project(this._latlng).subtract([this._mRadius,0]));this._point=c.latLngToLayerPoint(this._latlng),this._radius=this._point.x-c.latLngToLayerPoint(de).x}this._updateBounds()}});function Qx(n,o,c){return new oc(n,o,c)}var Ar=on.extend({options:{smoothFactor:1,noClip:!1},initialize:function(n,o){N(this,o),this._setLatLngs(n)},getLatLngs:function(){return this._latlngs},setLatLngs:function(n){return this._setLatLngs(n),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(n){for(var o=1/0,c=null,h=wi,p,_,P=0,D=this._parts.length;P<D;P++)for(var R=this._parts[P],H=1,te=R.length;H<te;H++){p=R[H-1],_=R[H];var de=h(n,p,_,!0);de<o&&(o=de,c=h(n,p,_))}return c&&(c.distance=Math.sqrt(o)),c},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Oh(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(n,o){return o=o||this._defaultShape(),n=z(n),o.push(n),this._bounds.extend(n),this.redraw()},_setLatLngs:function(n){this._bounds=new Se,this._latlngs=this._convertLatLngs(n)},_defaultShape:function(){return qt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(n){for(var o=[],c=qt(n),h=0,p=n.length;h<p;h++)c?(o[h]=z(n[h]),this._bounds.extend(o[h])):o[h]=this._convertLatLngs(n[h]);return o},_project:function(){var n=new se;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,n),this._bounds.isValid()&&n.isValid()&&(this._rawPxBounds=n,this._updateBounds())},_updateBounds:function(){var n=this._clickTolerance(),o=new W(n,n);this._rawPxBounds&&(this._pxBounds=new se([this._rawPxBounds.min.subtract(o),this._rawPxBounds.max.add(o)]))},_projectLatlngs:function(n,o,c){var h=n[0]instanceof X,p=n.length,_,P;if(h){for(P=[],_=0;_<p;_++)P[_]=this._map.latLngToLayerPoint(n[_]),c.extend(P[_]);o.push(P)}else for(_=0;_<p;_++)this._projectLatlngs(n[_],o,c)},_clipPoints:function(){var n=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}var o=this._parts,c,h,p,_,P,D,R;for(c=0,p=0,_=this._rings.length;c<_;c++)for(R=this._rings[c],h=0,P=R.length;h<P-1;h++)D=Th(R[h],R[h+1],n,h,!0),D&&(o[p]=o[p]||[],o[p].push(D[0]),(D[1]!==R[h+1]||h===P-2)&&(o[p].push(D[1]),p++))}},_simplifyPoints:function(){for(var n=this._parts,o=this.options.smoothFactor,c=0,h=n.length;c<h;c++)n[c]=Ph(n[c],o)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(n,o){var c,h,p,_,P,D,R=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(c=0,_=this._parts.length;c<_;c++)for(D=this._parts[c],h=0,P=D.length,p=P-1;h<P;p=h++)if(!(!o&&h===0)&&Mh(n,D[p],D[h])<=R)return!0;return!1}});function Xx(n,o){return new Ar(n,o)}Ar._flat=Lh;var ws=Ar.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ch(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(n){var o=Ar.prototype._convertLatLngs.call(this,n),c=o.length;return c>=2&&o[0]instanceof X&&o[0].equals(o[c-1])&&o.pop(),o},_setLatLngs:function(n){Ar.prototype._setLatLngs.call(this,n),qt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return qt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var n=this._renderer._bounds,o=this.options.weight,c=new W(o,o);if(n=new se(n.min.subtract(c),n.max.add(c)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}for(var h=0,p=this._rings.length,_;h<p;h++)_=Sh(this._rings[h],n,!0),_.length&&this._parts.push(_)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(n){var o=!1,c,h,p,_,P,D,R,H;if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(_=0,R=this._parts.length;_<R;_++)for(c=this._parts[_],P=0,H=c.length,D=H-1;P<H;D=P++)h=c[P],p=c[D],h.y>n.y!=p.y>n.y&&n.x<(p.x-h.x)*(n.y-h.y)/(p.y-h.y)+h.x&&(o=!o);return o||Ar.prototype._containsPoint.call(this,n,!0)}});function ev(n,o){return new ws(n,o)}var Br=Rr.extend({initialize:function(n,o){N(this,o),this._layers={},n&&this.addData(n)},addData:function(n){var o=x(n)?n:n.features,c,h,p;if(o){for(c=0,h=o.length;c<h;c++)p=o[c],(p.geometries||p.geometry||p.features||p.coordinates)&&this.addData(p);return this}var _=this.options;if(_.filter&&!_.filter(n))return this;var P=Fa(n,_);return P?(P.feature=Za(n),P.defaultOptions=P.options,this.resetStyle(P),_.onEachFeature&&_.onEachFeature(n,P),this.addLayer(P)):this},resetStyle:function(n){return n===void 0?this.eachLayer(this.resetStyle,this):(n.options=a({},n.defaultOptions),this._setLayerStyle(n,this.options.style),this)},setStyle:function(n){return this.eachLayer(function(o){this._setLayerStyle(o,n)},this)},_setLayerStyle:function(n,o){n.setStyle&&(typeof o=="function"&&(o=o(n.feature)),n.setStyle(o))}});function Fa(n,o){var c=n.type==="Feature"?n.geometry:n,h=c?c.coordinates:null,p=[],_=o&&o.pointToLayer,P=o&&o.coordsToLatLng||lc,D,R,H,te;if(!h&&!c)return null;switch(c.type){case"Point":return D=P(h),Ih(_,n,D,o);case"MultiPoint":for(H=0,te=h.length;H<te;H++)D=P(h[H]),p.push(Ih(_,n,D,o));return new Rr(p);case"LineString":case"MultiLineString":return R=Wa(h,c.type==="LineString"?0:1,P),new Ar(R,o);case"Polygon":case"MultiPolygon":return R=Wa(h,c.type==="Polygon"?1:2,P),new ws(R,o);case"GeometryCollection":for(H=0,te=c.geometries.length;H<te;H++){var de=Fa({geometry:c.geometries[H],type:"Feature",properties:n.properties},o);de&&p.push(de)}return new Rr(p);case"FeatureCollection":for(H=0,te=c.features.length;H<te;H++){var xe=Fa(c.features[H],o);xe&&p.push(xe)}return new Rr(p);default:throw new Error("Invalid GeoJSON object.")}}function Ih(n,o,c,h){return n?n(o,c):new Aa(c,h&&h.markersInheritOptions&&h)}function lc(n){return new X(n[1],n[0],n[2])}function Wa(n,o,c){for(var h=[],p=0,_=n.length,P;p<_;p++)P=o?Wa(n[p],o-1,c):(c||lc)(n[p]),h.push(P);return h}function cc(n,o){return n=z(n),n.alt!==void 0?[y(n.lng,o),y(n.lat,o),y(n.alt,o)]:[y(n.lng,o),y(n.lat,o)]}function $a(n,o,c,h){for(var p=[],_=0,P=n.length;_<P;_++)p.push(o?$a(n[_],qt(n[_])?0:o-1,c,h):cc(n[_],h));return!o&&c&&p.length>0&&p.push(p[0].slice()),p}function _s(n,o){return n.feature?a({},n.feature,{geometry:o}):Za(o)}function Za(n){return n.type==="Feature"||n.type==="FeatureCollection"?n:{type:"Feature",properties:{},geometry:n}}var dc={toGeoJSON:function(n){return _s(this,{type:"Point",coordinates:cc(this.getLatLng(),n)})}};Aa.include(dc),oc.include(dc),Ba.include(dc),Ar.include({toGeoJSON:function(n){var o=!qt(this._latlngs),c=$a(this._latlngs,o?1:0,!1,n);return _s(this,{type:(o?"Multi":"")+"LineString",coordinates:c})}}),ws.include({toGeoJSON:function(n){var o=!qt(this._latlngs),c=o&&!qt(this._latlngs[0]),h=$a(this._latlngs,c?2:o?1:0,!0,n);return o||(h=[h]),_s(this,{type:(c?"Multi":"")+"Polygon",coordinates:h})}}),ys.include({toMultiPoint:function(n){var o=[];return this.eachLayer(function(c){o.push(c.toGeoJSON(n).geometry.coordinates)}),_s(this,{type:"MultiPoint",coordinates:o})},toGeoJSON:function(n){var o=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(o==="MultiPoint")return this.toMultiPoint(n);var c=o==="GeometryCollection",h=[];return this.eachLayer(function(p){if(p.toGeoJSON){var _=p.toGeoJSON(n);if(c)h.push(_.geometry);else{var P=Za(_);P.type==="FeatureCollection"?h.push.apply(h,P.features):h.push(P)}}}),c?_s(this,{geometries:h,type:"GeometryCollection"}):{type:"FeatureCollection",features:h}}});function Rh(n,o){return new Br(n,o)}var tv=Rh,Ha=lr.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(n,o,c){this._url=n,this._bounds=I(o),N(this,c)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ge(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){$e(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(n){return this.options.opacity=n,this._image&&this._updateOpacity(),this},setStyle:function(n){return n.opacity&&this.setOpacity(n.opacity),this},bringToFront:function(){return this._map&&xs(this._image),this},bringToBack:function(){return this._map&&vs(this._image),this},setUrl:function(n){return this._url=n,this._image&&(this._image.src=n),this},setBounds:function(n){return this._bounds=I(n),this._map&&this._reset(),this},getEvents:function(){var n={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var n=this._url.tagName==="IMG",o=this._image=n?this._url:Ne("img");if(ge(o,"leaflet-image-layer"),this._zoomAnimated&&ge(o,"leaflet-zoom-animated"),this.options.className&&ge(o,this.options.className),o.onselectstart=g,o.onmousemove=g,o.onload=d(this.fire,this,"load"),o.onerror=d(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(o.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),n){this._url=o.src;return}o.src=this._url,o.alt=this.options.alt},_animateZoom:function(n){var o=this._map.getZoomScale(n.zoom),c=this._map._latLngBoundsToNewLayerBounds(this._bounds,n.zoom,n.center).min;Bn(this._image,c,o)},_reset:function(){var n=this._image,o=new se(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),c=o.getSize();Xe(n,o.min),n.style.width=c.x+"px",n.style.height=c.y+"px"},_updateOpacity:function(){Yt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var n=this.options.errorOverlayUrl;n&&this._url!==n&&(this._url=n,this._image.src=n)},getCenter:function(){return this._bounds.getCenter()}}),rv=function(n,o,c){return new Ha(n,o,c)},Ah=Ha.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var n=this._url.tagName==="VIDEO",o=this._image=n?this._url:Ne("video");if(ge(o,"leaflet-image-layer"),this._zoomAnimated&&ge(o,"leaflet-zoom-animated"),this.options.className&&ge(o,this.options.className),o.onselectstart=g,o.onmousemove=g,o.onloadeddata=d(this.fire,this,"load"),n){for(var c=o.getElementsByTagName("source"),h=[],p=0;p<c.length;p++)h.push(c[p].src);this._url=c.length>0?h:[o.src];return}x(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(o.style,"objectFit")&&(o.style.objectFit="fill"),o.autoplay=!!this.options.autoplay,o.loop=!!this.options.loop,o.muted=!!this.options.muted,o.playsInline=!!this.options.playsInline;for(var _=0;_<this._url.length;_++){var P=Ne("source");P.src=this._url[_],o.appendChild(P)}}});function nv(n,o,c){return new Ah(n,o,c)}var Bh=Ha.extend({_initImage:function(){var n=this._image=this._url;ge(n,"leaflet-image-layer"),this._zoomAnimated&&ge(n,"leaflet-zoom-animated"),this.options.className&&ge(n,this.options.className),n.onselectstart=g,n.onmousemove=g}});function sv(n,o,c){return new Bh(n,o,c)}var jr=lr.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(n,o){n&&(n instanceof X||x(n))?(this._latlng=z(n),N(this,o)):(N(this,n),this._source=o),this.options.content&&(this._content=this.options.content)},openOn:function(n){return n=arguments.length?n:this._source._map,n.hasLayer(this)||n.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(n){return this._map?this.close():(arguments.length?this._source=n:n=this._source,this._prepareOpen(),this.openOn(n._map)),this},onAdd:function(n){this._zoomAnimated=n._zoomAnimated,this._container||this._initLayout(),n._fadeAnimated&&Yt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),n._fadeAnimated&&Yt(this._container,1),this.bringToFront(),this.options.interactive&&(ge(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(n){n._fadeAnimated?(Yt(this._container,0),this._removeTimeout=setTimeout(d($e,void 0,this._container),200)):$e(this._container),this.options.interactive&&(Je(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(n){return this._latlng=z(n),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(n){return this._content=n,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var n={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&xs(this._container),this},bringToBack:function(){return this._map&&vs(this._container),this},_prepareOpen:function(n){var o=this._source;if(!o._map)return!1;if(o instanceof Rr){o=null;var c=this._source._layers;for(var h in c)if(c[h]._map){o=c[h];break}if(!o)return!1;this._source=o}if(!n)if(o.getCenter)n=o.getCenter();else if(o.getLatLng)n=o.getLatLng();else if(o.getBounds)n=o.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(n),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var n=this._contentNode,o=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof o=="string")n.innerHTML=o;else{for(;n.hasChildNodes();)n.removeChild(n.firstChild);n.appendChild(o)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var n=this._map.latLngToLayerPoint(this._latlng),o=$(this.options.offset),c=this._getAnchor();this._zoomAnimated?Xe(this._container,n.add(c)):o=o.add(n).add(c);var h=this._containerBottom=-o.y,p=this._containerLeft=-Math.round(this._containerWidth/2)+o.x;this._container.style.bottom=h+"px",this._container.style.left=p+"px"}},_getAnchor:function(){return[0,0]}});_e.include({_initOverlay:function(n,o,c,h){var p=o;return p instanceof n||(p=new n(h).setContent(o)),c&&p.setLatLng(c),p}}),lr.include({_initOverlay:function(n,o,c,h){var p=c;return p instanceof n?(N(p,h),p._source=this):(p=o&&!h?o:new n(h,this),p.setContent(c)),p}});var Ua=jr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(n){return n=arguments.length?n:this._source._map,!n.hasLayer(this)&&n._popup&&n._popup.options.autoClose&&n.removeLayer(n._popup),n._popup=this,jr.prototype.openOn.call(this,n)},onAdd:function(n){jr.prototype.onAdd.call(this,n),n.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof on||this._source.on("preclick",Wn))},onRemove:function(n){jr.prototype.onRemove.call(this,n),n.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof on||this._source.off("preclick",Wn))},getEvents:function(){var n=jr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(n.preclick=this.close),this.options.keepInView&&(n.moveend=this._adjustPan),n},_initLayout:function(){var n="leaflet-popup",o=this._container=Ne("div",n+" "+(this.options.className||"")+" leaflet-zoom-animated"),c=this._wrapper=Ne("div",n+"-content-wrapper",o);if(this._contentNode=Ne("div",n+"-content",c),yi(o),Xl(this._contentNode),me(o,"contextmenu",Wn),this._tipContainer=Ne("div",n+"-tip-container",o),this._tip=Ne("div",n+"-tip",this._tipContainer),this.options.closeButton){var h=this._closeButton=Ne("a",n+"-close-button",o);h.setAttribute("role","button"),h.setAttribute("aria-label","Close popup"),h.href="#close",h.innerHTML='<span aria-hidden="true">&#215;</span>',me(h,"click",function(p){ut(p),this.close()},this)}},_updateLayout:function(){var n=this._contentNode,o=n.style;o.width="",o.whiteSpace="nowrap";var c=n.offsetWidth;c=Math.min(c,this.options.maxWidth),c=Math.max(c,this.options.minWidth),o.width=c+1+"px",o.whiteSpace="",o.height="";var h=n.offsetHeight,p=this.options.maxHeight,_="leaflet-popup-scrolled";p&&h>p?(o.height=p+"px",ge(n,_)):Je(n,_),this._containerWidth=this._container.offsetWidth},_animateZoom:function(n){var o=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center),c=this._getAnchor();Xe(this._container,o.add(c))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var n=this._map,o=parseInt(pi(this._container,"marginBottom"),10)||0,c=this._container.offsetHeight+o,h=this._containerWidth,p=new W(this._containerLeft,-c-this._containerBottom);p._add(Fn(this._container));var _=n.layerPointToContainerPoint(p),P=$(this.options.autoPanPadding),D=$(this.options.autoPanPaddingTopLeft||P),R=$(this.options.autoPanPaddingBottomRight||P),H=n.getSize(),te=0,de=0;_.x+h+R.x>H.x&&(te=_.x+h-H.x+R.x),_.x-te-D.x<0&&(te=_.x-D.x),_.y+c+R.y>H.y&&(de=_.y+c-H.y+R.y),_.y-de-D.y<0&&(de=_.y-D.y),(te||de)&&(this.options.keepInView&&(this._autopanning=!0),n.fire("autopanstart").panBy([te,de]))}},_getAnchor:function(){return $(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),iv=function(n,o){return new Ua(n,o)};_e.mergeOptions({closePopupOnClick:!0}),_e.include({openPopup:function(n,o,c){return this._initOverlay(Ua,n,o,c).openOn(this),this},closePopup:function(n){return n=arguments.length?n:this._popup,n&&n.close(),this}}),lr.include({bindPopup:function(n,o){return this._popup=this._initOverlay(Ua,this._popup,n,o),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(n){return this._popup&&(this instanceof Rr||(this._popup._source=this),this._popup._prepareOpen(n||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(n){return this._popup&&this._popup.setContent(n),this},getPopup:function(){return this._popup},_openPopup:function(n){if(!(!this._popup||!this._map)){$n(n);var o=n.layer||n.target;if(this._popup._source===o&&!(o instanceof on)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(n.latlng);return}this._popup._source=o,this.openPopup(n.latlng)}},_movePopup:function(n){this._popup.setLatLng(n.latlng)},_onKeyPress:function(n){n.originalEvent.keyCode===13&&this._openPopup(n)}});var Va=jr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(n){jr.prototype.onAdd.call(this,n),this.setOpacity(this.options.opacity),n.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(n){jr.prototype.onRemove.call(this,n),n.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var n=jr.prototype.getEvents.call(this);return this.options.permanent||(n.preclick=this.close),n},_initLayout:function(){var n="leaflet-tooltip",o=n+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Ne("div",o),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+f(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(n){var o,c,h=this._map,p=this._container,_=h.latLngToContainerPoint(h.getCenter()),P=h.layerPointToContainerPoint(n),D=this.options.direction,R=p.offsetWidth,H=p.offsetHeight,te=$(this.options.offset),de=this._getAnchor();D==="top"?(o=R/2,c=H):D==="bottom"?(o=R/2,c=0):D==="center"?(o=R/2,c=H/2):D==="right"?(o=0,c=H/2):D==="left"?(o=R,c=H/2):P.x<_.x?(D="right",o=0,c=H/2):(D="left",o=R+(te.x+de.x)*2,c=H/2),n=n.subtract($(o,c,!0)).add(te).add(de),Je(p,"leaflet-tooltip-right"),Je(p,"leaflet-tooltip-left"),Je(p,"leaflet-tooltip-top"),Je(p,"leaflet-tooltip-bottom"),ge(p,"leaflet-tooltip-"+D),Xe(p,n)},_updatePosition:function(){var n=this._map.latLngToLayerPoint(this._latlng);this._setPosition(n)},setOpacity:function(n){this.options.opacity=n,this._container&&Yt(this._container,n)},_animateZoom:function(n){var o=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center);this._setPosition(o)},_getAnchor:function(){return $(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),av=function(n,o){return new Va(n,o)};_e.include({openTooltip:function(n,o,c){return this._initOverlay(Va,n,o,c).openOn(this),this},closeTooltip:function(n){return n.close(),this}}),lr.include({bindTooltip:function(n,o){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Va,this._tooltip,n,o),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(n){if(!(!n&&this._tooltipHandlersAdded)){var o=n?"off":"on",c={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?c.add=this._openTooltip:(c.mouseover=this._openTooltip,c.mouseout=this.closeTooltip,c.click=this._openTooltip,this._map?this._addFocusListeners():c.add=this._addFocusListeners),this._tooltip.options.sticky&&(c.mousemove=this._moveTooltip),this[o](c),this._tooltipHandlersAdded=!n}},openTooltip:function(n){return this._tooltip&&(this instanceof Rr||(this._tooltip._source=this),this._tooltip._prepareOpen(n)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(n){return this._tooltip&&this._tooltip.setContent(n),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(n){var o=typeof n.getElement=="function"&&n.getElement();o&&(me(o,"focus",function(){this._tooltip._source=n,this.openTooltip()},this),me(o,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(n){var o=typeof n.getElement=="function"&&n.getElement();o&&o.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(n){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var o=this;this._map.once("moveend",function(){o._openOnceFlag=!1,o._openTooltip(n)});return}this._tooltip._source=n.layer||n.target,this.openTooltip(this._tooltip.options.sticky?n.latlng:void 0)}},_moveTooltip:function(n){var o=n.latlng,c,h;this._tooltip.options.sticky&&n.originalEvent&&(c=this._map.mouseEventToContainerPoint(n.originalEvent),h=this._map.containerPointToLayerPoint(c),o=this._map.layerPointToLatLng(h)),this._tooltip.setLatLng(o)}});var Fh=bs.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(n){var o=n&&n.tagName==="DIV"?n:document.createElement("div"),c=this.options;if(c.html instanceof Element?(La(o),o.appendChild(c.html)):o.innerHTML=c.html!==!1?c.html:"",c.bgPos){var h=$(c.bgPos);o.style.backgroundPosition=-h.x+"px "+-h.y+"px"}return this._setIconStyles(o,"icon"),o},createShadow:function(){return null}});function ov(n){return new Fh(n)}bs.Default=_i;var ki=lr.extend({options:{tileSize:256,opacity:1,updateWhenIdle:le.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(n){N(this,n)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(n){n._addZoomLimit(this)},onRemove:function(n){this._removeAllTiles(),$e(this._container),n._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(xs(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(vs(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(n){return this.options.opacity=n,this._updateOpacity(),this},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var n=this._clampZoom(this._map.getZoom());n!==this._tileZoom&&(this._tileZoom=n,this._updateLevels()),this._update()}return this},getEvents:function(){var n={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=m(this._onMoveEnd,this.options.updateInterval,this)),n.move=this._onMove),this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},createTile:function(){return document.createElement("div")},getTileSize:function(){var n=this.options.tileSize;return n instanceof W?n:new W(n,n)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(n){for(var o=this.getPane().children,c=-n(-1/0,1/0),h=0,p=o.length,_;h<p;h++)_=o[h].style.zIndex,o[h]!==this._container&&_&&(c=n(c,+_));isFinite(c)&&(this.options.zIndex=c+n(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!le.ielt9){Yt(this._container,this.options.opacity);var n=+new Date,o=!1,c=!1;for(var h in this._tiles){var p=this._tiles[h];if(!(!p.current||!p.loaded)){var _=Math.min(1,(n-p.loaded)/200);Yt(p.el,_),_<1?o=!0:(p.active?c=!0:this._onOpaqueTile(p),p.active=!0)}}c&&!this._noPrune&&this._pruneTiles(),o&&(ie(this._fadeFrame),this._fadeFrame=q(this._updateOpacity,this))}},_onOpaqueTile:g,_initContainer:function(){this._container||(this._container=Ne("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var n=this._tileZoom,o=this.options.maxZoom;if(n!==void 0){for(var c in this._levels)c=Number(c),this._levels[c].el.children.length||c===n?(this._levels[c].el.style.zIndex=o-Math.abs(n-c),this._onUpdateLevel(c)):($e(this._levels[c].el),this._removeTilesAtZoom(c),this._onRemoveLevel(c),delete this._levels[c]);var h=this._levels[n],p=this._map;return h||(h=this._levels[n]={},h.el=Ne("div","leaflet-tile-container leaflet-zoom-animated",this._container),h.el.style.zIndex=o,h.origin=p.project(p.unproject(p.getPixelOrigin()),n).round(),h.zoom=n,this._setZoomTransform(h,p.getCenter(),p.getZoom()),g(h.el.offsetWidth),this._onCreateLevel(h)),this._level=h,h}},_onUpdateLevel:g,_onRemoveLevel:g,_onCreateLevel:g,_pruneTiles:function(){if(this._map){var n,o,c=this._map.getZoom();if(c>this.options.maxZoom||c<this.options.minZoom){this._removeAllTiles();return}for(n in this._tiles)o=this._tiles[n],o.retain=o.current;for(n in this._tiles)if(o=this._tiles[n],o.current&&!o.active){var h=o.coords;this._retainParent(h.x,h.y,h.z,h.z-5)||this._retainChildren(h.x,h.y,h.z,h.z+2)}for(n in this._tiles)this._tiles[n].retain||this._removeTile(n)}},_removeTilesAtZoom:function(n){for(var o in this._tiles)this._tiles[o].coords.z===n&&this._removeTile(o)},_removeAllTiles:function(){for(var n in this._tiles)this._removeTile(n)},_invalidateAll:function(){for(var n in this._levels)$e(this._levels[n].el),this._onRemoveLevel(Number(n)),delete this._levels[n];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(n,o,c,h){var p=Math.floor(n/2),_=Math.floor(o/2),P=c-1,D=new W(+p,+_);D.z=+P;var R=this._tileCoordsToKey(D),H=this._tiles[R];return H&&H.active?(H.retain=!0,!0):(H&&H.loaded&&(H.retain=!0),P>h?this._retainParent(p,_,P,h):!1)},_retainChildren:function(n,o,c,h){for(var p=2*n;p<2*n+2;p++)for(var _=2*o;_<2*o+2;_++){var P=new W(p,_);P.z=c+1;var D=this._tileCoordsToKey(P),R=this._tiles[D];if(R&&R.active){R.retain=!0;continue}else R&&R.loaded&&(R.retain=!0);c+1<h&&this._retainChildren(p,_,c+1,h)}},_resetView:function(n){var o=n&&(n.pinch||n.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),o,o)},_animateZoom:function(n){this._setView(n.center,n.zoom,!0,n.noUpdate)},_clampZoom:function(n){var o=this.options;return o.minNativeZoom!==void 0&&n<o.minNativeZoom?o.minNativeZoom:o.maxNativeZoom!==void 0&&o.maxNativeZoom<n?o.maxNativeZoom:n},_setView:function(n,o,c,h){var p=Math.round(o);this.options.maxZoom!==void 0&&p>this.options.maxZoom||this.options.minZoom!==void 0&&p<this.options.minZoom?p=void 0:p=this._clampZoom(p);var _=this.options.updateWhenZooming&&p!==this._tileZoom;(!h||_)&&(this._tileZoom=p,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),p!==void 0&&this._update(n),c||this._pruneTiles(),this._noPrune=!!c),this._setZoomTransforms(n,o)},_setZoomTransforms:function(n,o){for(var c in this._levels)this._setZoomTransform(this._levels[c],n,o)},_setZoomTransform:function(n,o,c){var h=this._map.getZoomScale(c,n.zoom),p=n.origin.multiplyBy(h).subtract(this._map._getNewPixelOrigin(o,c)).round();le.any3d?Bn(n.el,p,h):Xe(n.el,p)},_resetGrid:function(){var n=this._map,o=n.options.crs,c=this._tileSize=this.getTileSize(),h=this._tileZoom,p=this._map.getPixelWorldBounds(this._tileZoom);p&&(this._globalTileRange=this._pxBoundsToTileRange(p)),this._wrapX=o.wrapLng&&!this.options.noWrap&&[Math.floor(n.project([0,o.wrapLng[0]],h).x/c.x),Math.ceil(n.project([0,o.wrapLng[1]],h).x/c.y)],this._wrapY=o.wrapLat&&!this.options.noWrap&&[Math.floor(n.project([o.wrapLat[0],0],h).y/c.x),Math.ceil(n.project([o.wrapLat[1],0],h).y/c.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(n){var o=this._map,c=o._animatingZoom?Math.max(o._animateToZoom,o.getZoom()):o.getZoom(),h=o.getZoomScale(c,this._tileZoom),p=o.project(n,this._tileZoom).floor(),_=o.getSize().divideBy(h*2);return new se(p.subtract(_),p.add(_))},_update:function(n){var o=this._map;if(o){var c=this._clampZoom(o.getZoom());if(n===void 0&&(n=o.getCenter()),this._tileZoom!==void 0){var h=this._getTiledPixelBounds(n),p=this._pxBoundsToTileRange(h),_=p.getCenter(),P=[],D=this.options.keepBuffer,R=new se(p.getBottomLeft().subtract([D,-D]),p.getTopRight().add([D,-D]));if(!(isFinite(p.min.x)&&isFinite(p.min.y)&&isFinite(p.max.x)&&isFinite(p.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var H in this._tiles){var te=this._tiles[H].coords;(te.z!==this._tileZoom||!R.contains(new W(te.x,te.y)))&&(this._tiles[H].current=!1)}if(Math.abs(c-this._tileZoom)>1){this._setView(n,c);return}for(var de=p.min.y;de<=p.max.y;de++)for(var xe=p.min.x;xe<=p.max.x;xe++){var _t=new W(xe,de);if(_t.z=this._tileZoom,!!this._isValidTile(_t)){var ot=this._tiles[this._tileCoordsToKey(_t)];ot?ot.current=!0:P.push(_t)}}if(P.sort(function(Pt,js){return Pt.distanceTo(_)-js.distanceTo(_)}),P.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Gt=document.createDocumentFragment();for(xe=0;xe<P.length;xe++)this._addTile(P[xe],Gt);this._level.el.appendChild(Gt)}}}},_isValidTile:function(n){var o=this._map.options.crs;if(!o.infinite){var c=this._globalTileRange;if(!o.wrapLng&&(n.x<c.min.x||n.x>c.max.x)||!o.wrapLat&&(n.y<c.min.y||n.y>c.max.y))return!1}if(!this.options.bounds)return!0;var h=this._tileCoordsToBounds(n);return I(this.options.bounds).overlaps(h)},_keyToBounds:function(n){return this._tileCoordsToBounds(this._keyToTileCoords(n))},_tileCoordsToNwSe:function(n){var o=this._map,c=this.getTileSize(),h=n.scaleBy(c),p=h.add(c),_=o.unproject(h,n.z),P=o.unproject(p,n.z);return[_,P]},_tileCoordsToBounds:function(n){var o=this._tileCoordsToNwSe(n),c=new Se(o[0],o[1]);return this.options.noWrap||(c=this._map.wrapLatLngBounds(c)),c},_tileCoordsToKey:function(n){return n.x+":"+n.y+":"+n.z},_keyToTileCoords:function(n){var o=n.split(":"),c=new W(+o[0],+o[1]);return c.z=+o[2],c},_removeTile:function(n){var o=this._tiles[n];o&&($e(o.el),delete this._tiles[n],this.fire("tileunload",{tile:o.el,coords:this._keyToTileCoords(n)}))},_initTile:function(n){ge(n,"leaflet-tile");var o=this.getTileSize();n.style.width=o.x+"px",n.style.height=o.y+"px",n.onselectstart=g,n.onmousemove=g,le.ielt9&&this.options.opacity<1&&Yt(n,this.options.opacity)},_addTile:function(n,o){var c=this._getTilePos(n),h=this._tileCoordsToKey(n),p=this.createTile(this._wrapCoords(n),d(this._tileReady,this,n));this._initTile(p),this.createTile.length<2&&q(d(this._tileReady,this,n,null,p)),Xe(p,c),this._tiles[h]={el:p,coords:n,current:!0},o.appendChild(p),this.fire("tileloadstart",{tile:p,coords:n})},_tileReady:function(n,o,c){o&&this.fire("tileerror",{error:o,tile:c,coords:n});var h=this._tileCoordsToKey(n);c=this._tiles[h],c&&(c.loaded=+new Date,this._map._fadeAnimated?(Yt(c.el,0),ie(this._fadeFrame),this._fadeFrame=q(this._updateOpacity,this)):(c.active=!0,this._pruneTiles()),o||(ge(c.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:c.el,coords:n})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),le.ielt9||!this._map._fadeAnimated?q(this._pruneTiles,this):setTimeout(d(this._pruneTiles,this),250)))},_getTilePos:function(n){return n.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(n){var o=new W(this._wrapX?v(n.x,this._wrapX):n.x,this._wrapY?v(n.y,this._wrapY):n.y);return o.z=n.z,o},_pxBoundsToTileRange:function(n){var o=this.getTileSize();return new se(n.min.unscaleBy(o).floor(),n.max.unscaleBy(o).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var n in this._tiles)if(!this._tiles[n].loaded)return!1;return!0}});function lv(n){return new ki(n)}var ks=ki.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(n,o){this._url=n,o=N(this,o),o.detectRetina&&le.retina&&o.maxZoom>0?(o.tileSize=Math.floor(o.tileSize/2),o.zoomReverse?(o.zoomOffset--,o.minZoom=Math.min(o.maxZoom,o.minZoom+1)):(o.zoomOffset++,o.maxZoom=Math.max(o.minZoom,o.maxZoom-1)),o.minZoom=Math.max(0,o.minZoom)):o.zoomReverse?o.minZoom=Math.min(o.maxZoom,o.minZoom):o.maxZoom=Math.max(o.minZoom,o.maxZoom),typeof o.subdomains=="string"&&(o.subdomains=o.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(n,o){return this._url===n&&o===void 0&&(o=!0),this._url=n,o||this.redraw(),this},createTile:function(n,o){var c=document.createElement("img");return me(c,"load",d(this._tileOnLoad,this,o,c)),me(c,"error",d(this._tileOnError,this,o,c)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(c.referrerPolicy=this.options.referrerPolicy),c.alt="",c.src=this.getTileUrl(n),c},getTileUrl:function(n){var o={r:le.retina?"@2x":"",s:this._getSubdomain(n),x:n.x,y:n.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var c=this._globalTileRange.max.y-n.y;this.options.tms&&(o.y=c),o["-y"]=c}return k(this._url,a(o,this.options))},_tileOnLoad:function(n,o){le.ielt9?setTimeout(d(n,this,null,o),0):n(null,o)},_tileOnError:function(n,o,c){var h=this.options.errorTileUrl;h&&o.getAttribute("src")!==h&&(o.src=h),n(c,o)},_onTileRemove:function(n){n.tile.onload=null},_getZoomForUrl:function(){var n=this._tileZoom,o=this.options.maxZoom,c=this.options.zoomReverse,h=this.options.zoomOffset;return c&&(n=o-n),n+h},_getSubdomain:function(n){var o=Math.abs(n.x+n.y)%this.options.subdomains.length;return this.options.subdomains[o]},_abortLoading:function(){var n,o;for(n in this._tiles)if(this._tiles[n].coords.z!==this._tileZoom&&(o=this._tiles[n].el,o.onload=g,o.onerror=g,!o.complete)){o.src=O;var c=this._tiles[n].coords;$e(o),delete this._tiles[n],this.fire("tileabort",{tile:o,coords:c})}},_removeTile:function(n){var o=this._tiles[n];if(o)return o.el.setAttribute("src",O),ki.prototype._removeTile.call(this,n)},_tileReady:function(n,o,c){if(!(!this._map||c&&c.getAttribute("src")===O))return ki.prototype._tileReady.call(this,n,o,c)}});function Wh(n,o){return new ks(n,o)}var $h=ks.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(n,o){this._url=n;var c=a({},this.defaultWmsParams);for(var h in o)h in this.options||(c[h]=o[h]);o=N(this,o);var p=o.detectRetina&&le.retina?2:1,_=this.getTileSize();c.width=_.x*p,c.height=_.y*p,this.wmsParams=c},onAdd:function(n){this._crs=this.options.crs||n.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var o=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[o]=this._crs.code,ks.prototype.onAdd.call(this,n)},getTileUrl:function(n){var o=this._tileCoordsToNwSe(n),c=this._crs,h=he(c.project(o[0]),c.project(o[1])),p=h.min,_=h.max,P=(this._wmsVersion>=1.3&&this._crs===Dh?[p.y,p.x,_.y,_.x]:[p.x,p.y,_.x,_.y]).join(","),D=ks.prototype.getTileUrl.call(this,n);return D+C(this.wmsParams,D,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+P},setParams:function(n,o){return a(this.wmsParams,n),o||this.redraw(),this}});function cv(n,o){return new $h(n,o)}ks.WMS=$h,Wh.wms=cv;var Fr=lr.extend({options:{padding:.1},initialize:function(n){N(this,n),f(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ge(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var n={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(n.zoomanim=this._onAnimZoom),n},_onAnimZoom:function(n){this._updateTransform(n.center,n.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(n,o){var c=this._map.getZoomScale(o,this._zoom),h=this._map.getSize().multiplyBy(.5+this.options.padding),p=this._map.project(this._center,o),_=h.multiplyBy(-c).add(p).subtract(this._map._getNewPixelOrigin(n,o));le.any3d?Bn(this._container,_,c):Xe(this._container,_)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var n in this._layers)this._layers[n]._reset()},_onZoomEnd:function(){for(var n in this._layers)this._layers[n]._project()},_updatePaths:function(){for(var n in this._layers)this._layers[n]._update()},_update:function(){var n=this.options.padding,o=this._map.getSize(),c=this._map.containerPointToLayerPoint(o.multiplyBy(-n)).round();this._bounds=new se(c,c.add(o.multiplyBy(1+n*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Zh=Fr.extend({options:{tolerance:0},getEvents:function(){var n=Fr.prototype.getEvents.call(this);return n.viewprereset=this._onViewPreReset,n},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Fr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var n=this._container=document.createElement("canvas");me(n,"mousemove",this._onMouseMove,this),me(n,"click dblclick mousedown mouseup contextmenu",this._onClick,this),me(n,"mouseout",this._handleMouseOut,this),n._leaflet_disable_events=!0,this._ctx=n.getContext("2d")},_destroyContainer:function(){ie(this._redrawRequest),delete this._ctx,$e(this._container),ze(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var n;this._redrawBounds=null;for(var o in this._layers)n=this._layers[o],n._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Fr.prototype._update.call(this);var n=this._bounds,o=this._container,c=n.getSize(),h=le.retina?2:1;Xe(o,n.min),o.width=h*c.x,o.height=h*c.y,o.style.width=c.x+"px",o.style.height=c.y+"px",le.retina&&this._ctx.scale(2,2),this._ctx.translate(-n.min.x,-n.min.y),this.fire("update")}},_reset:function(){Fr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(n){this._updateDashArray(n),this._layers[f(n)]=n;var o=n._order={layer:n,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=o),this._drawLast=o,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(n){this._requestRedraw(n)},_removePath:function(n){var o=n._order,c=o.next,h=o.prev;c?c.prev=h:this._drawLast=h,h?h.next=c:this._drawFirst=c,delete n._order,delete this._layers[f(n)],this._requestRedraw(n)},_updatePath:function(n){this._extendRedrawBounds(n),n._project(),n._update(),this._requestRedraw(n)},_updateStyle:function(n){this._updateDashArray(n),this._requestRedraw(n)},_updateDashArray:function(n){if(typeof n.options.dashArray=="string"){var o=n.options.dashArray.split(/[, ]+/),c=[],h,p;for(p=0;p<o.length;p++){if(h=Number(o[p]),isNaN(h))return;c.push(h)}n.options._dashArray=c}else n.options._dashArray=n.options.dashArray},_requestRedraw:function(n){this._map&&(this._extendRedrawBounds(n),this._redrawRequest=this._redrawRequest||q(this._redraw,this))},_extendRedrawBounds:function(n){if(n._pxBounds){var o=(n.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new se,this._redrawBounds.extend(n._pxBounds.min.subtract([o,o])),this._redrawBounds.extend(n._pxBounds.max.add([o,o]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var n=this._redrawBounds;if(n){var o=n.getSize();this._ctx.clearRect(n.min.x,n.min.y,o.x,o.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var n,o=this._redrawBounds;if(this._ctx.save(),o){var c=o.getSize();this._ctx.beginPath(),this._ctx.rect(o.min.x,o.min.y,c.x,c.y),this._ctx.clip()}this._drawing=!0;for(var h=this._drawFirst;h;h=h.next)n=h.layer,(!o||n._pxBounds&&n._pxBounds.intersects(o))&&n._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(n,o){if(this._drawing){var c,h,p,_,P=n._parts,D=P.length,R=this._ctx;if(D){for(R.beginPath(),c=0;c<D;c++){for(h=0,p=P[c].length;h<p;h++)_=P[c][h],R[h?"lineTo":"moveTo"](_.x,_.y);o&&R.closePath()}this._fillStroke(R,n)}}},_updateCircle:function(n){if(!(!this._drawing||n._empty())){var o=n._point,c=this._ctx,h=Math.max(Math.round(n._radius),1),p=(Math.max(Math.round(n._radiusY),1)||h)/h;p!==1&&(c.save(),c.scale(1,p)),c.beginPath(),c.arc(o.x,o.y/p,h,0,Math.PI*2,!1),p!==1&&c.restore(),this._fillStroke(c,n)}},_fillStroke:function(n,o){var c=o.options;c.fill&&(n.globalAlpha=c.fillOpacity,n.fillStyle=c.fillColor||c.color,n.fill(c.fillRule||"evenodd")),c.stroke&&c.weight!==0&&(n.setLineDash&&n.setLineDash(o.options&&o.options._dashArray||[]),n.globalAlpha=c.opacity,n.lineWidth=c.weight,n.strokeStyle=c.color,n.lineCap=c.lineCap,n.lineJoin=c.lineJoin,n.stroke())},_onClick:function(n){for(var o=this._map.mouseEventToLayerPoint(n),c,h,p=this._drawFirst;p;p=p.next)c=p.layer,c.options.interactive&&c._containsPoint(o)&&(!(n.type==="click"||n.type==="preclick")||!this._map._draggableMoved(c))&&(h=c);this._fireEvent(h?[h]:!1,n)},_onMouseMove:function(n){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var o=this._map.mouseEventToLayerPoint(n);this._handleMouseHover(n,o)}},_handleMouseOut:function(n){var o=this._hoveredLayer;o&&(Je(this._container,"leaflet-interactive"),this._fireEvent([o],n,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(n,o){if(!this._mouseHoverThrottled){for(var c,h,p=this._drawFirst;p;p=p.next)c=p.layer,c.options.interactive&&c._containsPoint(o)&&(h=c);h!==this._hoveredLayer&&(this._handleMouseOut(n),h&&(ge(this._container,"leaflet-interactive"),this._fireEvent([h],n,"mouseover"),this._hoveredLayer=h)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,n),this._mouseHoverThrottled=!0,setTimeout(d(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(n,o,c){this._map._fireDOMEvent(o,c||o.type,n)},_bringToFront:function(n){var o=n._order;if(o){var c=o.next,h=o.prev;if(c)c.prev=h;else return;h?h.next=c:c&&(this._drawFirst=c),o.prev=this._drawLast,this._drawLast.next=o,o.next=null,this._drawLast=o,this._requestRedraw(n)}},_bringToBack:function(n){var o=n._order;if(o){var c=o.next,h=o.prev;if(h)h.next=c;else return;c?c.prev=h:h&&(this._drawLast=h),o.prev=null,o.next=this._drawFirst,this._drawFirst.prev=o,this._drawFirst=o,this._requestRedraw(n)}}});function Hh(n){return le.canvas?new Zh(n):null}var ji=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(n){return document.createElement("<lvml:"+n+' class="lvml">')}}catch{}return function(n){return document.createElement("<"+n+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),dv={_initContainer:function(){this._container=Ne("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Fr.prototype._update.call(this),this.fire("update"))},_initPath:function(n){var o=n._container=ji("shape");ge(o,"leaflet-vml-shape "+(this.options.className||"")),o.coordsize="1 1",n._path=ji("path"),o.appendChild(n._path),this._updateStyle(n),this._layers[f(n)]=n},_addPath:function(n){var o=n._container;this._container.appendChild(o),n.options.interactive&&n.addInteractiveTarget(o)},_removePath:function(n){var o=n._container;$e(o),n.removeInteractiveTarget(o),delete this._layers[f(n)]},_updateStyle:function(n){var o=n._stroke,c=n._fill,h=n.options,p=n._container;p.stroked=!!h.stroke,p.filled=!!h.fill,h.stroke?(o||(o=n._stroke=ji("stroke")),p.appendChild(o),o.weight=h.weight+"px",o.color=h.color,o.opacity=h.opacity,h.dashArray?o.dashStyle=x(h.dashArray)?h.dashArray.join(" "):h.dashArray.replace(/( *, *)/g," "):o.dashStyle="",o.endcap=h.lineCap.replace("butt","flat"),o.joinstyle=h.lineJoin):o&&(p.removeChild(o),n._stroke=null),h.fill?(c||(c=n._fill=ji("fill")),p.appendChild(c),c.color=h.fillColor||h.color,c.opacity=h.fillOpacity):c&&(p.removeChild(c),n._fill=null)},_updateCircle:function(n){var o=n._point.round(),c=Math.round(n._radius),h=Math.round(n._radiusY||c);this._setPath(n,n._empty()?"M0 0":"AL "+o.x+","+o.y+" "+c+","+h+" 0,"+65535*360)},_setPath:function(n,o){n._path.v=o},_bringToFront:function(n){xs(n._container)},_bringToBack:function(n){vs(n._container)}},Ya=le.vml?ji:st,Ni=Fr.extend({_initContainer:function(){this._container=Ya("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ya("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){$e(this._container),ze(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Fr.prototype._update.call(this);var n=this._bounds,o=n.getSize(),c=this._container;(!this._svgSize||!this._svgSize.equals(o))&&(this._svgSize=o,c.setAttribute("width",o.x),c.setAttribute("height",o.y)),Xe(c,n.min),c.setAttribute("viewBox",[n.min.x,n.min.y,o.x,o.y].join(" ")),this.fire("update")}},_initPath:function(n){var o=n._path=Ya("path");n.options.className&&ge(o,n.options.className),n.options.interactive&&ge(o,"leaflet-interactive"),this._updateStyle(n),this._layers[f(n)]=n},_addPath:function(n){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(n._path),n.addInteractiveTarget(n._path)},_removePath:function(n){$e(n._path),n.removeInteractiveTarget(n._path),delete this._layers[f(n)]},_updatePath:function(n){n._project(),n._update()},_updateStyle:function(n){var o=n._path,c=n.options;o&&(c.stroke?(o.setAttribute("stroke",c.color),o.setAttribute("stroke-opacity",c.opacity),o.setAttribute("stroke-width",c.weight),o.setAttribute("stroke-linecap",c.lineCap),o.setAttribute("stroke-linejoin",c.lineJoin),c.dashArray?o.setAttribute("stroke-dasharray",c.dashArray):o.removeAttribute("stroke-dasharray"),c.dashOffset?o.setAttribute("stroke-dashoffset",c.dashOffset):o.removeAttribute("stroke-dashoffset")):o.setAttribute("stroke","none"),c.fill?(o.setAttribute("fill",c.fillColor||c.color),o.setAttribute("fill-opacity",c.fillOpacity),o.setAttribute("fill-rule",c.fillRule||"evenodd")):o.setAttribute("fill","none"))},_updatePoly:function(n,o){this._setPath(n,dt(n._parts,o))},_updateCircle:function(n){var o=n._point,c=Math.max(Math.round(n._radius),1),h=Math.max(Math.round(n._radiusY),1)||c,p="a"+c+","+h+" 0 1,0 ",_=n._empty()?"M0 0":"M"+(o.x-c)+","+o.y+p+c*2+",0 "+p+-c*2+",0 ";this._setPath(n,_)},_setPath:function(n,o){n._path.setAttribute("d",o)},_bringToFront:function(n){xs(n._path)},_bringToBack:function(n){vs(n._path)}});le.vml&&Ni.include(dv);function Uh(n){return le.svg||le.vml?new Ni(n):null}_e.include({getRenderer:function(n){var o=n.options.renderer||this._getPaneRenderer(n.options.pane)||this.options.renderer||this._renderer;return o||(o=this._renderer=this._createRenderer()),this.hasLayer(o)||this.addLayer(o),o},_getPaneRenderer:function(n){if(n==="overlayPane"||n===void 0)return!1;var o=this._paneRenderers[n];return o===void 0&&(o=this._createRenderer({pane:n}),this._paneRenderers[n]=o),o},_createRenderer:function(n){return this.options.preferCanvas&&Hh(n)||Uh(n)}});var Vh=ws.extend({initialize:function(n,o){ws.prototype.initialize.call(this,this._boundsToLatLngs(n),o)},setBounds:function(n){return this.setLatLngs(this._boundsToLatLngs(n))},_boundsToLatLngs:function(n){return n=I(n),[n.getSouthWest(),n.getNorthWest(),n.getNorthEast(),n.getSouthEast()]}});function uv(n,o){return new Vh(n,o)}Ni.create=Ya,Ni.pointsToPath=dt,Br.geometryToLayer=Fa,Br.coordsToLatLng=lc,Br.coordsToLatLngs=Wa,Br.latLngToCoords=cc,Br.latLngsToCoords=$a,Br.getFeature=_s,Br.asFeature=Za,_e.mergeOptions({boxZoom:!0});var Yh=kr.extend({initialize:function(n){this._map=n,this._container=n._container,this._pane=n._panes.overlayPane,this._resetStateTimeout=0,n.on("unload",this._destroy,this)},addHooks:function(){me(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ze(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){$e(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(n){if(!n.shiftKey||n.which!==1&&n.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),gi(),Ul(),this._startPoint=this._map.mouseEventToContainerPoint(n),me(document,{contextmenu:$n,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(n){this._moved||(this._moved=!0,this._box=Ne("div","leaflet-zoom-box",this._container),ge(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(n);var o=new se(this._point,this._startPoint),c=o.getSize();Xe(this._box,o.min),this._box.style.width=c.x+"px",this._box.style.height=c.y+"px"},_finish:function(){this._moved&&($e(this._box),Je(this._container,"leaflet-crosshair")),xi(),Vl(),ze(document,{contextmenu:$n,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(n){if(!(n.which!==1&&n.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(d(this._resetState,this),0);var o=new Se(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(o).fire("boxzoomend",{boxZoomBounds:o})}},_onKeyDown:function(n){n.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});_e.addInitHook("addHandler","boxZoom",Yh),_e.mergeOptions({doubleClickZoom:!0});var qh=kr.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(n){var o=this._map,c=o.getZoom(),h=o.options.zoomDelta,p=n.originalEvent.shiftKey?c-h:c+h;o.options.doubleClickZoom==="center"?o.setZoom(p):o.setZoomAround(n.containerPoint,p)}});_e.addInitHook("addHandler","doubleClickZoom",qh),_e.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Gh=kr.extend({addHooks:function(){if(!this._draggable){var n=this._map;this._draggable=new an(n._mapPane,n._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),n.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),n.on("zoomend",this._onZoomEnd,this),n.whenReady(this._onZoomEnd,this))}ge(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Je(this._map._container,"leaflet-grab"),Je(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var n=this._map;if(n._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var o=I(this._map.options.maxBounds);this._offsetLimit=he(this._map.latLngToContainerPoint(o.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(o.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;n.fire("movestart").fire("dragstart"),n.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(n){if(this._map.options.inertia){var o=this._lastTime=+new Date,c=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(c),this._times.push(o),this._prunePositions(o)}this._map.fire("move",n).fire("drag",n)},_prunePositions:function(n){for(;this._positions.length>1&&n-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var n=this._map.getSize().divideBy(2),o=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=o.subtract(n).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(n,o){return n-(n-o)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var n=this._draggable._newPos.subtract(this._draggable._startPos),o=this._offsetLimit;n.x<o.min.x&&(n.x=this._viscousLimit(n.x,o.min.x)),n.y<o.min.y&&(n.y=this._viscousLimit(n.y,o.min.y)),n.x>o.max.x&&(n.x=this._viscousLimit(n.x,o.max.x)),n.y>o.max.y&&(n.y=this._viscousLimit(n.y,o.max.y)),this._draggable._newPos=this._draggable._startPos.add(n)}},_onPreDragWrap:function(){var n=this._worldWidth,o=Math.round(n/2),c=this._initialWorldOffset,h=this._draggable._newPos.x,p=(h-o+c)%n+o-c,_=(h+o+c)%n-o-c,P=Math.abs(p+c)<Math.abs(_+c)?p:_;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=P},_onDragEnd:function(n){var o=this._map,c=o.options,h=!c.inertia||n.noInertia||this._times.length<2;if(o.fire("dragend",n),h)o.fire("moveend");else{this._prunePositions(+new Date);var p=this._lastPos.subtract(this._positions[0]),_=(this._lastTime-this._times[0])/1e3,P=c.easeLinearity,D=p.multiplyBy(P/_),R=D.distanceTo([0,0]),H=Math.min(c.inertiaMaxSpeed,R),te=D.multiplyBy(H/R),de=H/(c.inertiaDeceleration*P),xe=te.multiplyBy(-de/2).round();!xe.x&&!xe.y?o.fire("moveend"):(xe=o._limitOffset(xe,o.options.maxBounds),q(function(){o.panBy(xe,{duration:de,easeLinearity:P,noMoveStart:!0,animate:!0})}))}}});_e.addInitHook("addHandler","dragging",Gh),_e.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Jh=kr.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(n){this._map=n,this._setPanDelta(n.options.keyboardPanDelta),this._setZoomDelta(n.options.zoomDelta)},addHooks:function(){var n=this._map._container;n.tabIndex<=0&&(n.tabIndex="0"),me(n,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ze(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var n=document.body,o=document.documentElement,c=n.scrollTop||o.scrollTop,h=n.scrollLeft||o.scrollLeft;this._map._container.focus(),window.scrollTo(h,c)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(n){var o=this._panKeys={},c=this.keyCodes,h,p;for(h=0,p=c.left.length;h<p;h++)o[c.left[h]]=[-1*n,0];for(h=0,p=c.right.length;h<p;h++)o[c.right[h]]=[n,0];for(h=0,p=c.down.length;h<p;h++)o[c.down[h]]=[0,n];for(h=0,p=c.up.length;h<p;h++)o[c.up[h]]=[0,-1*n]},_setZoomDelta:function(n){var o=this._zoomKeys={},c=this.keyCodes,h,p;for(h=0,p=c.zoomIn.length;h<p;h++)o[c.zoomIn[h]]=n;for(h=0,p=c.zoomOut.length;h<p;h++)o[c.zoomOut[h]]=-n},_addHooks:function(){me(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ze(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(n){if(!(n.altKey||n.ctrlKey||n.metaKey)){var o=n.keyCode,c=this._map,h;if(o in this._panKeys){if(!c._panAnim||!c._panAnim._inProgress)if(h=this._panKeys[o],n.shiftKey&&(h=$(h).multiplyBy(3)),c.options.maxBounds&&(h=c._limitOffset($(h),c.options.maxBounds)),c.options.worldCopyJump){var p=c.wrapLatLng(c.unproject(c.project(c.getCenter()).add(h)));c.panTo(p)}else c.panBy(h)}else if(o in this._zoomKeys)c.setZoom(c.getZoom()+(n.shiftKey?3:1)*this._zoomKeys[o]);else if(o===27&&c._popup&&c._popup.options.closeOnEscapeKey)c.closePopup();else return;$n(n)}}});_e.addInitHook("addHandler","keyboard",Jh),_e.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Kh=kr.extend({addHooks:function(){me(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ze(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(n){var o=wh(n),c=this._map.options.wheelDebounceTime;this._delta+=o,this._lastMousePos=this._map.mouseEventToContainerPoint(n),this._startTime||(this._startTime=+new Date);var h=Math.max(c-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(d(this._performZoom,this),h),$n(n)},_performZoom:function(){var n=this._map,o=n.getZoom(),c=this._map.options.zoomSnap||0;n._stop();var h=this._delta/(this._map.options.wheelPxPerZoomLevel*4),p=4*Math.log(2/(1+Math.exp(-Math.abs(h))))/Math.LN2,_=c?Math.ceil(p/c)*c:p,P=n._limitZoom(o+(this._delta>0?_:-_))-o;this._delta=0,this._startTime=null,P&&(n.options.scrollWheelZoom==="center"?n.setZoom(o+P):n.setZoomAround(this._lastMousePos,o+P))}});_e.addInitHook("addHandler","scrollWheelZoom",Kh);var hv=600;_e.mergeOptions({tapHold:le.touchNative&&le.safari&&le.mobile,tapTolerance:15});var Qh=kr.extend({addHooks:function(){me(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ze(this._map._container,"touchstart",this._onDown,this)},_onDown:function(n){if(clearTimeout(this._holdTimeout),n.touches.length===1){var o=n.touches[0];this._startPos=this._newPos=new W(o.clientX,o.clientY),this._holdTimeout=setTimeout(d(function(){this._cancel(),this._isTapValid()&&(me(document,"touchend",ut),me(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",o))},this),hv),me(document,"touchend touchcancel contextmenu",this._cancel,this),me(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function n(){ze(document,"touchend",ut),ze(document,"touchend touchcancel",n)},_cancel:function(){clearTimeout(this._holdTimeout),ze(document,"touchend touchcancel contextmenu",this._cancel,this),ze(document,"touchmove",this._onMove,this)},_onMove:function(n){var o=n.touches[0];this._newPos=new W(o.clientX,o.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(n,o){var c=new MouseEvent(n,{bubbles:!0,cancelable:!0,view:window,screenX:o.screenX,screenY:o.screenY,clientX:o.clientX,clientY:o.clientY});c._simulated=!0,o.target.dispatchEvent(c)}});_e.addInitHook("addHandler","tapHold",Qh),_e.mergeOptions({touchZoom:le.touch,bounceAtZoomLimits:!0});var Xh=kr.extend({addHooks:function(){ge(this._map._container,"leaflet-touch-zoom"),me(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Je(this._map._container,"leaflet-touch-zoom"),ze(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(n){var o=this._map;if(!(!n.touches||n.touches.length!==2||o._animatingZoom||this._zooming)){var c=o.mouseEventToContainerPoint(n.touches[0]),h=o.mouseEventToContainerPoint(n.touches[1]);this._centerPoint=o.getSize()._divideBy(2),this._startLatLng=o.containerPointToLatLng(this._centerPoint),o.options.touchZoom!=="center"&&(this._pinchStartLatLng=o.containerPointToLatLng(c.add(h)._divideBy(2))),this._startDist=c.distanceTo(h),this._startZoom=o.getZoom(),this._moved=!1,this._zooming=!0,o._stop(),me(document,"touchmove",this._onTouchMove,this),me(document,"touchend touchcancel",this._onTouchEnd,this),ut(n)}},_onTouchMove:function(n){if(!(!n.touches||n.touches.length!==2||!this._zooming)){var o=this._map,c=o.mouseEventToContainerPoint(n.touches[0]),h=o.mouseEventToContainerPoint(n.touches[1]),p=c.distanceTo(h)/this._startDist;if(this._zoom=o.getScaleZoom(p,this._startZoom),!o.options.bounceAtZoomLimits&&(this._zoom<o.getMinZoom()&&p<1||this._zoom>o.getMaxZoom()&&p>1)&&(this._zoom=o._limitZoom(this._zoom)),o.options.touchZoom==="center"){if(this._center=this._startLatLng,p===1)return}else{var _=c._add(h)._divideBy(2)._subtract(this._centerPoint);if(p===1&&_.x===0&&_.y===0)return;this._center=o.unproject(o.project(this._pinchStartLatLng,this._zoom).subtract(_),this._zoom)}this._moved||(o._moveStart(!0,!1),this._moved=!0),ie(this._animRequest);var P=d(o._move,o,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=q(P,this,!0),ut(n)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ie(this._animRequest),ze(document,"touchmove",this._onTouchMove,this),ze(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});_e.addInitHook("addHandler","touchZoom",Xh),_e.BoxZoom=Yh,_e.DoubleClickZoom=qh,_e.Drag=Gh,_e.Keyboard=Jh,_e.ScrollWheelZoom=Kh,_e.TapHold=Qh,_e.TouchZoom=Xh,r.Bounds=se,r.Browser=le,r.CRS=U,r.Canvas=Zh,r.Circle=oc,r.CircleMarker=Ba,r.Class=pe,r.Control=or,r.DivIcon=Fh,r.DivOverlay=jr,r.DomEvent=Ex,r.DomUtil=Px,r.Draggable=an,r.Evented=ye,r.FeatureGroup=Rr,r.GeoJSON=Br,r.GridLayer=ki,r.Handler=kr,r.Icon=bs,r.ImageOverlay=Ha,r.LatLng=X,r.LatLngBounds=Se,r.Layer=lr,r.LayerGroup=ys,r.LineUtil=Zx,r.Map=_e,r.Marker=Aa,r.Mixin=Rx,r.Path=on,r.Point=W,r.PolyUtil=Ax,r.Polygon=ws,r.Polyline=Ar,r.Popup=Ua,r.PosAnimation=_h,r.Projection=Hx,r.Rectangle=Vh,r.Renderer=Fr,r.SVG=Ni,r.SVGOverlay=Bh,r.TileLayer=ks,r.Tooltip=Va,r.Transformation=Ye,r.Util=ke,r.VideoOverlay=Ah,r.bind=d,r.bounds=he,r.canvas=Hh,r.circle=Qx,r.circleMarker=Kx,r.control=bi,r.divIcon=ov,r.extend=a,r.featureGroup=qx,r.geoJSON=Rh,r.geoJson=tv,r.gridLayer=lv,r.icon=Gx,r.imageOverlay=rv,r.latLng=z,r.latLngBounds=I,r.layerGroup=Yx,r.map=Tx,r.marker=Jx,r.point=$,r.polygon=ev,r.polyline=Xx,r.popup=iv,r.rectangle=uv,r.setOptions=N,r.stamp=f,r.svg=Uh,r.svgOverlay=sv,r.tileLayer=Wh,r.tooltip=av,r.transformation=Le,r.version=s,r.videoOverlay=nv;var fv=window.L;r.noConflict=function(){return window.L=fv,this},window.L=r})})(qd,qd.exports);var us=qd.exports;const cl=Um(us);function Sa(e,t,r){return Object.freeze({instance:e,context:t,container:r})}function Ol(e,t){return t==null?function(s,a){const l=w.useRef();return l.current||(l.current=e(s,a)),l}:function(s,a){const l=w.useRef();l.current||(l.current=e(s,a));const d=w.useRef(s),{instance:u}=l.current;return w.useEffect(function(){d.current!==s&&(t(u,s,d.current),d.current=s)},[u,s,a]),l}}function zg(e,t){w.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var l;(l=t.layerContainer)==null||l.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function Ig(e){return function(r){const s=Tl(),a=e(Ll(r,s),s);return Tg(s.map,r.attribution),nh(a.current,r.eventHandlers),zg(a.current,s),a}}function J_(e,t){const r=w.useRef();w.useEffect(function(){if(t.pathOptions!==r.current){const a=t.pathOptions??{};e.instance.setStyle(a),r.current=a}},[e,t])}function K_(e){return function(r){const s=Tl(),a=e(Ll(r,s),s);return nh(a.current,r.eventHandlers),zg(a.current,s),J_(a.current,r),a}}function Q_(e,t){const r=Ol(e,t),s=Ig(r);return Dg(s)}function X_(e,t){const r=Ol(e),s=G_(r,t);return Y_(s)}function Rg(e,t){const r=Ol(e,t),s=K_(r);return Dg(s)}function ek(e,t){const r=Ol(e,t),s=Ig(r);return q_(s)}function tk(e,t,r){const{opacity:s,zIndex:a}=t;s!=null&&s!==r.opacity&&e.setOpacity(s),a!=null&&a!==r.zIndex&&e.setZIndex(a)}function Ag(){return Tl().map}function rk(e){const t=Ag();return w.useEffect(function(){return t.on(e),function(){t.off(e)}},[t,e]),t}const nk=Rg(function({center:t,children:r,...s},a){const l=new us.CircleMarker(t,s);return Sa(l,rh(a,{overlayContainer:l}))},H_);function Gd(){return Gd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Gd.apply(this,arguments)}function sk({bounds:e,boundsOptions:t,center:r,children:s,className:a,id:l,placeholder:d,style:u,whenReady:f,zoom:m,...v},g){const[y]=w.useState({className:a,id:l,style:u}),[j,S]=w.useState(null);w.useImperativeHandle(g,()=>(j==null?void 0:j.map)??null,[j]);const N=w.useCallback(b=>{if(b!==null&&j===null){const k=new us.Map(b,v);r!=null&&m!=null?k.setView(r,m):e!=null&&k.fitBounds(e,t),f!=null&&k.whenReady(f),S(V_(k))}},[]);w.useEffect(()=>()=>{j==null||j.map.remove()},[j]);const C=j?ee.createElement(Og,{value:j},s):d??null;return ee.createElement("div",Gd({},y,{ref:N}),C)}const ik=w.forwardRef(sk),$c=Q_(function({position:t,...r},s){const a=new us.Marker(t,r);return Sa(a,rh(s,{overlayContainer:a}))},function(t,r,s){r.position!==s.position&&t.setLatLng(r.position),r.icon!=null&&r.icon!==s.icon&&t.setIcon(r.icon),r.zIndexOffset!=null&&r.zIndexOffset!==s.zIndexOffset&&t.setZIndexOffset(r.zIndexOffset),r.opacity!=null&&r.opacity!==s.opacity&&t.setOpacity(r.opacity),t.dragging!=null&&r.draggable!==s.draggable&&(r.draggable===!0?t.dragging.enable():t.dragging.disable())}),ak=Rg(function({positions:t,...r},s){const a=new us.Polyline(t,r);return Sa(a,rh(s,{overlayContainer:a}))},function(t,r,s){r.positions!==s.positions&&t.setLatLngs(r.positions)}),Zc=X_(function(t,r){const s=new us.Popup(t,r.overlayContainer);return Sa(s,r)},function(t,r,{position:s},a){w.useEffect(function(){const{instance:d}=t;function u(m){m.popup===d&&(d.update(),a(!0))}function f(m){m.popup===d&&a(!1)}return r.map.on({popupopen:u,popupclose:f}),r.overlayContainer==null?(s!=null&&d.setLatLng(s),d.openOn(r.map)):r.overlayContainer.bindPopup(d),function(){var v;r.map.off({popupopen:u,popupclose:f}),(v=r.overlayContainer)==null||v.unbindPopup(),r.map.removeLayer(d)}},[t,r,a,s])}),ok=ek(function({url:t,...r},s){const a=new us.TileLayer(t,Ll(r,s));return Sa(a,s)},function(t,r,s){tk(t,r,s);const{url:a}=r;a!=null&&a!==s.url&&t.setUrl(a)});delete cl.Icon.Default.prototype._getIconUrl;cl.Icon.Default.mergeOptions({iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png"});function lk({markers:e,userLocation:t}){const r=Ag();return w.useEffect(()=>{const s=[...e.map(l=>l.position),...t?[t]:[]];if(s.length===0)return;if(s.length===1){r.setView(s[0],Math.max(r.getZoom(),13));return}const a=cl.latLngBounds(s.map(l=>cl.latLng(l[0],l[1])));r.fitBounds(a,{padding:[40,40]})},[r,e,t]),null}function ck({onMapClick:e}){return rk({click(t){e&&e({lat:t.latlng.lat,lng:t.latlng.lng})}}),null}function Bg({center:e,zoom:t=12,markers:r,className:s,style:a,userLocation:l,onMapClick:d,selectedPosition:u,onMarkerClick:f,route:m}){const g=w.useMemo(()=>document.documentElement.classList.contains("dark"),[])?{url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",attribution:""}:{url:"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",attribution:""};return i.jsx("div",{className:s,style:a,children:i.jsxs(ik,{center:e,zoom:t,style:{height:"340px",width:"100%",borderRadius:16,boxShadow:"0 6px 24px rgba(0,0,0,0.08)"},scrollWheelZoom:!0,children:[i.jsx(ck,{onMapClick:d}),i.jsx(ok,{attribution:g.attribution,url:g.url}),i.jsx(lk,{markers:r,userLocation:l}),u&&i.jsx($c,{position:u,children:i.jsx(Zc,{children:"Emplacement slectionn"})}),l&&i.jsxs(i.Fragment,{children:[i.jsx(nk,{center:l,radius:8,pathOptions:{color:"#2563EB",fillColor:"#60A5FA",fillOpacity:.7}}),i.jsx($c,{position:l,children:i.jsx(Zc,{children:i.jsx("div",{children:i.jsx("div",{className:"font-semibold",children:"Vous tes ici"})})})})]}),r.map(y=>i.jsx($c,{position:y.position,eventHandlers:f?{click:()=>f(y)}:void 0,children:i.jsx(Zc,{children:i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold",children:y.title}),y.subtitle&&i.jsx("div",{className:"text-sm text-gray-600",children:y.subtitle})]})})},y.id)),Array.isArray(m)&&m.length>1&&i.jsx(ak,{positions:m,pathOptions:{color:"#2563EB",weight:5,opacity:.85}})]})})}function dk({value:e,onChange:t,placeholder:r,required:s}){const[a,l]=w.useState(!1),[d,u]=w.useState(void 0),[f,m]=w.useState(e),[v,g]=w.useState(!1),[y,j]=w.useState(void 0),S=[5.345317,-4.024429];w.useEffect(()=>{m(e)},[e]),w.useEffect(()=>{a&&!d&&"geolocation"in navigator&&(g(!0),navigator.geolocation.getCurrentPosition(async k=>{const{latitude:x,longitude:E}=k.coords,O=[x,E];j(O),u(O);try{const M=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${x}&lon=${E}&zoom=18&addressdetails=1`,{headers:{"Accept-Language":"fr"}});if(M.ok){const A=(await M.json()).display_name||`${x.toFixed(6)}, ${E.toFixed(6)}`;m(A)}else m(`${x.toFixed(6)}, ${E.toFixed(6)}`)}catch(M){console.error("Erreur reverse geocoding:",M),m(`${x.toFixed(6)}, ${E.toFixed(6)}`)}finally{g(!1)}},k=>{console.error("Erreur golocalisation:",k),g(!1)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0}))},[a,d]);const N=async({lat:k,lng:x})=>{u([k,x]),g(!0);try{const E=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${k}&lon=${x}&zoom=18&addressdetails=1`,{headers:{"Accept-Language":"fr"}});if(E.ok){const M=(await E.json()).display_name||`${k.toFixed(6)}, ${x.toFixed(6)}`;m(M)}else m(`${k.toFixed(6)}, ${x.toFixed(6)}`)}catch(E){console.error("Erreur reverse geocoding:",E),m(`${k.toFixed(6)}, ${x.toFixed(6)}`)}finally{g(!1)}},C=()=>{d?t(f,d[0],d[1]):t(f),l(!1)},b=()=>{l(!1),m(e),u(void 0),j(void 0)};return i.jsxs("div",{className:"relative",children:[i.jsxs("div",{className:"relative",children:[i.jsx(vr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"text",value:e,onFocus:()=>l(!0),onChange:k=>{m(k.target.value),t(k.target.value)},className:"w-full pl-10 pr-4 py-3.5 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm focus:shadow-md transition-all duration-200",placeholder:r||"Cliquez pour slectionner sur la carte",required:s})]}),a&&i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col overflow-hidden",children:[i.jsxs("div",{className:"p-4 sm:p-6 border-b border-gray-200 dark:border-gray-700 flex-shrink-0",children:[i.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Slectionnez votre emplacement"}),i.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:"Votre position actuelle est affiche. Cliquez pour la modifier."})]}),i.jsxs("div",{className:"relative flex-1",style:{minHeight:"250px"},children:[i.jsx(Bg,{center:d||y||S,zoom:d?15:12,markers:[],onMapClick:N,selectedPosition:d,userLocation:y}),v&&i.jsx("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 bg-white dark:bg-gray-800 px-3 py-2 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 z-10",children:i.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:" Rcupration de votre position..."})})]}),d&&i.jsx("div",{className:"p-3 sm:p-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-700/50 flex-shrink-0",children:i.jsxs("div",{className:"flex items-start space-x-2 sm:space-x-3",children:[i.jsx(vr,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),i.jsxs("div",{className:"flex-1 min-w-0 ",children:[i.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-900 dark:text-white mb-1",children:"Adresse slectionne :"}),i.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 break-words",children:f})]})]})}),i.jsxs("div",{className:"p-4 sm:p-6 flex flex-col sm:flex-row items-stretch sm:items-center justify-between gap-3 sm:gap-4 flex-shrink-0 border-t border-gray-200 dark:border-gray-700",children:[i.jsxs("button",{onClick:b,className:"flex items-center justify-center space-x-2 px-4 sm:px-6 py-2.5 sm:py-3 rounded-xl bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 font-medium transition-all duration-200 text-sm sm:text-base",children:[i.jsx(Dr,{className:"w-4 h-4 sm:w-5 sm:h-5"}),i.jsx("span",{children:"Annuler"})]}),i.jsxs("button",{onClick:C,disabled:!d,className:`flex items-center justify-center space-x-2 px-4 sm:px-6 py-2.5 sm:py-3 rounded-xl font-medium shadow-lg hover:shadow-xl transition-all duration-200 text-sm sm:text-base ${d?"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white hover:scale-105":"bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`,children:[i.jsx(Mt,{className:"w-4 h-4 sm:w-5 sm:h-5"}),i.jsx("span",{children:"Valider"})]})]})]})})]})}function uk(){const[e,t]=w.useState({email:"",password:"",confirmPassword:"",nom:"",prenom:"",telephone:"",role_id:1,nom_commercial:"",ville:"",adresse:"",latitude:void 0,longitude:void 0}),[r,s]=w.useState(!1),[a,l]=w.useState(!1),[d,u]=w.useState(""),{register:f}=Qe(),m=zr(),v=async y=>{if(y.preventDefault(),l(!0),u(""),e.password!==e.confirmPassword){u("Les mots de passe ne correspondent pas"),l(!1);return}try{await f(e),m("/app",{replace:!0})}catch{u("Erreur lors de l'inscription")}finally{l(!1)}},g=y=>{t({...e,[y.target.name]:y.target.value})};return i.jsxs("div",{className:"w-full max-w-md mx-auto p-8 bg-white dark:bg-gray-800 rounded-3xl shadow-2xl border border-gray-100 dark:border-gray-700",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("div",{className:"inline-block p-4 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl shadow-lg mb-4",children:i.jsx("h1",{className:"text-3xl font-bold text-white",children:"PrestaCI"})}),i.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Crer votre compte"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Rejoignez PrestaCI ds aujourd'hui"})]}),i.jsxs("form",{onSubmit:v,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Type de compte"}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsx("button",{type:"button",onClick:()=>t({...e,role_id:1}),className:`p-4 rounded-2xl border transition-all duration-200 ${e.role_id===1?"border-blue-500 ring-2 ring-blue-200 dark:ring-blue-900 bg-gradient-to-br from-blue-50 to-purple-50 dark:from-blue-950 dark:to-purple-950 shadow-md":"border-gray-200 dark:border-gray-700 hover:border-blue-300 dark:hover:border-blue-600 hover:shadow-md"}`,children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:`w-11 h-11 rounded-lg flex items-center justify-center ${e.role_id===1?"bg-blue-100 dark:bg-blue-900":"bg-gray-100 dark:bg-gray-800"}`,children:i.jsx(Ws,{className:`w-6 h-6 ${e.role_id===1?"text-blue-600 dark:text-blue-300":"text-gray-500 dark:text-gray-300"}`})}),i.jsxs("div",{className:"text-left",children:[i.jsx("div",{className:`font-semibold ${e.role_id===1?"text-blue-700 dark:text-blue-300":"text-gray-800 dark:text-gray-200"}`,children:"Client"}),i.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Rserver des prestations"})]})]})}),i.jsx("button",{type:"button",onClick:()=>t({...e,role_id:2}),className:`p-4 rounded-2xl border transition-all duration-200 ${e.role_id===2?"border-blue-500 ring-2 ring-blue-200 dark:ring-blue-900 bg-gradient-to-br from-blue-50 to-purple-50 dark:from-blue-950 dark:to-purple-950 shadow-md":"border-gray-200 dark:border-gray-700 hover:border-blue-300 dark:hover:border-blue-600 hover:shadow-md"}`,children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:`w-11 h-11 rounded-lg flex items-center justify-center ${e.role_id===2?"bg-blue-100 dark:bg-blue-900":"bg-gray-100 dark:bg-gray-800"}`,children:i.jsx(C_,{className:`w-6 h-6 ${e.role_id===2?"text-blue-600 dark:text-blue-300":"text-gray-500 dark:text-gray-300"}`})}),i.jsxs("div",{className:"text-left",children:[i.jsx("div",{className:`font-semibold ${e.role_id===2?"text-blue-700 dark:text-blue-300":"text-gray-800 dark:text-gray-200"}`,children:"Prestataire"}),i.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Publier des services et grer les rservations"})]})]})})]})]}),e.role_id===2&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"p-4 rounded-xl bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 border border-blue-200 dark:border-blue-800",children:i.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[" ",i.jsx("strong",{children:"Informations essentielles"})," - Vous pourrez complter votre profil aprs l'inscription"]})}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nom de votre tablissement *"}),i.jsx("input",{type:"text",name:"nom_commercial",value:e.nom_commercial,onChange:g,className:"w-full px-4 py-3.5 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm focus:shadow-md transition-all duration-200",placeholder:"Ex: Salon BelleVie, Studio Coiffure Adjam...",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Ville *"}),i.jsx("input",{type:"text",name:"ville",value:e.ville,onChange:g,className:"w-full px-4 py-3.5 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm focus:shadow-md transition-all duration-200",placeholder:"Abidjan, Yamoussoukro, Bouak...",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Adresse complte *"}),i.jsx(dk,{value:e.adresse,onChange:(y,j,S)=>{t({...e,adresse:y,latitude:j,longitude:S})},placeholder:"Cliquez pour slectionner sur la carte",required:!0}),i.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:" Cliquez sur le champ pour ouvrir la carte et slectionner votre position exacte"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Prnom"}),i.jsxs("div",{className:"relative",children:[i.jsx(Ws,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"text",name:"prenom",value:e.prenom,onChange:g,className:"w-full pl-10 pr-4 py-3.5 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm focus:shadow-md transition-all duration-200",placeholder:"Adjoua",required:!0})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nom"}),i.jsx("input",{type:"text",name:"nom",value:e.nom,onChange:g,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Kouadio",required:!0})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),i.jsxs("div",{className:"relative",children:[i.jsx(cs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"email",name:"email",value:e.email,onChange:g,className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"votre@email.com",required:!0})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tlphone"}),i.jsxs("div",{className:"relative",children:[i.jsx(ds,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"tel",name:"telephone",value:e.telephone,onChange:g,className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"+225 XX XX XX XX XX",required:!0})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Mot de passe"}),i.jsxs("div",{className:"relative",children:[i.jsx(al,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:r?"text":"password",name:"password",value:e.password,onChange:g,className:"w-full pl-10 pr-12 py-3.5 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm focus:shadow-md transition-all duration-200",placeholder:"",required:!0}),i.jsx("button",{type:"button",onClick:()=>s(!r),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors duration-200",children:r?i.jsx(El,{className:"w-5 h-5"}):i.jsx(Na,{className:"w-5 h-5"})})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Confirmer le mot de passe"}),i.jsxs("div",{className:"relative",children:[i.jsx(al,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"password",name:"confirmPassword",value:e.confirmPassword,onChange:g,className:"w-full pl-10 pr-4 py-3.5 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm focus:shadow-md transition-all duration-200",placeholder:"",required:!0})]})]}),d&&i.jsx("div",{className:"p-3 bg-gradient-to-r from-red-50 to-pink-50 dark:from-red-900/20 dark:to-pink-900/20 border border-red-200 dark:border-red-800 rounded-xl shadow-sm",children:i.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm font-medium",children:d})}),i.jsx("button",{type:"submit",disabled:a,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 disabled:from-blue-400 disabled:to-purple-400 text-white py-3.5 px-4 rounded-xl font-semibold transition-all duration-200 shadow-lg hover:shadow-xl hover:scale-[1.02] disabled:hover:scale-100",children:a?"Inscription...":"S'inscrire"})]}),i.jsx("div",{className:"mt-6 text-center",children:i.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Dj un compte ?"," ",i.jsx("button",{onClick:()=>m("/login"),className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-semibold hover:underline transition-all duration-200",children:"Se connecter"})]})})]})}function hk({currentTab:e,setCurrentTab:t}){const{role:r}=Qe(),s=[{id:"home",label:"Accueil",icon:To},{id:"reservations",label:"Rservations",icon:jt},{id:"publications",label:"Publications",icon:Ml},{id:"favorites",label:"Favoris",icon:gn},{id:"profile",label:"Profil",icon:Ws}],a=[{id:"home",label:"Dashboard",icon:To},{id:"services",label:"Services",icon:Sn},{id:"reservations",label:"Rservations",icon:jt},{id:"plans",label:"Abonnement",icon:ni},{id:"profile",label:"Profil",icon:Ws}],l=[{id:"dashboard",label:"Dashboard",icon:To},{id:"users",label:"Utilisateurs",icon:Ws},{id:"services",label:"Services",icon:Sn},{id:"payments",label:"Paiements",icon:ni},{id:"profile",label:"Profil",icon:Ws}];let d=s;return(r==null?void 0:r.nom)==="prestataire"&&(d=a),(r==null?void 0:r.nom)==="admin"&&(d=l),i.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white/80 dark:bg-gray-800/80 backdrop-blur-lg border-t border-gray-200/50 dark:border-gray-700/50 px-2 py-2 shadow-lg",children:i.jsx("div",{className:"max-w-md mx-auto",children:i.jsx("div",{className:"flex justify-around relative",children:d.map(u=>{const f=u.icon,m=e===u.id;return i.jsxs("button",{onClick:()=>t(u.id),className:`flex flex-col items-center py-2.5 px-2 sm:px-4 rounded-xl transition-all duration-300 relative z-10 ${m?"text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:[i.jsxs("div",{className:`relative ${m?"transform -translate-y-1":""} transition-transform duration-300`,children:[i.jsx(f,{className:`w-5 h-5 sm:w-6 sm:h-6 ${m?"drop-shadow-lg":""} transition-all duration-300`}),m&&i.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-full blur-sm -z-10"})]}),i.jsx("span",{className:`text-[10px] sm:text-xs mt-1 sm:mt-1.5 font-medium transition-all duration-300 ${m?"opacity-100":"opacity-70"}`,children:u.label}),m&&i.jsx("div",{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2 w-1 h-1 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full"})]},u.id)})})})})}function fk(){const e=zr();return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 p-4",children:i.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 pt-8 pb-20",children:[i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:"inline-flex p-4 rounded-2xl bg-gradient-to-br from-blue-500 to-purple-600 shadow-2xl mb-4 animate-bounce",children:i.jsx(il,{className:"w-12 h-12 text-white"})}),i.jsx("h1",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Espace Prestataire Pro"}),i.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 max-w-2xl mx-auto",children:"Grez votre activit, dveloppez votre visibilit et augmentez vos revenus avec PrestaCI"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 p-6 hover:shadow-2xl transition-all duration-300 hover:scale-105 group",children:[i.jsx("div",{className:"inline-flex p-3 rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 mb-4 group-hover:scale-110 transition-transform",children:i.jsx(Yd,{className:"w-8 h-8 text-white"})}),i.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Dashboard complet"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Suivez vos statistiques, rservations et performances en temps rel"}),i.jsxs("button",{onClick:()=>e("/app"),className:"text-blue-600 dark:text-blue-400 font-medium flex items-center space-x-2 group-hover:translate-x-2 transition-transform",children:[i.jsx("span",{children:"Accder au dashboard"}),i.jsx(Eo,{className:"w-4 h-4"})]})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 p-6 hover:shadow-2xl transition-all duration-300 hover:scale-105 group",children:[i.jsx("div",{className:"inline-flex p-3 rounded-xl bg-gradient-to-br from-purple-500 to-pink-500 mb-4 group-hover:scale-110 transition-transform",children:i.jsx(as,{className:"w-8 h-8 text-white"})}),i.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Gestion des services"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Crez et grez vos services pour attirer plus de clients"}),i.jsxs("button",{onClick:()=>e("/app"),className:"text-purple-600 dark:text-purple-400 font-medium flex items-center space-x-2 group-hover:translate-x-2 transition-transform",children:[i.jsx("span",{children:"Grer mes services"}),i.jsx(Eo,{className:"w-4 h-4"})]})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 p-6 hover:shadow-2xl transition-all duration-300 hover:scale-105 group",children:[i.jsx("div",{className:"inline-flex p-3 rounded-xl bg-gradient-to-br from-orange-500 to-yellow-500 mb-4 group-hover:scale-110 transition-transform",children:i.jsx(Eg,{className:"w-8 h-8 text-white"})}),i.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Plans Premium"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Boostez votre visibilit avec nos offres premium"}),i.jsxs("button",{onClick:()=>e("/app"),className:"text-orange-600 dark:text-orange-400 font-medium flex items-center space-x-2 group-hover:translate-x-2 transition-transform",children:[i.jsx("span",{children:"Voir les plans"}),i.jsx(Eo,{className:"w-4 h-4"})]})]})]}),i.jsxs("div",{className:"bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 rounded-3xl p-8 shadow-2xl text-white relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-black/10"}),i.jsxs("div",{className:"relative z-10",children:[i.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Prt  dvelopper votre activit ?"}),i.jsx("p",{className:"text-lg mb-6 text-white/90",children:"Accdez  tous les outils pour grer votre tablissement et augmenter vos rservations"}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-white/20 flex items-center justify-center",children:i.jsx(Mt,{className:"w-4 h-4"})}),i.jsx("span",{children:"Gestion complte des rservations"})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-white/20 flex items-center justify-center",children:i.jsx(Mt,{className:"w-4 h-4"})}),i.jsx("span",{children:"Statistiques dtailles"})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-white/20 flex items-center justify-center",children:i.jsx(Mt,{className:"w-4 h-4"})}),i.jsx("span",{children:"Services illimits (plan premium)"})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-white/20 flex items-center justify-center",children:i.jsx(Mt,{className:"w-4 h-4"})}),i.jsx("span",{children:"Badge vrifi"})]})]}),i.jsx("button",{onClick:()=>e("/app"),className:"px-8 py-4 rounded-xl bg-white text-blue-600 font-bold text-lg shadow-xl hover:shadow-2xl hover:scale-105 transition-all duration-200",children:"Accder  mon espace Pro"})]})]})]})})}function mk(){const[e,t]=w.useState(""),[r,s]=w.useState(!1),a=zr(),{isAuthenticated:l,user:d,role:u}=Qe(),f=async()=>{var v,g,y,j,S,N;s(!0);let m="";try{m+=` DEBUG LOCALSTORAGE:
`,m+=`Cls dans localStorage:
`;for(let b=0;b<localStorage.length;b++){const k=localStorage.key(b);m+=`  - ${k}
`}m+=`
`;const C=localStorage.getItem("prestaci-auth");if(C)try{const b=JSON.parse(C);m+=` prestaci-auth trouv:
`,m+=`  - Token: ${b.token?"Oui ("+b.token.length+" caractres)":"Non"}
`,m+=`  - User: ${b.user?b.user.email:"Non"}
`,m+=`  - Role: ${b.role?b.role.nom:"Non"}
`,b.token&&(m+=`  - Dbut token: ${b.token.substring(0,50)}...
`)}catch(b){m+=` Erreur parsing prestaci-auth: ${b}
`}else m+=` prestaci-auth non trouv dans localStorage
`;m+=`
`,m+=` TEST API /api/admin/stats:
`;try{const b=await G.admin.getStats();m+=` Succs !
`,m+=`Donnes reues: ${JSON.stringify(b,null,2)}

`,m+=` ANALYSE:
`,m+=` Total utilisateurs: ${((v=b.users)==null?void 0:v.total_users)||"N/A"}
`,m+=` Clients: ${((g=b.users)==null?void 0:g.clients)||"N/A"}
`,m+=` Prestataires: ${((y=b.users)==null?void 0:y.prestataires)||"N/A"}
`,m+=` Admins: ${((j=b.users)==null?void 0:j.admins)||"N/A"}
`,m+=` Services: ${((S=b.services)==null?void 0:S.total_services)||"N/A"}
`,m+=` Notifications: ${((N=b.notifications)==null?void 0:N.total_notifications)||"N/A"}
`}catch(b){m+=` Erreur: ${b.message}
`,m+=`Dtails: ${JSON.stringify(b,null,2)}
`}m+=`
 TEST API /api/admin/statistics/overview:
`;try{const b=await G.admin.statistics.getOverview();m+=` Succs !
`,m+=`Donnes: ${JSON.stringify(b,null,2)}
`}catch(b){m+=` Erreur: ${b.message}
`}}catch(C){m+=` Erreur gnrale: ${C.message}
`}t(m),s(!1)};return i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:" Debug Admin API"}),i.jsxs("div",{className:"mb-6 p-4 bg-gray-50 dark:bg-gray-900 rounded-lg",children:[i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"tat de l'authentification :"}),i.jsxs("div",{className:"space-y-1 text-sm",children:[i.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[i.jsx("span",{className:"font-medium",children:"Connect :"})," ",l?" Oui":" Non"]}),d&&i.jsxs(i.Fragment,{children:[i.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[i.jsx("span",{className:"font-medium",children:"Email :"})," ",d.email]}),i.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[i.jsx("span",{className:"font-medium",children:"Nom :"})," ",d.nom," ",d.prenom]})]}),u&&i.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[i.jsx("span",{className:"font-medium",children:"Rle :"})," ",u.nom," (ID: ",u.id,")"]}),!l&&i.jsx("button",{onClick:()=>a("/login"),className:"mt-2 px-3 py-1 bg-green-600 hover:bg-green-700 text-white text-sm rounded transition-colors",children:"Se connecter"})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("button",{onClick:f,disabled:r,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white rounded-lg transition-colors",children:r?" Test en cours...":" Tester API Admin"}),e&&i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-4 border",children:[i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Rsultats :"}),i.jsx("pre",{className:"text-sm text-gray-700 dark:text-gray-300 whitespace-pre-wrap overflow-x-auto",children:e})]})]})]})}const Cs=({message:e="Chargement..."})=>i.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mb-4"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:e})]}),mo=({title:e,value:t,icon:r,trend:s,subtitle:a,color:l="blue"})=>{const d={blue:"text-blue-600 bg-blue-50 dark:bg-blue-900/20",green:"text-green-600 bg-green-50 dark:bg-green-900/20",purple:"text-purple-600 bg-purple-50 dark:bg-purple-900/20",orange:"text-orange-600 bg-orange-50 dark:bg-orange-900/20",red:"text-red-600 bg-red-50 dark:bg-red-900/20"};return i.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-200 dark:border-gray-700 hover:shadow-md transition-shadow",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:e}),i.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-1",children:t}),a&&i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:a}),s!==void 0&&i.jsxs("div",{className:`flex items-center text-xs mt-2 ${s>=0?"text-green-600":"text-red-600"}`,children:[i.jsx(as,{className:`w-3 h-3 mr-1 ${s<0?"transform rotate-180":""}`}),Math.abs(s),"% vs mois dernier"]})]}),i.jsx("div",{className:`p-3 rounded-lg ${d[l]}`,children:i.jsx(r,{className:"w-6 h-6"})})]})})},Hc=({status:e})=>{const r={active:{label:"Actif",color:"green"},inactive:{label:"Inactif",color:"red"},pending:{label:"En attente",color:"yellow"},approved:{label:"Approuv",color:"green"},rejected:{label:"Rejet",color:"red"},confirmed:{label:"Confirm",color:"blue"},cancelled:{label:"Annul",color:"red"},completed:{label:"Termin",color:"purple"},en_attente:{label:"En attente",color:"yellow"},valide:{label:"Valid",color:"green"},rejete:{label:"Rejet",color:"red"},confirmee:{label:"Confirme",color:"blue"},terminee:{label:"Termine",color:"purple"},annulee:{label:"Annule",color:"red"}}[e]||{label:e,color:"gray"},s={green:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",red:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",yellow:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",blue:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",purple:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",gray:"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"};return i.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${s[r.color]}`,children:r.label})},Nm=({value:e,onChange:t,placeholder:r="Rechercher...",className:s=""})=>i.jsxs("div",{className:`relative ${s}`,children:[i.jsx(Cg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),i.jsx("input",{type:"text",placeholder:r,value:e,onChange:a=>t(a.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),Uc=({value:e,onChange:t,options:r,className:s=""})=>i.jsx("select",{value:e,onChange:a=>t(a.target.value),className:`px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${s}`,children:r.map(a=>i.jsx("option",{value:a.value,children:a.label},a.value))});function Sm(){const{showToast:e}=rt(),[t,r]=w.useState("dashboard"),[s,a]=w.useState(!0),[l,d]=w.useState(!1),[u,f]=w.useState({stats:{users:{total_users:0,clients:0,prestataires:0,admins:0,active_users:0},services:{total_services:0,services_actifs:0,pending_approval:0},reservations:{total_reservations:0,confirmees:0,en_attente:0,today:0},financial:{revenue_today:0,revenue_month:0,pending_payments:0},notifications:{total_notifications:0,non_lues:0}},lastUpdated:null}),[m,v]=w.useState({users:[],filter:"all",search:"",selectedUser:null}),[g,y]=w.useState({transactions:[],filter:"all",selectedTransaction:null,rejectReason:"",showRejectModal:!1}),[j,S]=w.useState({services:[],filter:"all",search:""}),[N,C]=w.useState({categories:[]}),[b,k]=w.useState({reservations:[],filter:"all"}),[x,E]=w.useState({avis:[],filter:"all"}),[O,M]=w.useState({notifications:[],filter:"all"}),[F,A]=w.useState({plans:[]}),[Y,J]=w.useState({settings:{},editingKey:null,editValue:"",newKey:"",newValue:"",newDescription:"",newCategory:"general"}),q=w.useCallback(async()=>{a(!0);try{const T=await G.admin.getStats();f(K=>({...K,stats:{...K.stats,...T},lastUpdated:new Date}))}catch(T){console.error("Erreur chargement stats:",T),e("Erreur de chargement des statistiques","error")}finally{a(!1)}},[e]),ie=w.useCallback(async()=>{a(!0);try{const T=await G.admin.getWaveTransactions({statut:g.filter==="all"?void 0:g.filter});y(K=>({...K,transactions:T.transactions||[]}))}catch(T){console.error("Erreur chargement transactions:",T),e("Erreur de chargement des transactions","error")}finally{a(!1)}},[g.filter,e]),ke=w.useCallback(async()=>{a(!0);try{const T=await G.admin.getUsers({role:m.filter==="all"?void 0:m.filter,search:m.search||void 0});v(K=>({...K,users:T.users||[]}))}catch(T){console.error("Erreur chargement utilisateurs:",T),e("Erreur de chargement des utilisateurs","error")}finally{a(!1)}},[m.filter,m.search,e]),pe=w.useCallback(async()=>{a(!0);try{const T=await G.admin.services.getAll({status:j.filter==="all"?void 0:j.filter,search:j.search});S(K=>({...K,services:T.services||[]}))}catch(T){console.error("Erreur chargement services:",T),e("Erreur de chargement des services","error")}finally{a(!1)}},[j.filter,j.search,e]),Z=w.useCallback(async()=>{a(!0);try{const T=await G.admin.categories.getAll();C(K=>({...K,categories:T||[]}))}catch(T){console.error("Erreur chargement catgories:",T),e("Erreur de chargement des catgories","error")}finally{a(!1)}},[e]),oe=w.useCallback(async()=>{a(!0);try{const T=await G.admin.reservations.getAll({statut:b.filter==="all"?void 0:b.filter});k(K=>({...K,reservations:T.reservations||[]}))}catch(T){console.error("Erreur chargement rservations:",T),e("Erreur de chargement des rservations","error")}finally{a(!1)}},[b.filter,e]),ye=w.useCallback(async()=>{a(!0);try{const T=await G.admin.avis.getAll({status:x.filter==="all"?void 0:x.filter});E(K=>({...K,avis:T.avis||[]}))}catch(T){console.error("Erreur chargement avis:",T),e("Erreur de chargement des avis","error")}finally{a(!1)}},[x.filter,e]),W=w.useCallback(async()=>{a(!0);try{const T=await G.admin.notifications.getAll({type:O.filter==="all"?void 0:O.filter});M(K=>({...K,notifications:T.notifications||[]}))}catch(T){console.error("Erreur chargement notifications:",T),e("Erreur de chargement des notifications","error")}finally{a(!1)}},[O.filter,e]),Q=w.useCallback(async()=>{a(!0);try{const T=await G.admin.plans.getAll();A(K=>({...K,plans:T||[]}))}catch(T){console.error("Erreur chargement plans:",T),e("Erreur de chargement des plans","error")}finally{a(!1)}},[e]),$=w.useCallback(async()=>{a(!0);try{const T=await G.admin.getSettings();J(K=>({...K,settings:T}))}catch(T){console.error("Erreur chargement paramtres:",T),e("Erreur de chargement des paramtres","error")}finally{a(!1)}},[e]),se=w.useCallback(T=>{switch(T){case"dashboard":q();break;case"users":ke();break;case"payments":ie();break;case"settings":$();break;case"services":pe();break;case"categories":Z();break;case"reservations":oe();break;case"avis":ye();break;case"notifications":W();break;case"plans":Q();break}},[q,ke,ie,$,pe,Z,oe,ye,W,Q]),he=async()=>{d(!0);try{await se(t),e("Donnes actualises","success")}catch{e("Erreur lors de l'actualisation","error")}finally{d(!1)}},Se=async T=>{try{await G.admin.validateWaveTransaction(T),e("Transaction valide avec succs","success"),await ie()}catch{e("Erreur lors de la validation","error")}},I=async(T,K)=>{try{await G.admin.rejectWaveTransaction(T,K),e("Transaction rejete","success"),y(Oe=>({...Oe,showRejectModal:!1,rejectReason:"",selectedTransaction:null})),await ie()}catch{e("Erreur lors du rejet","error")}},X=async T=>{try{await G.admin.toggleUserStatus(T),e("Statut utilisateur modifi","success"),await ke()}catch{e("Erreur lors de la modification du statut","error")}},z=async T=>{const K=m.users.find(Oe=>Oe.id===T);if(K&&confirm(`tes-vous sr de vouloir supprimer l'utilisateur ${K.nom} ${K.prenom} ?`))try{await G.admin.deleteUser(T),e("Utilisateur supprim","success"),await ke()}catch{e("Erreur lors de la suppression","error")}},U=async(T,K)=>{try{await G.admin.services.updateStatus(T,K),e(`Service ${K?"activ":"suspendu"}`,"success"),await pe()}catch{e("Erreur lors de la modification du statut","error")}},ae=async T=>{if(confirm("tes-vous sr de vouloir supprimer ce service ?"))try{await G.admin.services.delete(T),e("Service supprim","success"),await pe()}catch{e("Erreur lors de la suppression","error")}},we=async()=>{const T=prompt("Nom de la catgorie :");if(!T)return;const K=prompt("Description :")||"";try{await G.admin.categories.create({nom:T,description:K}),e("Catgorie cre","success"),await Z()}catch{e("Erreur lors de la cration","error")}},Ce=async T=>{const K=N.categories.find(ir=>ir.id===T);if(!K)return;const Oe=prompt("Nom de la catgorie :",K.nom);if(!Oe)return;const sr=prompt("Description :",K.description)||"";try{await G.admin.categories.update(T,{nom:Oe,description:sr}),e("Catgorie mise  jour","success"),await Z()}catch{e("Erreur lors de la mise  jour","error")}},Ye=async T=>{if(confirm("tes-vous sr de vouloir supprimer cette catgorie ?"))try{await G.admin.categories.delete(T),e("Catgorie supprime","success"),await Z()}catch{e("Erreur lors de la suppression","error")}},Le=async(T,K)=>{try{await G.admin.updateSetting(T,K),await $(),J(Oe=>({...Oe,editingKey:null})),e("Paramtre mis  jour","success")}catch{e("Erreur de mise  jour","error")}},Re=async T=>{if(confirm(`tes-vous sr de vouloir supprimer le paramtre "${T}" ?`))try{await G.admin.deleteSetting(T),await $(),e("Paramtre supprim","success")}catch{e("Erreur de suppression","error")}},Ge=async()=>{if(!Y.newKey||!Y.newValue){e("Cl et valeur requises","error");return}try{await G.admin.updateSetting(Y.newKey,Y.newValue,Y.newDescription),await $(),J(T=>({...T,newKey:"",newValue:"",newDescription:"",newCategory:"general"})),e("Paramtre ajout","success")}catch{e("Erreur d'ajout","error")}},st=async()=>{if(confirm("tes-vous sr de vouloir rinitialiser tous les paramtres aux valeurs par dfaut ?"))try{await G.admin.resetSettings(),await $(),e("Paramtres rinitialiss","success")}catch{e("Erreur de rinitialisation","error")}};w.useEffect(()=>{se(t)},[t,se]),w.useEffect(()=>{t==="users"&&ke()},[m.filter,m.search,t]),w.useEffect(()=>{t==="payments"&&ie()},[g.filter,t]),w.useEffect(()=>{t==="services"&&pe()},[j.filter,j.search,t]),w.useEffect(()=>{t==="reservations"&&oe()},[b.filter,t]),w.useEffect(()=>{t==="avis"&&ye()},[x.filter,t]);const dt=T=>new Date(T).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),Ht=(T,K="FCFA")=>new Intl.NumberFormat("fr-FR").format(T)+" "+K,Ut=()=>{var T,K,Oe,sr,ir,Rn,ps,ar;return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Tableau de bord"}),u.lastUpdated&&i.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Dernire mise  jour : ",dt(u.lastUpdated.toISOString())]})]}),i.jsxs("button",{onClick:he,disabled:l,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white rounded-lg transition-colors",children:[i.jsx(Bi,{className:`w-4 h-4 ${l?"animate-spin":""}`}),i.jsx("span",{children:"Actualiser"})]})]}),s?i.jsx(Cs,{message:"Chargement des statistiques..."}):u.stats?i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsx(mo,{title:"Utilisateurs totaux",value:((T=u.stats.users)==null?void 0:T.total_users)||0,subtitle:`${((K=u.stats.users)==null?void 0:K.active_users)||0} actifs`,icon:qs,color:"blue"}),i.jsx(mo,{title:"Services actifs",value:((Oe=u.stats.services)==null?void 0:Oe.services_actifs)||0,subtitle:`${((sr=u.stats.services)==null?void 0:sr.total_services)||0} au total`,icon:Sn,color:"green"}),i.jsx(mo,{title:"Rservations aujourd'hui",value:((ir=u.stats.reservations)==null?void 0:ir.today)||0,subtitle:`${((Rn=u.stats.reservations)==null?void 0:Rn.total_reservations)||0} total`,icon:jt,color:"purple"}),i.jsx(mo,{title:"Revenus du mois",value:Ht(((ps=u.stats.financial)==null?void 0:ps.revenue_month)||0),subtitle:Ht(((ar=u.stats.financial)==null?void 0:ar.revenue_today)||0,"aujourd'hui"),icon:Xu,color:"orange"})]}):i.jsxs("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:[i.jsx(bm,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),i.jsx("p",{children:"Aucune donne disponible"})]})]})},Ln=()=>i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:["Gestion des Utilisateurs (",m.users.length,")"]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(Nm,{value:m.search,onChange:T=>v(K=>({...K,search:T})),placeholder:"Rechercher un utilisateur..."}),i.jsx(Uc,{value:m.filter,onChange:T=>v(K=>({...K,filter:T})),options:[{value:"all",label:"Tous les utilisateurs"},{value:"client",label:"Clients"},{value:"prestataire",label:"Prestataires"},{value:"admin",label:"Administrateurs"}]}),i.jsx("button",{onClick:ke,className:"p-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:i.jsx(Bi,{className:"w-4 h-4"})})]})]}),i.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:s?i.jsx(Cs,{}):m.users.length===0?i.jsxs("div",{className:"p-8 text-center text-gray-500 dark:text-gray-400",children:[i.jsx(qs,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),i.jsx("p",{children:"Aucun utilisateur trouv"})]}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Utilisateur"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Rle"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Inscription"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Statut"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:m.users.map(T=>i.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{children:[i.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[T.nom," ",T.prenom]}),i.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:T.email}),T.telephone&&i.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:T.telephone})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:T.role_nom}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:dt(T.created_at)}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx(Hc,{status:T.is_active?"active":"inactive"})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("button",{onClick:()=>X(T.id),className:`p-1 rounded ${T.is_active?"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/20":"text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300 hover:bg-green-50 dark:hover:bg-green-900/20"} transition-colors`,title:T.is_active?"Dsactiver":"Activer",children:T.is_active?i.jsx(W_,{className:"w-5 h-5"}):i.jsx(F_,{className:"w-5 h-5"})}),i.jsx("button",{onClick:()=>z(T.id),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300 p-1 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors",title:"Supprimer",children:i.jsx(xn,{className:"w-5 h-5"})})]})})]},T.id))})]})})})]}),wt=()=>i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Gestion des paiements"}),i.jsx("div",{className:"flex items-center space-x-4",children:i.jsx(Uc,{value:g.filter,onChange:T=>y(K=>({...K,filter:T})),options:[{value:"all",label:"Toutes les transactions"},{value:"en_attente",label:"En attente"},{value:"valide",label:"Valides"},{value:"rejete",label:"Rejetes"}]})})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:[i.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-700/50",children:i.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Transactions Wave (",g.transactions.length,")"]})}),s?i.jsx(Cs,{}):g.transactions.length===0?i.jsxs("div",{className:"p-8 text-center text-gray-500 dark:text-gray-400",children:[i.jsx(ni,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),i.jsx("p",{children:"Aucune transaction trouve"})]}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Prestataire"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Plan"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Montant"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Date"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Statut"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:g.transactions.map(T=>i.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{children:[i.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[T.prestataire_nom," ",T.prestataire_prenom]}),i.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:T.prestataire_email})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:T.plan_nom}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900 dark:text-white",children:Ht(T.montant,T.devise)}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:dt(T.created_at)}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx(Hc,{status:T.statut})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[T.statut==="en_attente"&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>Se(T.id),className:"text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300 p-1 hover:bg-green-50 dark:hover:bg-green-900/20 rounded transition-colors",title:"Valider",children:i.jsx(sl,{className:"w-5 h-5"})}),i.jsx("button",{onClick:()=>{y(K=>({...K,selectedTransaction:T,showRejectModal:!0}))},className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300 p-1 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors",title:"Rejeter",children:i.jsx(Lo,{className:"w-5 h-5"})})]}),i.jsx("button",{className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300 p-1 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded transition-colors",title:"Voir dtails",children:i.jsx(Na,{className:"w-5 h-5"})})]})})]},T.id))})]})})]})]}),nr=()=>i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:["Gestion des Services (",j.services.length,")"]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(Nm,{value:j.search,onChange:T=>S(K=>({...K,search:T})),placeholder:"Rechercher un service..."}),i.jsx(Uc,{value:j.filter,onChange:T=>S(K=>({...K,filter:T})),options:[{value:"all",label:"Tous les services"},{value:"active",label:"Actifs"},{value:"inactive",label:"Inactifs"}]}),i.jsx("button",{onClick:pe,className:"p-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:i.jsx(Bi,{className:"w-4 h-4"})})]})]}),i.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:s?i.jsx(Cs,{}):j.services.length===0?i.jsxs("div",{className:"p-8 text-center text-gray-500 dark:text-gray-400",children:[i.jsx(Sn,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),i.jsx("p",{children:"Aucun service trouv"})]}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Service"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Prestataire"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Prix"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Statut"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:j.services.map(T=>i.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:T.nom}),i.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:T.categorie_nom})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:T.prestataire_nom}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900 dark:text-white",children:Ht(T.prix,T.devise)}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx(Hc,{status:T.is_active?"active":"inactive"})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("button",{onClick:()=>U(T.id,!T.is_active),className:`p-1 rounded transition-colors ${T.is_active?"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/20":"text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300 hover:bg-green-50 dark:hover:bg-green-900/20"}`,title:T.is_active?"Suspendre":"Activer",children:T.is_active?i.jsx(Lo,{className:"w-5 h-5"}):i.jsx(sl,{className:"w-5 h-5"})}),i.jsx("button",{onClick:()=>ae(T.id),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300 p-1 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors",title:"Supprimer",children:i.jsx(xn,{className:"w-5 h-5"})})]})})]},T.id))})]})})})]}),hs=()=>i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:["Gestion des Catgories (",N.categories.length,")"]}),i.jsxs("button",{onClick:we,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors",children:[i.jsx(ma,{className:"w-4 h-4"}),i.jsx("span",{children:"Nouvelle catgorie"})]})]}),i.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:s?i.jsx(Cs,{}):N.categories.length===0?i.jsxs("div",{className:"p-8 text-center text-gray-500 dark:text-gray-400",children:[i.jsx(wm,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),i.jsx("p",{children:"Aucune catgorie trouve"})]}):i.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:N.categories.map(T=>i.jsx("div",{className:"p-6 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[T.icone&&i.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center",style:{backgroundColor:T.couleur||"#3B82F6"},children:i.jsx("span",{className:"text-white text-xl",children:T.icone})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:T.nom}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:T.description}),i.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:[T.sous_categories_count||0," sous-catgories ",T.services_count||0," services"]})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("button",{onClick:()=>Ce(T.id),className:"p-2 text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded transition-colors",title:"Modifier",children:i.jsx(_m,{className:"w-5 h-5"})}),i.jsx("button",{onClick:()=>Ye(T.id),className:"p-2 text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors",title:"Supprimer",children:i.jsx(xn,{className:"w-5 h-5"})})]})]})},T.id))})})]}),On=()=>i.jsxs("div",{className:"space-y-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Gestion des Rservations"}),i.jsxs("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:[i.jsx(jt,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),i.jsx("p",{children:"La section des rservations est en cours de construction."})]})]}),Dn=()=>i.jsxs("div",{className:"space-y-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Modration des Avis"}),i.jsxs("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:[i.jsx(pt,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),i.jsx("p",{children:"La section des avis est en cours de construction."})]})]}),zn=()=>i.jsxs("div",{className:"space-y-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Notifications Systme"}),i.jsxs("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:[i.jsx(is,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),i.jsx("p",{children:"La section des notifications est en cours de construction."})]})]}),In=()=>i.jsxs("div",{className:"space-y-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Statistiques Avances"}),i.jsxs("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:[i.jsx(as,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),i.jsx("p",{children:"La section des statistiques est en cours de construction."})]})]}),fs=()=>i.jsxs("div",{className:"space-y-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Gestion des Abonnements"}),i.jsxs("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:[i.jsx(il,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),i.jsx("p",{children:"La section des abonnements est en cours de construction."})]})]}),ms=()=>i.jsxs("div",{className:"space-y-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Outils de Maintenance"}),i.jsxs("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:[i.jsx(jm,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),i.jsx("p",{children:"La section de maintenance est en cours de construction."})]})]}),hi=()=>i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Paramtres de l'application"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs("button",{onClick:$,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[i.jsx(Bi,{className:"w-4 h-4"}),i.jsx("span",{children:"Actualiser"})]}),i.jsxs("button",{onClick:st,className:"flex items-center space-x-2 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:[i.jsx(Vd,{className:"w-4 h-4"}),i.jsx("span",{children:"Rinitialiser"})]})]})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Nouveau paramtre"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsx("input",{type:"text",placeholder:"Cl du paramtre",value:Y.newKey,onChange:T=>J(K=>({...K,newKey:T.target.value})),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500"}),i.jsx("input",{type:"text",placeholder:"Valeur",value:Y.newValue,onChange:T=>J(K=>({...K,newValue:T.target.value})),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500"}),i.jsx("input",{type:"text",placeholder:"Description",value:Y.newDescription,onChange:T=>J(K=>({...K,newDescription:T.target.value})),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500"}),i.jsxs("select",{value:Y.newCategory,onChange:T=>J(K=>({...K,newCategory:T.target.value})),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"general",children:"Gnral"}),i.jsx("option",{value:"security",children:"Scurit"}),i.jsx("option",{value:"payment",children:"Paiement"}),i.jsx("option",{value:"notification",children:"Notification"})]})]}),i.jsxs("button",{onClick:Ge,className:"mt-4 flex items-center space-x-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors",children:[i.jsx(ma,{className:"w-4 h-4"}),i.jsx("span",{children:"Ajouter le paramtre"})]})]}),s?i.jsx(Cs,{message:"Chargement des paramtres..."}):Object.keys(Y.settings).length===0?i.jsxs("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:[i.jsx(ol,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),i.jsx("p",{children:"Aucun paramtre configur"})]}):i.jsx("div",{className:"space-y-4",children:Object.entries(Y.settings).map(([T,K])=>i.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-200 dark:border-gray-700 hover:shadow-md transition-shadow",children:i.jsx("div",{className:"flex items-start justify-between",children:i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[i.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:T}),K.category&&i.jsx("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 text-xs rounded-full",children:K.category})]}),K.description&&i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:K.description}),Y.editingKey===T?i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"text",value:Y.editValue,onChange:Oe=>J(sr=>({...sr,editValue:Oe.target.value})),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500",onKeyPress:Oe=>{Oe.key==="Enter"&&Le(T,Y.editValue)},autoFocus:!0}),i.jsx("button",{onClick:()=>Le(T,Y.editValue),className:"p-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors",title:"Enregistrer",children:i.jsx(z_,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>J(Oe=>({...Oe,editingKey:null,editValue:""})),className:"p-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors",title:"Annuler",children:i.jsx(Lo,{className:"w-4 h-4"})})]}):i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"px-3 py-1.5 bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg font-mono text-sm",children:String(K.value)}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("button",{onClick:()=>J(Oe=>({...Oe,editingKey:T,editValue:String(K.value)})),className:"p-2 text-blue-600 hover:bg-blue-100 dark:hover:bg-blue-900/30 rounded-lg transition-colors",title:"Modifier",children:i.jsx(_m,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>Re(T),className:"p-2 text-red-600 hover:bg-red-100 dark:hover:bg-red-900/30 rounded-lg transition-colors",title:"Supprimer",children:i.jsx(xn,{className:"w-4 h-4"})})]})]})]})})},T))})]});return i.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-6",children:[i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsx("div",{className:"mb-8",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Administration PrestaCI"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Centre de contrle et de gestion de la plateforme"})]}),i.jsx("div",{className:"flex items-center space-x-3",children:i.jsxs("div",{className:"flex items-center space-x-2 px-3 py-1 bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 rounded-full text-sm",children:[i.jsx("div",{className:"w-2 h-2 bg-green-600 rounded-full"}),i.jsx("span",{children:"Systme oprationnel"})]})})]})}),i.jsx("div",{className:"mb-8",children:i.jsx("div",{className:"flex flex-wrap gap-1 bg-gray-100 dark:bg-gray-800 rounded-xl p-1 overflow-x-auto",children:[{id:"dashboard",label:"Dashboard",icon:bm},{id:"users",label:"Utilisateurs",icon:qs},{id:"services",label:"Services",icon:Sn},{id:"categories",label:"Catgories",icon:wm},{id:"reservations",label:"Rservations",icon:jt},{id:"avis",label:"Avis",icon:pt},{id:"payments",label:"Paiements",icon:ni},{id:"notifications",label:"Notifications",icon:is},{id:"statistics",label:"Statistiques",icon:as},{id:"plans",label:"Abonnements",icon:il},{id:"settings",label:"Paramtres",icon:ol},{id:"maintenance",label:"Maintenance",icon:jm},{id:"debug",label:"Debug",icon:Vd}].map(T=>{const K=T.icon;return i.jsxs("button",{onClick:()=>r(T.id),className:`flex items-center space-x-2 px-4 py-3 rounded-lg font-medium transition-all whitespace-nowrap ${t===T.id?"bg-white dark:bg-gray-700 text-blue-600 dark:text-blue-400 shadow-sm border border-blue-200 dark:border-blue-800":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-white/50 dark:hover:bg-gray-700/50"}`,children:[i.jsx(K,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm font-medium",children:T.label})]},T.id)})})}),i.jsxs("main",{children:[t==="dashboard"&&Ut(),t==="users"&&Ln(),t==="services"&&nr(),t==="categories"&&hs(),t==="reservations"&&On(),t==="avis"&&Dn(),t==="payments"&&wt(),t==="notifications"&&zn(),t==="statistics"&&In(),t==="plans"&&fs(),t==="settings"&&hi(),t==="maintenance"&&ms(),t==="debug"&&i.jsx(mk,{})]})]}),g.showRejectModal&&g.selectedTransaction&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl max-w-md w-full p-6 shadow-xl",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Rejeter la transaction"}),i.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:["Transaction de ",i.jsxs("span",{className:"font-semibold",children:[g.selectedTransaction.prestataire_nom," ",g.selectedTransaction.prestataire_prenom]})," pour ",i.jsx("span",{className:"font-semibold",children:Ht(g.selectedTransaction.montant,g.selectedTransaction.devise)})]}),i.jsxs("div",{className:"mb-6",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Motif du rejet ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("textarea",{value:g.rejectReason,onChange:T=>y(K=>({...K,rejectReason:T.target.value})),placeholder:"Expliquez pourquoi cette transaction est rejete...",className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-none",rows:4,required:!0})]}),i.jsxs("div",{className:"flex space-x-3",children:[i.jsx("button",{onClick:()=>y(T=>({...T,showRejectModal:!1,rejectReason:"",selectedTransaction:null})),className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Annuler"}),i.jsx("button",{onClick:()=>{g.rejectReason.trim()&&I(g.selectedTransaction.id,g.rejectReason.trim())},disabled:!g.rejectReason.trim(),className:"flex-1 px-4 py-2 bg-red-600 hover:bg-red-700 disabled:bg-red-400 disabled:cursor-not-allowed text-white rounded-lg transition-colors font-medium",children:"Rejeter"})]})]})})]})}function pk(){const{toasts:e,removeToast:t}=rt();return e.length===0?null:i.jsx("div",{className:"fixed top-20 right-4 z-50 space-y-2",children:e.map(r=>i.jsxs("div",{className:`flex items-center space-x-3 px-4 py-3 rounded-lg shadow-lg min-w-[300px] max-w-md animate-slide-in ${r.type==="success"?"bg-green-50 dark:bg-green-900/30 border border-green-200 dark:border-green-800":r.type==="error"?"bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800":"bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-800"}`,children:[r.type==="success"&&i.jsx(sl,{className:"w-5 h-5 text-green-600 dark:text-green-400 flex-shrink-0"}),r.type==="error"&&i.jsx(Lo,{className:"w-5 h-5 text-red-600 dark:text-red-400 flex-shrink-0"}),r.type==="info"&&i.jsx(L_,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0"}),i.jsx("p",{className:`flex-1 text-sm ${r.type==="success"?"text-green-800 dark:text-green-200":r.type==="error"?"text-red-800 dark:text-red-200":"text-blue-800 dark:text-blue-200"}`,children:r.message}),i.jsx("button",{onClick:()=>t(r.id),className:"flex-shrink-0 hover:opacity-70 transition-opacity",children:i.jsx(Dr,{className:`w-4 h-4 ${r.type==="success"?"text-green-600 dark:text-green-400":r.type==="error"?"text-red-600 dark:text-red-400":"text-blue-600 dark:text-blue-400"}`})})]},r.id))})}const Yn=class Yn{constructor(){hc(this,"registration",null)}static getInstance(){return Yn.instance||(Yn.instance=new Yn),Yn.instance}isSupported(){return"Notification"in window&&"serviceWorker"in navigator}getPermissionStatus(){if(!this.isSupported())return{granted:!1,denied:!0,default:!1};const t=Notification.permission;return{granted:t==="granted",denied:t==="denied",default:t==="default"}}async requestPermission(){if(!this.isSupported())return console.warn("Les notifications ne sont pas supportes sur ce navigateur"),!1;try{return await Notification.requestPermission()==="granted"}catch(t){return console.error("Erreur lors de la demande de permission:",t),!1}}async registerServiceWorker(){if(!("serviceWorker"in navigator))return console.warn("Service Worker non support"),!1;try{return this.registration=await navigator.serviceWorker.register("/sw.js"),console.log("Service Worker enregistr:",this.registration),!0}catch(t){return console.error("Erreur enregistrement Service Worker:",t),!1}}async getPushToken(){return`web-token-${this.getDeviceId()}-${Date.now()}`}async registerPushToken(){try{if(!await this.requestPermission())return console.log("Permission de notification refuse"),!1;const r=await this.getPushToken();if(!r)return console.error("Impossible d'obtenir le token push"),!1;const s=this.getDeviceId();return(await G.pushTokens.register({token:r,device_type:"web",device_id:s})).ok?(console.log("Token push enregistr avec succs"),localStorage.setItem("push-token-registered","true"),!0):!1}catch(t){return console.error("Erreur enregistrement token push:",t),!1}}async showNotification(t,r={}){if(!this.getPermissionStatus().granted){console.warn("Permission de notification non accorde");return}try{this.registration?await this.registration.showNotification(t,{icon:"/icon-192x192.png",badge:"/icon-72x72.png",...r}):new Notification(t,{icon:"/icon-192x192.png",...r})}catch(s){console.error("Erreur affichage notification:",s)}}getDeviceId(){let t=localStorage.getItem("device-id");return t||(t="web-"+Math.random().toString(36).substr(2,9)+"-"+Date.now(),localStorage.setItem("device-id",t)),t}isTokenRegistered(){return localStorage.getItem("push-token-registered")==="true"}async initialize(){if(!this.isSupported()){console.log("Notifications non supportes sur ce navigateur");return}await this.registerServiceWorker(),this.isTokenRegistered()||await this.registerPushToken(),this.setupMessageListener()}setupMessageListener(){"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("message",t=>{console.log("Message reu du service worker:",t.data),t.data.type==="notification-click"&&this.handleNotificationClick(t.data)})}handleNotificationClick(t){switch(console.log("Notification clique:",t),t.notificationType){case"nouvelle_reservation":window.location.href="/prestataire/reservations";break;case"reservation_confirmee":window.location.href="/client/reservations";break;case"nouvel_avis":window.location.href="/prestataire/avis";break;default:window.location.href="/dashboard"}}};hc(Yn,"instance");let Jd=Yn;const gk=Jd.getInstance();function xk(e,t,r="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:e,timeZoneName:r}).format(t).split(/\s/g).slice(2).join(" ")}const Vc={},Fi={};function Kn(e,t){try{const s=(Vc[e]||(Vc[e]=new Intl.DateTimeFormat("en-US",{timeZone:e,timeZoneName:"longOffset"}).format))(t).split("GMT")[1];return s in Fi?Fi[s]:Cm(s,s.split(":"))}catch{if(e in Fi)return Fi[e];const r=e==null?void 0:e.match(vk);return r?Cm(e,r.slice(1)):NaN}}const vk=/([+-]\d\d):?(\d\d)?/;function Cm(e,t){const r=+(t[0]||0),s=+(t[1]||0),a=+(t[2]||0)/60;return Fi[e]=r*60+s>0?r*60+s+a:r*60-s-a}class Tr extends Date{constructor(...t){super(),t.length>1&&typeof t[t.length-1]=="string"&&(this.timeZone=t.pop()),this.internal=new Date,isNaN(Kn(this.timeZone,this))?this.setTime(NaN):t.length?typeof t[0]=="number"&&(t.length===1||t.length===2&&typeof t[1]!="number")?this.setTime(t[0]):typeof t[0]=="string"?this.setTime(+new Date(t[0])):t[0]instanceof Date?this.setTime(+t[0]):(this.setTime(+new Date(...t)),Fg(this),Kd(this)):this.setTime(Date.now())}static tz(t,...r){return r.length?new Tr(...r,t):new Tr(Date.now(),t)}withTimeZone(t){return new Tr(+this,t)}getTimezoneOffset(){const t=-Kn(this.timeZone,this);return t>0?Math.floor(t):Math.ceil(t)}setTime(t){return Date.prototype.setTime.apply(this,arguments),Kd(this),+this}[Symbol.for("constructDateFrom")](t){return new Tr(+new Date(t),this.timeZone)}}const Pm=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(!Pm.test(e))return;const t=e.replace(Pm,"$1UTC");Tr.prototype[t]&&(e.startsWith("get")?Tr.prototype[e]=function(){return this.internal[t]()}:(Tr.prototype[e]=function(){return Date.prototype[t].apply(this.internal,arguments),yk(this),+this},Tr.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),Kd(this),+this}))});function Kd(e){e.internal.setTime(+e),e.internal.setUTCSeconds(e.internal.getUTCSeconds()-Math.round(-Kn(e.timeZone,e)*60))}function yk(e){Date.prototype.setFullYear.call(e,e.internal.getUTCFullYear(),e.internal.getUTCMonth(),e.internal.getUTCDate()),Date.prototype.setHours.call(e,e.internal.getUTCHours(),e.internal.getUTCMinutes(),e.internal.getUTCSeconds(),e.internal.getUTCMilliseconds()),Fg(e)}function Fg(e){const t=Kn(e.timeZone,e),r=t>0?Math.floor(t):Math.ceil(t),s=new Date(+e);s.setUTCHours(s.getUTCHours()-1);const a=-new Date(+e).getTimezoneOffset(),l=-new Date(+s).getTimezoneOffset(),d=a-l,u=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();d&&u&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+d);const f=a-r;f&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+f);const m=new Date(+e);m.setUTCSeconds(0);const v=a>0?m.getSeconds():(m.getSeconds()-60)%60,g=Math.round(-(Kn(e.timeZone,e)*60))%60;(g||v)&&(e.internal.setUTCSeconds(e.internal.getUTCSeconds()+g),Date.prototype.setUTCSeconds.call(e,Date.prototype.getUTCSeconds.call(e)+g+v));const y=Kn(e.timeZone,e),j=y>0?Math.floor(y):Math.ceil(y),N=-new Date(+e).getTimezoneOffset()-j,C=j!==r,b=N-f;if(C&&b){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+b);const k=Kn(e.timeZone,e),x=k>0?Math.floor(k):Math.ceil(k),E=j-x;E&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+E),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+E))}}class Yr extends Tr{static tz(t,...r){return r.length?new Yr(...r,t):new Yr(Date.now(),t)}toISOString(){const[t,r,s]=this.tzComponents(),a=`${t}${r}:${s}`;return this.internal.toISOString().slice(0,-1)+a}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[t,r,s,a]=this.internal.toUTCString().split(" ");return`${t==null?void 0:t.slice(0,-1)} ${s} ${r} ${a}`}toTimeString(){const t=this.internal.toUTCString().split(" ")[4],[r,s,a]=this.tzComponents();return`${t} GMT${r}${s}${a} (${xk(this.timeZone,this)})`}toLocaleString(t,r){return Date.prototype.toLocaleString.call(this,t,{...r,timeZone:(r==null?void 0:r.timeZone)||this.timeZone})}toLocaleDateString(t,r){return Date.prototype.toLocaleDateString.call(this,t,{...r,timeZone:(r==null?void 0:r.timeZone)||this.timeZone})}toLocaleTimeString(t,r){return Date.prototype.toLocaleTimeString.call(this,t,{...r,timeZone:(r==null?void 0:r.timeZone)||this.timeZone})}tzComponents(){const t=this.getTimezoneOffset(),r=t>0?"-":"+",s=String(Math.floor(Math.abs(t)/60)).padStart(2,"0"),a=String(Math.abs(t)%60).padStart(2,"0");return[r,s,a]}withTimeZone(t){return new Yr(+this,t)}[Symbol.for("constructDateFrom")](t){return new Yr(+new Date(t),this.timeZone)}}const Wg=6048e5,bk=864e5,Mm=Symbol.for("constructDateFrom");function nt(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&Mm in e?e[Mm](t):e instanceof Date?new e.constructor(t):new Date(t)}function De(e,t){return nt(t||e,e)}function $g(e,t,r){const s=De(e,r==null?void 0:r.in);return isNaN(t)?nt(e,NaN):(t&&s.setDate(s.getDate()+t),s)}function Zg(e,t,r){const s=De(e,r==null?void 0:r.in);if(isNaN(t))return nt(e,NaN);if(!t)return s;const a=s.getDate(),l=nt(e,s.getTime());l.setMonth(s.getMonth()+t+1,0);const d=l.getDate();return a>=d?l:(s.setFullYear(l.getFullYear(),l.getMonth(),a),s)}let wk={};function Ca(){return wk}function si(e,t){var u,f,m,v;const r=Ca(),s=(t==null?void 0:t.weekStartsOn)??((f=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??r.weekStartsOn??((v=(m=r.locale)==null?void 0:m.options)==null?void 0:v.weekStartsOn)??0,a=De(e,t==null?void 0:t.in),l=a.getDay(),d=(l<s?7:0)+l-s;return a.setDate(a.getDate()-d),a.setHours(0,0,0,0),a}function pa(e,t){return si(e,{...t,weekStartsOn:1})}function Hg(e,t){const r=De(e,t==null?void 0:t.in),s=r.getFullYear(),a=nt(r,0);a.setFullYear(s+1,0,4),a.setHours(0,0,0,0);const l=pa(a),d=nt(r,0);d.setFullYear(s,0,4),d.setHours(0,0,0,0);const u=pa(d);return r.getTime()>=l.getTime()?s+1:r.getTime()>=u.getTime()?s:s-1}function Em(e){const t=De(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function ui(e,...t){const r=nt.bind(null,t.find(s=>typeof s=="object"));return t.map(r)}function ga(e,t){const r=De(e,t==null?void 0:t.in);return r.setHours(0,0,0,0),r}function Ug(e,t,r){const[s,a]=ui(r==null?void 0:r.in,e,t),l=ga(s),d=ga(a),u=+l-Em(l),f=+d-Em(d);return Math.round((u-f)/bk)}function _k(e,t){const r=Hg(e,t),s=nt(e,0);return s.setFullYear(r,0,4),s.setHours(0,0,0,0),pa(s)}function kk(e,t,r){return $g(e,t*7,r)}function jk(e,t,r){return Zg(e,t*12,r)}function Nk(e,t){let r,s=t==null?void 0:t.in;return e.forEach(a=>{!s&&typeof a=="object"&&(s=nt.bind(null,a));const l=De(a,s);(!r||r<l||isNaN(+l))&&(r=l)}),nt(s,r||NaN)}function Sk(e,t){let r,s=t==null?void 0:t.in;return e.forEach(a=>{!s&&typeof a=="object"&&(s=nt.bind(null,a));const l=De(a,s);(!r||r>l||isNaN(+l))&&(r=l)}),nt(s,r||NaN)}function Ck(e,t,r){const[s,a]=ui(r==null?void 0:r.in,e,t);return+ga(s)==+ga(a)}function Vg(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Pk(e){return!(!Vg(e)&&typeof e!="number"||isNaN(+De(e)))}function Mk(e,t,r){const[s,a]=ui(r==null?void 0:r.in,e,t),l=s.getFullYear()-a.getFullYear(),d=s.getMonth()-a.getMonth();return l*12+d}function Ek(e,t){const r=De(e,t==null?void 0:t.in),s=r.getMonth();return r.setFullYear(r.getFullYear(),s+1,0),r.setHours(23,59,59,999),r}function Yg(e,t){const[r,s]=ui(e,t.start,t.end);return{start:r,end:s}}function Tk(e,t){const{start:r,end:s}=Yg(t==null?void 0:t.in,e);let a=+r>+s;const l=a?+r:+s,d=a?s:r;d.setHours(0,0,0,0),d.setDate(1);let u=1;const f=[];for(;+d<=l;)f.push(nt(r,d)),d.setMonth(d.getMonth()+u);return a?f.reverse():f}function Lk(e,t){const r=De(e,t==null?void 0:t.in);return r.setDate(1),r.setHours(0,0,0,0),r}function Ok(e,t){const r=De(e,t==null?void 0:t.in),s=r.getFullYear();return r.setFullYear(s+1,0,0),r.setHours(23,59,59,999),r}function qg(e,t){const r=De(e,t==null?void 0:t.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function Dk(e,t){const{start:r,end:s}=Yg(t==null?void 0:t.in,e);let a=+r>+s;const l=a?+r:+s,d=a?s:r;d.setHours(0,0,0,0),d.setMonth(0,1);let u=1;const f=[];for(;+d<=l;)f.push(nt(r,d)),d.setFullYear(d.getFullYear()+u);return a?f.reverse():f}function Gg(e,t){var u,f,m,v;const r=Ca(),s=(t==null?void 0:t.weekStartsOn)??((f=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??r.weekStartsOn??((v=(m=r.locale)==null?void 0:m.options)==null?void 0:v.weekStartsOn)??0,a=De(e,t==null?void 0:t.in),l=a.getDay(),d=(l<s?-7:0)+6-(l-s);return a.setDate(a.getDate()+d),a.setHours(23,59,59,999),a}function zk(e,t){return Gg(e,{...t,weekStartsOn:1})}const Ik={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Rk=(e,t,r)=>{let s;const a=Ik[e];return typeof a=="string"?s=a:t===1?s=a.one:s=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function Gs(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Ak={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Bk={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Fk={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Wk={date:Gs({formats:Ak,defaultWidth:"full"}),time:Gs({formats:Bk,defaultWidth:"full"}),dateTime:Gs({formats:Fk,defaultWidth:"full"})},$k={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Zk=(e,t,r,s)=>$k[e];function Mr(e){return(t,r)=>{const s=r!=null&&r.context?String(r.context):"standalone";let a;if(s==="formatting"&&e.formattingValues){const d=e.defaultFormattingWidth||e.defaultWidth,u=r!=null&&r.width?String(r.width):d;a=e.formattingValues[u]||e.formattingValues[d]}else{const d=e.defaultWidth,u=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[u]||e.values[d]}const l=e.argumentCallback?e.argumentCallback(t):t;return a[l]}}const Hk={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Uk={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Vk={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Yk={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},qk={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Gk={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Jk=(e,t)=>{const r=Number(e),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Kk={ordinalNumber:Jk,era:Mr({values:Hk,defaultWidth:"wide"}),quarter:Mr({values:Uk,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Mr({values:Vk,defaultWidth:"wide"}),day:Mr({values:Yk,defaultWidth:"wide"}),dayPeriod:Mr({values:qk,defaultWidth:"wide",formattingValues:Gk,defaultFormattingWidth:"wide"})};function Er(e){return(t,r={})=>{const s=r.width,a=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],l=t.match(a);if(!l)return null;const d=l[0],u=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],f=Array.isArray(u)?Xk(u,g=>g.test(d)):Qk(u,g=>g.test(d));let m;m=e.valueCallback?e.valueCallback(f):f,m=r.valueCallback?r.valueCallback(m):m;const v=t.slice(d.length);return{value:m,rest:v}}}function Qk(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Xk(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Jg(e){return(t,r={})=>{const s=t.match(e.matchPattern);if(!s)return null;const a=s[0],l=t.match(e.parsePattern);if(!l)return null;let d=e.valueCallback?e.valueCallback(l[0]):l[0];d=r.valueCallback?r.valueCallback(d):d;const u=t.slice(a.length);return{value:d,rest:u}}}const e1=/^(\d+)(th|st|nd|rd)?/i,t1=/\d+/i,r1={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},n1={any:[/^b/i,/^(a|c)/i]},s1={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},i1={any:[/1/i,/2/i,/3/i,/4/i]},a1={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},o1={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},l1={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},c1={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},d1={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},u1={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},h1={ordinalNumber:Jg({matchPattern:e1,parsePattern:t1,valueCallback:e=>parseInt(e,10)}),era:Er({matchPatterns:r1,defaultMatchWidth:"wide",parsePatterns:n1,defaultParseWidth:"any"}),quarter:Er({matchPatterns:s1,defaultMatchWidth:"wide",parsePatterns:i1,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Er({matchPatterns:a1,defaultMatchWidth:"wide",parsePatterns:o1,defaultParseWidth:"any"}),day:Er({matchPatterns:l1,defaultMatchWidth:"wide",parsePatterns:c1,defaultParseWidth:"any"}),dayPeriod:Er({matchPatterns:d1,defaultMatchWidth:"any",parsePatterns:u1,defaultParseWidth:"any"})},sh={code:"en-US",formatDistance:Rk,formatLong:Wk,formatRelative:Zk,localize:Kk,match:h1,options:{weekStartsOn:0,firstWeekContainsDate:1}};function f1(e,t){const r=De(e,t==null?void 0:t.in);return Ug(r,qg(r))+1}function Kg(e,t){const r=De(e,t==null?void 0:t.in),s=+pa(r)-+_k(r);return Math.round(s/Wg)+1}function Qg(e,t){var v,g,y,j;const r=De(e,t==null?void 0:t.in),s=r.getFullYear(),a=Ca(),l=(t==null?void 0:t.firstWeekContainsDate)??((g=(v=t==null?void 0:t.locale)==null?void 0:v.options)==null?void 0:g.firstWeekContainsDate)??a.firstWeekContainsDate??((j=(y=a.locale)==null?void 0:y.options)==null?void 0:j.firstWeekContainsDate)??1,d=nt((t==null?void 0:t.in)||e,0);d.setFullYear(s+1,0,l),d.setHours(0,0,0,0);const u=si(d,t),f=nt((t==null?void 0:t.in)||e,0);f.setFullYear(s,0,l),f.setHours(0,0,0,0);const m=si(f,t);return+r>=+u?s+1:+r>=+m?s:s-1}function m1(e,t){var u,f,m,v;const r=Ca(),s=(t==null?void 0:t.firstWeekContainsDate)??((f=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((v=(m=r.locale)==null?void 0:m.options)==null?void 0:v.firstWeekContainsDate)??1,a=Qg(e,t),l=nt((t==null?void 0:t.in)||e,0);return l.setFullYear(a,0,s),l.setHours(0,0,0,0),si(l,t)}function Xg(e,t){const r=De(e,t==null?void 0:t.in),s=+si(r,t)-+m1(r,t);return Math.round(s/Wg)+1}function Ee(e,t){const r=e<0?"-":"",s=Math.abs(e).toString().padStart(t,"0");return r+s}const cn={y(e,t){const r=e.getFullYear(),s=r>0?r:1-r;return Ee(t==="yy"?s%100:s,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Ee(r+1,2)},d(e,t){return Ee(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Ee(e.getHours()%12||12,t.length)},H(e,t){return Ee(e.getHours(),t.length)},m(e,t){return Ee(e.getMinutes(),t.length)},s(e,t){return Ee(e.getSeconds(),t.length)},S(e,t){const r=t.length,s=e.getMilliseconds(),a=Math.trunc(s*Math.pow(10,r-3));return Ee(a,t.length)}},Ps={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Tm={G:function(e,t,r){const s=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const s=e.getFullYear(),a=s>0?s:1-s;return r.ordinalNumber(a,{unit:"year"})}return cn.y(e,t)},Y:function(e,t,r,s){const a=Qg(e,s),l=a>0?a:1-a;if(t==="YY"){const d=l%100;return Ee(d,2)}return t==="Yo"?r.ordinalNumber(l,{unit:"year"}):Ee(l,t.length)},R:function(e,t){const r=Hg(e);return Ee(r,t.length)},u:function(e,t){const r=e.getFullYear();return Ee(r,t.length)},Q:function(e,t,r){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return Ee(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,t,r){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return Ee(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,t,r){const s=e.getMonth();switch(t){case"M":case"MM":return cn.M(e,t);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(e,t,r){const s=e.getMonth();switch(t){case"L":return String(s+1);case"LL":return Ee(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(e,t,r,s){const a=Xg(e,s);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Ee(a,t.length)},I:function(e,t,r){const s=Kg(e);return t==="Io"?r.ordinalNumber(s,{unit:"week"}):Ee(s,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):cn.d(e,t)},D:function(e,t,r){const s=f1(e);return t==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):Ee(s,t.length)},E:function(e,t,r){const s=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(e,t,r,s){const a=e.getDay(),l=(a-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(l);case"ee":return Ee(l,2);case"eo":return r.ordinalNumber(l,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,s){const a=e.getDay(),l=(a-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(l);case"cc":return Ee(l,t.length);case"co":return r.ordinalNumber(l,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const s=e.getDay(),a=s===0?7:s;switch(t){case"i":return String(a);case"ii":return Ee(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const s=e.getHours();let a;switch(s===12?a=Ps.noon:s===0?a=Ps.midnight:a=s/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const s=e.getHours();let a;switch(s>=17?a=Ps.evening:s>=12?a=Ps.afternoon:s>=4?a=Ps.morning:a=Ps.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let s=e.getHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return cn.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):cn.H(e,t)},K:function(e,t,r){const s=e.getHours()%12;return t==="Ko"?r.ordinalNumber(s,{unit:"hour"}):Ee(s,t.length)},k:function(e,t,r){let s=e.getHours();return s===0&&(s=24),t==="ko"?r.ordinalNumber(s,{unit:"hour"}):Ee(s,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):cn.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):cn.s(e,t)},S:function(e,t){return cn.S(e,t)},X:function(e,t,r){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(t){case"X":return Om(s);case"XXXX":case"XX":return Vn(s);case"XXXXX":case"XXX":default:return Vn(s,":")}},x:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"x":return Om(s);case"xxxx":case"xx":return Vn(s);case"xxxxx":case"xxx":default:return Vn(s,":")}},O:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Lm(s,":");case"OOOO":default:return"GMT"+Vn(s,":")}},z:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Lm(s,":");case"zzzz":default:return"GMT"+Vn(s,":")}},t:function(e,t,r){const s=Math.trunc(+e/1e3);return Ee(s,t.length)},T:function(e,t,r){return Ee(+e,t.length)}};function Lm(e,t=""){const r=e>0?"-":"+",s=Math.abs(e),a=Math.trunc(s/60),l=s%60;return l===0?r+String(a):r+String(a)+t+Ee(l,2)}function Om(e,t){return e%60===0?(e>0?"-":"+")+Ee(Math.abs(e)/60,2):Vn(e,t)}function Vn(e,t=""){const r=e>0?"-":"+",s=Math.abs(e),a=Ee(Math.trunc(s/60),2),l=Ee(s%60,2);return r+a+t+l}const Dm=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},ex=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},p1=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],s=r[1],a=r[2];if(!a)return Dm(e,t);let l;switch(s){case"P":l=t.dateTime({width:"short"});break;case"PP":l=t.dateTime({width:"medium"});break;case"PPP":l=t.dateTime({width:"long"});break;case"PPPP":default:l=t.dateTime({width:"full"});break}return l.replace("{{date}}",Dm(s,t)).replace("{{time}}",ex(a,t))},g1={p:ex,P:p1},x1=/^D+$/,v1=/^Y+$/,y1=["D","DD","YY","YYYY"];function b1(e){return x1.test(e)}function w1(e){return v1.test(e)}function _1(e,t,r){const s=k1(e,t,r);if(console.warn(s),y1.includes(e))throw new RangeError(s)}function k1(e,t,r){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${s} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const j1=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,N1=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,S1=/^'([^]*?)'?$/,C1=/''/g,P1=/[a-zA-Z]/;function M1(e,t,r){var v,g,y,j,S,N,C,b;const s=Ca(),a=(r==null?void 0:r.locale)??s.locale??sh,l=(r==null?void 0:r.firstWeekContainsDate)??((g=(v=r==null?void 0:r.locale)==null?void 0:v.options)==null?void 0:g.firstWeekContainsDate)??s.firstWeekContainsDate??((j=(y=s.locale)==null?void 0:y.options)==null?void 0:j.firstWeekContainsDate)??1,d=(r==null?void 0:r.weekStartsOn)??((N=(S=r==null?void 0:r.locale)==null?void 0:S.options)==null?void 0:N.weekStartsOn)??s.weekStartsOn??((b=(C=s.locale)==null?void 0:C.options)==null?void 0:b.weekStartsOn)??0,u=De(e,r==null?void 0:r.in);if(!Pk(u))throw new RangeError("Invalid time value");let f=t.match(N1).map(k=>{const x=k[0];if(x==="p"||x==="P"){const E=g1[x];return E(k,a.formatLong)}return k}).join("").match(j1).map(k=>{if(k==="''")return{isToken:!1,value:"'"};const x=k[0];if(x==="'")return{isToken:!1,value:E1(k)};if(Tm[x])return{isToken:!0,value:k};if(x.match(P1))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:k}});a.localize.preprocessor&&(f=a.localize.preprocessor(u,f));const m={firstWeekContainsDate:l,weekStartsOn:d,locale:a};return f.map(k=>{if(!k.isToken)return k.value;const x=k.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&w1(x)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&b1(x))&&_1(x,t,String(e));const E=Tm[x[0]];return E(u,x,a.localize,m)}).join("")}function E1(e){const t=e.match(S1);return t?t[1].replace(C1,"'"):e}function T1(e,t){const r=De(e,t==null?void 0:t.in),s=r.getFullYear(),a=r.getMonth(),l=nt(r,0);return l.setFullYear(s,a+1,0),l.setHours(0,0,0,0),l.getDate()}function L1(e,t){return De(e,t==null?void 0:t.in).getMonth()}function O1(e,t){return De(e,t==null?void 0:t.in).getFullYear()}function D1(e,t){return+De(e)>+De(t)}function z1(e,t){return+De(e)<+De(t)}function I1(e,t,r){const[s,a]=ui(r==null?void 0:r.in,e,t);return s.getFullYear()===a.getFullYear()&&s.getMonth()===a.getMonth()}function R1(e,t,r){const[s,a]=ui(r==null?void 0:r.in,e,t);return s.getFullYear()===a.getFullYear()}function A1(e,t,r){const s=De(e,r==null?void 0:r.in),a=s.getFullYear(),l=s.getDate(),d=nt(e,0);d.setFullYear(a,t,15),d.setHours(0,0,0,0);const u=T1(d);return s.setMonth(t,Math.min(l,u)),s}function B1(e,t,r){const s=De(e,r==null?void 0:r.in);return isNaN(+s)?nt(e,NaN):(s.setFullYear(t),s)}const zm=5,F1=4;function W1(e,t){const r=t.startOfMonth(e),s=r.getDay()>0?r.getDay():7,a=t.addDays(e,-s+1),l=t.addDays(a,zm*7-1);return t.getMonth(e)===t.getMonth(l)?zm:F1}function tx(e,t){const r=t.startOfMonth(e),s=r.getDay();return s===1?r:s===0?t.addDays(r,-1*6):t.addDays(r,-1*(s-1))}function $1(e,t){const r=tx(e,t),s=W1(e,t);return t.addDays(r,s*7-1)}class Wt{constructor(t,r){this.Date=Date,this.today=()=>{var s;return(s=this.overrides)!=null&&s.today?this.overrides.today():this.options.timeZone?Yr.tz(this.options.timeZone):new this.Date},this.newDate=(s,a,l)=>{var d;return(d=this.overrides)!=null&&d.newDate?this.overrides.newDate(s,a,l):this.options.timeZone?new Yr(s,a,l,this.options.timeZone):new Date(s,a,l)},this.addDays=(s,a)=>{var l;return(l=this.overrides)!=null&&l.addDays?this.overrides.addDays(s,a):$g(s,a)},this.addMonths=(s,a)=>{var l;return(l=this.overrides)!=null&&l.addMonths?this.overrides.addMonths(s,a):Zg(s,a)},this.addWeeks=(s,a)=>{var l;return(l=this.overrides)!=null&&l.addWeeks?this.overrides.addWeeks(s,a):kk(s,a)},this.addYears=(s,a)=>{var l;return(l=this.overrides)!=null&&l.addYears?this.overrides.addYears(s,a):jk(s,a)},this.differenceInCalendarDays=(s,a)=>{var l;return(l=this.overrides)!=null&&l.differenceInCalendarDays?this.overrides.differenceInCalendarDays(s,a):Ug(s,a)},this.differenceInCalendarMonths=(s,a)=>{var l;return(l=this.overrides)!=null&&l.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(s,a):Mk(s,a)},this.eachMonthOfInterval=s=>{var a;return(a=this.overrides)!=null&&a.eachMonthOfInterval?this.overrides.eachMonthOfInterval(s):Tk(s)},this.eachYearOfInterval=s=>{var u;const a=(u=this.overrides)!=null&&u.eachYearOfInterval?this.overrides.eachYearOfInterval(s):Dk(s),l=new Set(a.map(f=>this.getYear(f)));if(l.size===a.length)return a;const d=[];return l.forEach(f=>{d.push(new Date(f,0,1))}),d},this.endOfBroadcastWeek=s=>{var a;return(a=this.overrides)!=null&&a.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(s):$1(s,this)},this.endOfISOWeek=s=>{var a;return(a=this.overrides)!=null&&a.endOfISOWeek?this.overrides.endOfISOWeek(s):zk(s)},this.endOfMonth=s=>{var a;return(a=this.overrides)!=null&&a.endOfMonth?this.overrides.endOfMonth(s):Ek(s)},this.endOfWeek=(s,a)=>{var l;return(l=this.overrides)!=null&&l.endOfWeek?this.overrides.endOfWeek(s,a):Gg(s,this.options)},this.endOfYear=s=>{var a;return(a=this.overrides)!=null&&a.endOfYear?this.overrides.endOfYear(s):Ok(s)},this.format=(s,a,l)=>{var u;const d=(u=this.overrides)!=null&&u.format?this.overrides.format(s,a,this.options):M1(s,a,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(d):d},this.getISOWeek=s=>{var a;return(a=this.overrides)!=null&&a.getISOWeek?this.overrides.getISOWeek(s):Kg(s)},this.getMonth=(s,a)=>{var l;return(l=this.overrides)!=null&&l.getMonth?this.overrides.getMonth(s,this.options):L1(s,this.options)},this.getYear=(s,a)=>{var l;return(l=this.overrides)!=null&&l.getYear?this.overrides.getYear(s,this.options):O1(s,this.options)},this.getWeek=(s,a)=>{var l;return(l=this.overrides)!=null&&l.getWeek?this.overrides.getWeek(s,this.options):Xg(s,this.options)},this.isAfter=(s,a)=>{var l;return(l=this.overrides)!=null&&l.isAfter?this.overrides.isAfter(s,a):D1(s,a)},this.isBefore=(s,a)=>{var l;return(l=this.overrides)!=null&&l.isBefore?this.overrides.isBefore(s,a):z1(s,a)},this.isDate=s=>{var a;return(a=this.overrides)!=null&&a.isDate?this.overrides.isDate(s):Vg(s)},this.isSameDay=(s,a)=>{var l;return(l=this.overrides)!=null&&l.isSameDay?this.overrides.isSameDay(s,a):Ck(s,a)},this.isSameMonth=(s,a)=>{var l;return(l=this.overrides)!=null&&l.isSameMonth?this.overrides.isSameMonth(s,a):I1(s,a)},this.isSameYear=(s,a)=>{var l;return(l=this.overrides)!=null&&l.isSameYear?this.overrides.isSameYear(s,a):R1(s,a)},this.max=s=>{var a;return(a=this.overrides)!=null&&a.max?this.overrides.max(s):Nk(s)},this.min=s=>{var a;return(a=this.overrides)!=null&&a.min?this.overrides.min(s):Sk(s)},this.setMonth=(s,a)=>{var l;return(l=this.overrides)!=null&&l.setMonth?this.overrides.setMonth(s,a):A1(s,a)},this.setYear=(s,a)=>{var l;return(l=this.overrides)!=null&&l.setYear?this.overrides.setYear(s,a):B1(s,a)},this.startOfBroadcastWeek=(s,a)=>{var l;return(l=this.overrides)!=null&&l.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(s,this):tx(s,this)},this.startOfDay=s=>{var a;return(a=this.overrides)!=null&&a.startOfDay?this.overrides.startOfDay(s):ga(s)},this.startOfISOWeek=s=>{var a;return(a=this.overrides)!=null&&a.startOfISOWeek?this.overrides.startOfISOWeek(s):pa(s)},this.startOfMonth=s=>{var a;return(a=this.overrides)!=null&&a.startOfMonth?this.overrides.startOfMonth(s):Lk(s)},this.startOfWeek=(s,a)=>{var l;return(l=this.overrides)!=null&&l.startOfWeek?this.overrides.startOfWeek(s,this.options):si(s,this.options)},this.startOfYear=s=>{var a;return(a=this.overrides)!=null&&a.startOfYear?this.overrides.startOfYear(s):qg(s)},this.options={locale:sh,...t},this.overrides=r}getDigitMap(){const{numerals:t="latn"}=this.options,r=new Intl.NumberFormat("en-US",{numberingSystem:t}),s={};for(let a=0;a<10;a++)s[a.toString()]=r.format(a);return s}replaceDigits(t){const r=this.getDigitMap();return t.replace(/\d/g,s=>r[s]||s)}formatNumber(t){return this.replaceDigits(t.toString())}getMonthYearOrder(){var r;const t=(r=this.options.locale)==null?void 0:r.code;return t&&Wt.yearFirstLocales.has(t)?"year-first":"month-first"}formatMonthYear(t){const{locale:r,timeZone:s,numerals:a}=this.options,l=r==null?void 0:r.code;if(l&&Wt.yearFirstLocales.has(l))try{return new Intl.DateTimeFormat(l,{month:"long",year:"numeric",timeZone:s,numberingSystem:a}).format(t)}catch{}const d=this.getMonthYearOrder()==="year-first"?"y LLLL":"LLLL y";return this.format(t,d)}}Wt.yearFirstLocales=new Set(["eu","hu","ja","ja-Hira","ja-JP","ko","ko-KR","lt","lt-LT","lv","lv-LV","mn","mn-MN","zh","zh-CN","zh-HK","zh-TW"]);const Ir=new Wt;class rx{constructor(t,r,s=Ir){this.date=t,this.displayMonth=r,this.outside=!!(r&&!s.isSameMonth(t,r)),this.dateLib=s,this.isoDate=s.format(t,"yyyy-MM-dd"),this.displayMonthId=s.format(r,"yyyy-MM"),this.dateMonthId=s.format(t,"yyyy-MM")}isEqualTo(t){return this.dateLib.isSameDay(t.date,this.date)&&this.dateLib.isSameMonth(t.displayMonth,this.displayMonth)}}class Z1{constructor(t,r){this.date=t,this.weeks=r}}class H1{constructor(t,r){this.days=r,this.weekNumber=t}}function U1(e){return ee.createElement("button",{...e})}function V1(e){return ee.createElement("span",{...e})}function Y1(e){const{size:t=24,orientation:r="left",className:s}=e;return ee.createElement("svg",{className:s,width:t,height:t,viewBox:"0 0 24 24"},r==="up"&&ee.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),r==="down"&&ee.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),r==="left"&&ee.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),r==="right"&&ee.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function q1(e){const{day:t,modifiers:r,...s}=e;return ee.createElement("td",{...s})}function G1(e){const{day:t,modifiers:r,...s}=e,a=ee.useRef(null);return ee.useEffect(()=>{var l;r.focused&&((l=a.current)==null||l.focus())},[r.focused]),ee.createElement("button",{ref:a,...s})}var ce;(function(e){e.Root="root",e.Chevron="chevron",e.Day="day",e.DayButton="day_button",e.CaptionLabel="caption_label",e.Dropdowns="dropdowns",e.Dropdown="dropdown",e.DropdownRoot="dropdown_root",e.Footer="footer",e.MonthGrid="month_grid",e.MonthCaption="month_caption",e.MonthsDropdown="months_dropdown",e.Month="month",e.Months="months",e.Nav="nav",e.NextMonthButton="button_next",e.PreviousMonthButton="button_previous",e.Week="week",e.Weeks="weeks",e.Weekday="weekday",e.Weekdays="weekdays",e.WeekNumber="week_number",e.WeekNumberHeader="week_number_header",e.YearsDropdown="years_dropdown"})(ce||(ce={}));var Ze;(function(e){e.disabled="disabled",e.hidden="hidden",e.outside="outside",e.focused="focused",e.today="today"})(Ze||(Ze={}));var fr;(function(e){e.range_end="range_end",e.range_middle="range_middle",e.range_start="range_start",e.selected="selected"})(fr||(fr={}));var It;(function(e){e.weeks_before_enter="weeks_before_enter",e.weeks_before_exit="weeks_before_exit",e.weeks_after_enter="weeks_after_enter",e.weeks_after_exit="weeks_after_exit",e.caption_after_enter="caption_after_enter",e.caption_after_exit="caption_after_exit",e.caption_before_enter="caption_before_enter",e.caption_before_exit="caption_before_exit"})(It||(It={}));function J1(e){const{options:t,className:r,components:s,classNames:a,...l}=e,d=[a[ce.Dropdown],r].join(" "),u=t==null?void 0:t.find(({value:f})=>f===l.value);return ee.createElement("span",{"data-disabled":l.disabled,className:a[ce.DropdownRoot]},ee.createElement(s.Select,{className:d,...l},t==null?void 0:t.map(({value:f,label:m,disabled:v})=>ee.createElement(s.Option,{key:f,value:f,disabled:v},m))),ee.createElement("span",{className:a[ce.CaptionLabel],"aria-hidden":!0},u==null?void 0:u.label,ee.createElement(s.Chevron,{orientation:"down",size:18,className:a[ce.Chevron]})))}function K1(e){return ee.createElement("div",{...e})}function Q1(e){return ee.createElement("div",{...e})}function X1(e){const{calendarMonth:t,displayIndex:r,...s}=e;return ee.createElement("div",{...s},e.children)}function ej(e){const{calendarMonth:t,displayIndex:r,...s}=e;return ee.createElement("div",{...s})}function tj(e){return ee.createElement("table",{...e})}function rj(e){return ee.createElement("div",{...e})}const nx=w.createContext(void 0);function Pa(){const e=w.useContext(nx);if(e===void 0)throw new Error("useDayPicker() must be used within a custom component.");return e}function nj(e){const{components:t}=Pa();return ee.createElement(t.Dropdown,{...e})}function sj(e){const{onPreviousClick:t,onNextClick:r,previousMonth:s,nextMonth:a,...l}=e,{components:d,classNames:u,labels:{labelPrevious:f,labelNext:m}}=Pa(),v=w.useCallback(y=>{a&&(r==null||r(y))},[a,r]),g=w.useCallback(y=>{s&&(t==null||t(y))},[s,t]);return ee.createElement("nav",{...l},ee.createElement(d.PreviousMonthButton,{type:"button",className:u[ce.PreviousMonthButton],tabIndex:s?void 0:-1,"aria-disabled":s?void 0:!0,"aria-label":f(s),onClick:g},ee.createElement(d.Chevron,{disabled:s?void 0:!0,className:u[ce.Chevron],orientation:"left"})),ee.createElement(d.NextMonthButton,{type:"button",className:u[ce.NextMonthButton],tabIndex:a?void 0:-1,"aria-disabled":a?void 0:!0,"aria-label":m(a),onClick:v},ee.createElement(d.Chevron,{disabled:a?void 0:!0,orientation:"right",className:u[ce.Chevron]})))}function ij(e){const{components:t}=Pa();return ee.createElement(t.Button,{...e})}function aj(e){return ee.createElement("option",{...e})}function oj(e){const{components:t}=Pa();return ee.createElement(t.Button,{...e})}function lj(e){const{rootRef:t,...r}=e;return ee.createElement("div",{...r,ref:t})}function cj(e){return ee.createElement("select",{...e})}function dj(e){const{week:t,...r}=e;return ee.createElement("tr",{...r})}function uj(e){return ee.createElement("th",{...e})}function hj(e){return ee.createElement("thead",{"aria-hidden":!0},ee.createElement("tr",{...e}))}function fj(e){const{week:t,...r}=e;return ee.createElement("th",{...r})}function mj(e){return ee.createElement("th",{...e})}function pj(e){return ee.createElement("tbody",{...e})}function gj(e){const{components:t}=Pa();return ee.createElement(t.Dropdown,{...e})}const xj=Object.freeze(Object.defineProperty({__proto__:null,Button:U1,CaptionLabel:V1,Chevron:Y1,Day:q1,DayButton:G1,Dropdown:J1,DropdownNav:K1,Footer:Q1,Month:X1,MonthCaption:ej,MonthGrid:tj,Months:rj,MonthsDropdown:nj,Nav:sj,NextMonthButton:ij,Option:aj,PreviousMonthButton:oj,Root:lj,Select:cj,Week:dj,WeekNumber:fj,WeekNumberHeader:mj,Weekday:uj,Weekdays:hj,Weeks:pj,YearsDropdown:gj},Symbol.toStringTag,{value:"Module"}));function qr(e,t,r=!1,s=Ir){let{from:a,to:l}=e;const{differenceInCalendarDays:d,isSameDay:u}=s;return a&&l?(d(l,a)<0&&([a,l]=[l,a]),d(t,a)>=(r?1:0)&&d(l,t)>=(r?1:0)):!r&&l?u(l,t):!r&&a?u(a,t):!1}function ih(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function Dl(e){return!!(e&&typeof e=="object"&&"from"in e)}function ah(e){return!!(e&&typeof e=="object"&&"after"in e)}function oh(e){return!!(e&&typeof e=="object"&&"before"in e)}function sx(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function ix(e,t){return Array.isArray(e)&&e.every(t.isDate)}function Gr(e,t,r=Ir){const s=Array.isArray(t)?t:[t],{isSameDay:a,differenceInCalendarDays:l,isAfter:d}=r;return s.some(u=>{if(typeof u=="boolean")return u;if(r.isDate(u))return a(e,u);if(ix(u,r))return u.includes(e);if(Dl(u))return qr(u,e,!1,r);if(sx(u))return Array.isArray(u.dayOfWeek)?u.dayOfWeek.includes(e.getDay()):u.dayOfWeek===e.getDay();if(ih(u)){const f=l(u.before,e),m=l(u.after,e),v=f>0,g=m<0;return d(u.before,u.after)?g&&v:v||g}return ah(u)?l(e,u.after)>0:oh(u)?l(u.before,e)>0:typeof u=="function"?u(e):!1})}function vj(e,t,r,s,a){const{disabled:l,hidden:d,modifiers:u,showOutsideDays:f,broadcastCalendar:m,today:v=a.today()}=t,{isSameDay:g,isSameMonth:y,startOfMonth:j,isBefore:S,endOfMonth:N,isAfter:C}=a,b=r&&j(r),k=s&&N(s),x={[Ze.focused]:[],[Ze.outside]:[],[Ze.disabled]:[],[Ze.hidden]:[],[Ze.today]:[]},E={};for(const O of e){const{date:M,displayMonth:F}=O,A=!!(F&&!y(M,F)),Y=!!(b&&S(M,b)),J=!!(k&&C(M,k)),q=!!(l&&Gr(M,l,a)),ie=!!(d&&Gr(M,d,a))||Y||J||!m&&!f&&A||m&&f===!1&&A,ke=g(M,v);A&&x.outside.push(O),q&&x.disabled.push(O),ie&&x.hidden.push(O),ke&&x.today.push(O),u&&Object.keys(u).forEach(pe=>{const Z=u==null?void 0:u[pe];Z&&Gr(M,Z,a)&&(E[pe]?E[pe].push(O):E[pe]=[O])})}return O=>{const M={[Ze.focused]:!1,[Ze.disabled]:!1,[Ze.hidden]:!1,[Ze.outside]:!1,[Ze.today]:!1},F={};for(const A in x){const Y=x[A];M[A]=Y.some(J=>J===O)}for(const A in E)F[A]=E[A].some(Y=>Y===O);return{...M,...F}}}function yj(e,t,r={}){return Object.entries(e).filter(([,a])=>a===!0).reduce((a,[l])=>(r[l]?a.push(r[l]):t[Ze[l]]?a.push(t[Ze[l]]):t[fr[l]]&&a.push(t[fr[l]]),a),[t[ce.Day]])}function bj(e){return{...xj,...e}}function wj(e){const t={"data-mode":e.mode??void 0,"data-required":"required"in e?e.required:void 0,"data-multiple-months":e.numberOfMonths&&e.numberOfMonths>1||void 0,"data-week-numbers":e.showWeekNumber||void 0,"data-broadcast-calendar":e.broadcastCalendar||void 0,"data-nav-layout":e.navLayout||void 0};return Object.entries(e).forEach(([r,s])=>{r.startsWith("data-")&&(t[r]=s)}),t}function _j(){const e={};for(const t in ce)e[ce[t]]=`rdp-${ce[t]}`;for(const t in Ze)e[Ze[t]]=`rdp-${Ze[t]}`;for(const t in fr)e[fr[t]]=`rdp-${fr[t]}`;for(const t in It)e[It[t]]=`rdp-${It[t]}`;return e}function ax(e,t,r){return(r??new Wt(t)).formatMonthYear(e)}const kj=ax;function jj(e,t,r){return(r??new Wt(t)).format(e,"d")}function Nj(e,t=Ir){return t.format(e,"LLLL")}function Sj(e,t,r){return(r??new Wt(t)).format(e,"cccccc")}function Cj(e,t=Ir){return e<10?t.formatNumber(`0${e.toLocaleString()}`):t.formatNumber(`${e.toLocaleString()}`)}function Pj(){return""}function ox(e,t=Ir){return t.format(e,"yyyy")}const Mj=ox,Ej=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:ax,formatDay:jj,formatMonthCaption:kj,formatMonthDropdown:Nj,formatWeekNumber:Cj,formatWeekNumberHeader:Pj,formatWeekdayName:Sj,formatYearCaption:Mj,formatYearDropdown:ox},Symbol.toStringTag,{value:"Module"}));function Tj(e){return e!=null&&e.formatMonthCaption&&!e.formatCaption&&(e.formatCaption=e.formatMonthCaption),e!=null&&e.formatYearCaption&&!e.formatYearDropdown&&(e.formatYearDropdown=e.formatYearCaption),{...Ej,...e}}function Lj(e,t,r,s,a){const{startOfMonth:l,startOfYear:d,endOfYear:u,eachMonthOfInterval:f,getMonth:m}=a;return f({start:d(e),end:u(e)}).map(y=>{const j=s.formatMonthDropdown(y,a),S=m(y),N=t&&y<l(t)||r&&y>l(r)||!1;return{value:S,label:j,disabled:N}})}function Oj(e,t={},r={}){let s={...t==null?void 0:t[ce.Day]};return Object.entries(e).filter(([,a])=>a===!0).forEach(([a])=>{s={...s,...r==null?void 0:r[a]}}),s}function Dj(e,t,r,s){const a=s??e.today(),l=r?e.startOfBroadcastWeek(a,e):t?e.startOfISOWeek(a):e.startOfWeek(a),d=[];for(let u=0;u<7;u++){const f=e.addDays(l,u);d.push(f)}return d}function zj(e,t,r,s,a=!1){if(!e||!t)return;const{startOfYear:l,endOfYear:d,eachYearOfInterval:u,getYear:f}=s,m=l(e),v=d(t),g=u({start:m,end:v});return a&&g.reverse(),g.map(y=>{const j=r.formatYearDropdown(y,s);return{value:f(y),label:j,disabled:!1}})}function lx(e,t,r,s){let a=(s??new Wt(r)).format(e,"PPPP");return t.today&&(a=`Today, ${a}`),t.selected&&(a=`${a}, selected`),a}const Ij=lx;function cx(e,t,r){return(r??new Wt(t)).formatMonthYear(e)}const Rj=cx;function Aj(e,t,r,s){let a=(s??new Wt(r)).format(e,"PPPP");return t!=null&&t.today&&(a=`Today, ${a}`),a}function Bj(e){return"Choose the Month"}function Fj(){return""}function Wj(e){return"Go to the Next Month"}function $j(e){return"Go to the Previous Month"}function Zj(e,t,r){return(r??new Wt(t)).format(e,"cccc")}function Hj(e,t){return`Week ${e}`}function Uj(e){return"Week Number"}function Vj(e){return"Choose the Year"}const Yj=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:Rj,labelDay:Ij,labelDayButton:lx,labelGrid:cx,labelGridcell:Aj,labelMonthDropdown:Bj,labelNav:Fj,labelNext:Wj,labelPrevious:$j,labelWeekNumber:Hj,labelWeekNumberHeader:Uj,labelWeekday:Zj,labelYearDropdown:Vj},Symbol.toStringTag,{value:"Module"})),Ma=e=>e instanceof HTMLElement?e:null,Yc=e=>[...e.querySelectorAll("[data-animated-month]")??[]],qj=e=>Ma(e.querySelector("[data-animated-month]")),qc=e=>Ma(e.querySelector("[data-animated-caption]")),Gc=e=>Ma(e.querySelector("[data-animated-weeks]")),Gj=e=>Ma(e.querySelector("[data-animated-nav]")),Jj=e=>Ma(e.querySelector("[data-animated-weekdays]"));function Kj(e,t,{classNames:r,months:s,focused:a,dateLib:l}){const d=w.useRef(null),u=w.useRef(s),f=w.useRef(!1);w.useLayoutEffect(()=>{const m=u.current;if(u.current=s,!t||!e.current||!(e.current instanceof HTMLElement)||s.length===0||m.length===0||s.length!==m.length)return;const v=l.isSameMonth(s[0].date,m[0].date),g=l.isAfter(s[0].date,m[0].date),y=g?r[It.caption_after_enter]:r[It.caption_before_enter],j=g?r[It.weeks_after_enter]:r[It.weeks_before_enter],S=d.current,N=e.current.cloneNode(!0);if(N instanceof HTMLElement?(Yc(N).forEach(x=>{if(!(x instanceof HTMLElement))return;const E=qj(x);E&&x.contains(E)&&x.removeChild(E);const O=qc(x);O&&O.classList.remove(y);const M=Gc(x);M&&M.classList.remove(j)}),d.current=N):d.current=null,f.current||v||a)return;const C=S instanceof HTMLElement?Yc(S):[],b=Yc(e.current);if(b!=null&&b.every(k=>k instanceof HTMLElement)&&C&&C.every(k=>k instanceof HTMLElement)){f.current=!0,e.current.style.isolation="isolate";const k=Gj(e.current);k&&(k.style.zIndex="1"),b.forEach((x,E)=>{const O=C[E];if(!O)return;x.style.position="relative",x.style.overflow="hidden";const M=qc(x);M&&M.classList.add(y);const F=Gc(x);F&&F.classList.add(j);const A=()=>{f.current=!1,e.current&&(e.current.style.isolation=""),k&&(k.style.zIndex=""),M&&M.classList.remove(y),F&&F.classList.remove(j),x.style.position="",x.style.overflow="",x.contains(O)&&x.removeChild(O)};O.style.pointerEvents="none",O.style.position="absolute",O.style.overflow="hidden",O.setAttribute("aria-hidden","true");const Y=Jj(O);Y&&(Y.style.opacity="0");const J=qc(O);J&&(J.classList.add(g?r[It.caption_before_exit]:r[It.caption_after_exit]),J.addEventListener("animationend",A));const q=Gc(O);q&&q.classList.add(g?r[It.weeks_before_exit]:r[It.weeks_after_exit]),x.insertBefore(O,x.firstChild)})}})}function Qj(e,t,r,s){const a=e[0],l=e[e.length-1],{ISOWeek:d,fixedWeeks:u,broadcastCalendar:f}=r??{},{addDays:m,differenceInCalendarDays:v,differenceInCalendarMonths:g,endOfBroadcastWeek:y,endOfISOWeek:j,endOfMonth:S,endOfWeek:N,isAfter:C,startOfBroadcastWeek:b,startOfISOWeek:k,startOfWeek:x}=s,E=f?b(a,s):d?k(a):x(a),O=f?y(l):d?j(S(l)):N(S(l)),M=v(O,E),F=g(l,a)+1,A=[];for(let q=0;q<=M;q++){const ie=m(E,q);if(t&&C(ie,t))break;A.push(ie)}const J=(f?35:42)*F;if(u&&A.length<J){const q=J-A.length;for(let ie=0;ie<q;ie++){const ke=m(A[A.length-1],1);A.push(ke)}}return A}function Xj(e){const t=[];return e.reduce((r,s)=>{const a=s.weeks.reduce((l,d)=>l.concat(d.days.slice()),t.slice());return r.concat(a.slice())},t.slice())}function e2(e,t,r,s){const{numberOfMonths:a=1}=r,l=[];for(let d=0;d<a;d++){const u=s.addMonths(e,d);if(t&&u>t)break;l.push(u)}return l}function Im(e,t,r,s){const{month:a,defaultMonth:l,today:d=s.today(),numberOfMonths:u=1}=e;let f=a||l||d;const{differenceInCalendarMonths:m,addMonths:v,startOfMonth:g}=s;if(r&&m(r,f)<u-1){const y=-1*(u-1);f=v(r,y)}return t&&m(f,t)<0&&(f=t),g(f)}function t2(e,t,r,s){const{addDays:a,endOfBroadcastWeek:l,endOfISOWeek:d,endOfMonth:u,endOfWeek:f,getISOWeek:m,getWeek:v,startOfBroadcastWeek:g,startOfISOWeek:y,startOfWeek:j}=s,S=e.reduce((N,C)=>{const b=r.broadcastCalendar?g(C,s):r.ISOWeek?y(C):j(C),k=r.broadcastCalendar?l(C):r.ISOWeek?d(u(C)):f(u(C)),x=t.filter(F=>F>=b&&F<=k),E=r.broadcastCalendar?35:42;if(r.fixedWeeks&&x.length<E){const F=t.filter(A=>{const Y=E-x.length;return A>k&&A<=a(k,Y)});x.push(...F)}const O=x.reduce((F,A)=>{const Y=r.ISOWeek?m(A):v(A),J=F.find(ie=>ie.weekNumber===Y),q=new rx(A,C,s);return J?J.days.push(q):F.push(new H1(Y,[q])),F},[]),M=new Z1(C,O);return N.push(M),N},[]);return r.reverseMonths?S.reverse():S}function r2(e,t){let{startMonth:r,endMonth:s}=e;const{startOfYear:a,startOfDay:l,startOfMonth:d,endOfMonth:u,addYears:f,endOfYear:m,newDate:v,today:g}=t,{fromYear:y,toYear:j,fromMonth:S,toMonth:N}=e;!r&&S&&(r=S),!r&&y&&(r=t.newDate(y,0,1)),!s&&N&&(s=N),!s&&j&&(s=v(j,11,31));const C=e.captionLayout==="dropdown"||e.captionLayout==="dropdown-years";return r?r=d(r):y?r=v(y,0,1):!r&&C&&(r=a(f(e.today??g(),-100))),s?s=u(s):j?s=v(j,11,31):!s&&C&&(s=m(e.today??g())),[r&&l(r),s&&l(s)]}function n2(e,t,r,s){if(r.disableNavigation)return;const{pagedNavigation:a,numberOfMonths:l=1}=r,{startOfMonth:d,addMonths:u,differenceInCalendarMonths:f}=s,m=a?l:1,v=d(e);if(!t)return u(v,m);if(!(f(t,e)<l))return u(v,m)}function s2(e,t,r,s){if(r.disableNavigation)return;const{pagedNavigation:a,numberOfMonths:l}=r,{startOfMonth:d,addMonths:u,differenceInCalendarMonths:f}=s,m=a?l??1:1,v=d(e);if(!t)return u(v,-m);if(!(f(v,t)<=0))return u(v,-m)}function i2(e){const t=[];return e.reduce((r,s)=>r.concat(s.weeks.slice()),t.slice())}function zl(e,t){const[r,s]=w.useState(e);return[t===void 0?r:t,s]}function a2(e,t){var E;const[r,s]=r2(e,t),{startOfMonth:a,endOfMonth:l}=t,d=Im(e,r,s,t),[u,f]=zl(d,e.month?d:void 0);w.useEffect(()=>{const O=Im(e,r,s,t);f(O)},[e.timeZone]);const{months:m,weeks:v,days:g,previousMonth:y,nextMonth:j}=w.useMemo(()=>{const O=e2(u,s,{numberOfMonths:e.numberOfMonths},t),M=Qj(O,e.endMonth?l(e.endMonth):void 0,{ISOWeek:e.ISOWeek,fixedWeeks:e.fixedWeeks,broadcastCalendar:e.broadcastCalendar},t),F=t2(O,M,{broadcastCalendar:e.broadcastCalendar,fixedWeeks:e.fixedWeeks,ISOWeek:e.ISOWeek,reverseMonths:e.reverseMonths},t),A=i2(F),Y=Xj(F),J=s2(u,r,e,t),q=n2(u,s,e,t);return{months:F,weeks:A,days:Y,previousMonth:J,nextMonth:q}},[t,u.getTime(),s==null?void 0:s.getTime(),r==null?void 0:r.getTime(),e.disableNavigation,e.broadcastCalendar,(E=e.endMonth)==null?void 0:E.getTime(),e.fixedWeeks,e.ISOWeek,e.numberOfMonths,e.pagedNavigation,e.reverseMonths]),{disableNavigation:S,onMonthChange:N}=e,C=O=>v.some(M=>M.days.some(F=>F.isEqualTo(O))),b=O=>{if(S)return;let M=a(O);r&&M<a(r)&&(M=a(r)),s&&M>a(s)&&(M=a(s)),f(M),N==null||N(M)};return{months:m,weeks:v,days:g,navStart:r,navEnd:s,previousMonth:y,nextMonth:j,goToMonth:b,goToDay:O=>{C(O)||b(O.date)}}}var Cr;(function(e){e[e.Today=0]="Today",e[e.Selected=1]="Selected",e[e.LastFocused=2]="LastFocused",e[e.FocusedModifier=3]="FocusedModifier"})(Cr||(Cr={}));function Rm(e){return!e[Ze.disabled]&&!e[Ze.hidden]&&!e[Ze.outside]}function o2(e,t,r,s){let a,l=-1;for(const d of e){const u=t(d);Rm(u)&&(u[Ze.focused]&&l<Cr.FocusedModifier?(a=d,l=Cr.FocusedModifier):s!=null&&s.isEqualTo(d)&&l<Cr.LastFocused?(a=d,l=Cr.LastFocused):r(d.date)&&l<Cr.Selected?(a=d,l=Cr.Selected):u[Ze.today]&&l<Cr.Today&&(a=d,l=Cr.Today))}return a||(a=e.find(d=>Rm(t(d)))),a}function l2(e,t,r,s,a,l,d){const{ISOWeek:u,broadcastCalendar:f}=l,{addDays:m,addMonths:v,addWeeks:g,addYears:y,endOfBroadcastWeek:j,endOfISOWeek:S,endOfWeek:N,max:C,min:b,startOfBroadcastWeek:k,startOfISOWeek:x,startOfWeek:E}=d;let M={day:m,week:g,month:v,year:y,startOfWeek:F=>f?k(F,d):u?x(F):E(F),endOfWeek:F=>f?j(F):u?S(F):N(F)}[e](r,t==="after"?1:-1);return t==="before"&&s?M=C([s,M]):t==="after"&&a&&(M=b([a,M])),M}function dx(e,t,r,s,a,l,d,u=0){if(u>365)return;const f=l2(e,t,r.date,s,a,l,d),m=!!(l.disabled&&Gr(f,l.disabled,d)),v=!!(l.hidden&&Gr(f,l.hidden,d)),g=f,y=new rx(f,g,d);return!m&&!v?y:dx(e,t,y,s,a,l,d,u+1)}function c2(e,t,r,s,a){const{autoFocus:l}=e,[d,u]=w.useState(),f=o2(t.days,r,s||(()=>!1),d),[m,v]=w.useState(l?f:void 0);return{isFocusTarget:N=>!!(f!=null&&f.isEqualTo(N)),setFocused:v,focused:m,blur:()=>{u(m),v(void 0)},moveFocus:(N,C)=>{if(!m)return;const b=dx(N,C,m,t.navStart,t.navEnd,e,a);b&&(e.disableNavigation&&!t.days.some(x=>x.isEqualTo(b))||(t.goToDay(b),v(b)))}}}function d2(e,t){const{selected:r,required:s,onSelect:a}=e,[l,d]=zl(r,a?r:void 0),u=a?r:l,{isSameDay:f}=t,m=j=>(u==null?void 0:u.some(S=>f(S,j)))??!1,{min:v,max:g}=e;return{selected:u,select:(j,S,N)=>{let C=[...u??[]];if(m(j)){if((u==null?void 0:u.length)===v||s&&(u==null?void 0:u.length)===1)return;C=u==null?void 0:u.filter(b=>!f(b,j))}else(u==null?void 0:u.length)===g?C=[j]:C=[...C,j];return a||d(C),a==null||a(C,j,S,N),C},isSelected:m}}function u2(e,t,r=0,s=0,a=!1,l=Ir){const{from:d,to:u}=t||{},{isSameDay:f,isAfter:m,isBefore:v}=l;let g;if(!d&&!u)g={from:e,to:r>0?void 0:e};else if(d&&!u)f(d,e)?r===0?g={from:d,to:e}:a?g={from:d,to:void 0}:g=void 0:v(e,d)?g={from:e,to:d}:g={from:d,to:e};else if(d&&u)if(f(d,e)&&f(u,e))a?g={from:d,to:u}:g=void 0;else if(f(d,e))g={from:d,to:r>0?void 0:e};else if(f(u,e))g={from:e,to:r>0?void 0:e};else if(v(e,d))g={from:e,to:u};else if(m(e,d))g={from:d,to:e};else if(m(e,u))g={from:d,to:e};else throw new Error("Invalid range");if(g!=null&&g.from&&(g!=null&&g.to)){const y=l.differenceInCalendarDays(g.to,g.from);s>0&&y>s?g={from:e,to:void 0}:r>1&&y<r&&(g={from:e,to:void 0})}return g}function h2(e,t,r=Ir){const s=Array.isArray(t)?t:[t];let a=e.from;const l=r.differenceInCalendarDays(e.to,e.from),d=Math.min(l,6);for(let u=0;u<=d;u++){if(s.includes(a.getDay()))return!0;a=r.addDays(a,1)}return!1}function Am(e,t,r=Ir){return qr(e,t.from,!1,r)||qr(e,t.to,!1,r)||qr(t,e.from,!1,r)||qr(t,e.to,!1,r)}function f2(e,t,r=Ir){const s=Array.isArray(t)?t:[t];if(s.filter(u=>typeof u!="function").some(u=>typeof u=="boolean"?u:r.isDate(u)?qr(e,u,!1,r):ix(u,r)?u.some(f=>qr(e,f,!1,r)):Dl(u)?u.from&&u.to?Am(e,{from:u.from,to:u.to},r):!1:sx(u)?h2(e,u.dayOfWeek,r):ih(u)?r.isAfter(u.before,u.after)?Am(e,{from:r.addDays(u.after,1),to:r.addDays(u.before,-1)},r):Gr(e.from,u,r)||Gr(e.to,u,r):ah(u)||oh(u)?Gr(e.from,u,r)||Gr(e.to,u,r):!1))return!0;const d=s.filter(u=>typeof u=="function");if(d.length){let u=e.from;const f=r.differenceInCalendarDays(e.to,e.from);for(let m=0;m<=f;m++){if(d.some(v=>v(u)))return!0;u=r.addDays(u,1)}}return!1}function m2(e,t){const{disabled:r,excludeDisabled:s,selected:a,required:l,onSelect:d}=e,[u,f]=zl(a,d?a:void 0),m=d?a:u;return{selected:m,select:(y,j,S)=>{const{min:N,max:C}=e,b=y?u2(y,m,N,C,l,t):void 0;return s&&r&&(b!=null&&b.from)&&b.to&&f2({from:b.from,to:b.to},r,t)&&(b.from=y,b.to=void 0),d||f(b),d==null||d(b,y,j,S),b},isSelected:y=>m&&qr(m,y,!1,t)}}function p2(e,t){const{selected:r,required:s,onSelect:a}=e,[l,d]=zl(r,a?r:void 0),u=a?r:l,{isSameDay:f}=t;return{selected:u,select:(g,y,j)=>{let S=g;return!s&&u&&u&&f(g,u)&&(S=void 0),a||d(S),a==null||a(S,g,y,j),S},isSelected:g=>u?f(u,g):!1}}function g2(e,t){const r=p2(e,t),s=d2(e,t),a=m2(e,t);switch(e.mode){case"single":return r;case"multiple":return s;case"range":return a;default:return}}function ft(e,t){return e instanceof Yr&&e.timeZone===t?e:new Yr(e,t)}function Bm(e,t){return typeof e=="boolean"||typeof e=="function"?e:e instanceof Date?ft(e,t):Array.isArray(e)?e.map(r=>r instanceof Date?ft(r,t):r):Dl(e)?{...e,from:e.from?ft(e.from,t):e.from,to:e.to?ft(e.to,t):e.to}:ih(e)?{before:ft(e.before,t),after:ft(e.after,t)}:ah(e)?{after:ft(e.after,t)}:oh(e)?{before:ft(e.before,t)}:e}function Jc(e,t){return e&&(Array.isArray(e)?e.map(r=>Bm(r,t)):Bm(e,t))}function x2(e){var Ea;let t=e;const r=t.timeZone;if(r&&(t={...e,timeZone:r},t.today&&(t.today=ft(t.today,r)),t.month&&(t.month=ft(t.month,r)),t.defaultMonth&&(t.defaultMonth=ft(t.defaultMonth,r)),t.startMonth&&(t.startMonth=ft(t.startMonth,r)),t.endMonth&&(t.endMonth=ft(t.endMonth,r)),t.mode==="single"&&t.selected?t.selected=ft(t.selected,r):t.mode==="multiple"&&t.selected?t.selected=(Ea=t.selected)==null?void 0:Ea.map(fe=>ft(fe,r)):t.mode==="range"&&t.selected&&(t.selected={from:t.selected.from?ft(t.selected.from,r):t.selected.from,to:t.selected.to?ft(t.selected.to,r):t.selected.to}),t.disabled!==void 0&&(t.disabled=Jc(t.disabled,r)),t.hidden!==void 0&&(t.hidden=Jc(t.hidden,r)),t.modifiers)){const fe={};Object.keys(t.modifiers).forEach(Me=>{var ue;fe[Me]=Jc((ue=t.modifiers)==null?void 0:ue[Me],r)}),t.modifiers=fe}const{components:s,formatters:a,labels:l,dateLib:d,locale:u,classNames:f}=w.useMemo(()=>{const fe={...sh,...t.locale};return{dateLib:new Wt({locale:fe,weekStartsOn:t.broadcastCalendar?1:t.weekStartsOn,firstWeekContainsDate:t.firstWeekContainsDate,useAdditionalWeekYearTokens:t.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:t.useAdditionalDayOfYearTokens,timeZone:t.timeZone,numerals:t.numerals},t.dateLib),components:bj(t.components),formatters:Tj(t.formatters),labels:{...Yj,...t.labels},locale:fe,classNames:{..._j(),...t.classNames}}},[t.locale,t.broadcastCalendar,t.weekStartsOn,t.firstWeekContainsDate,t.useAdditionalWeekYearTokens,t.useAdditionalDayOfYearTokens,t.timeZone,t.numerals,t.dateLib,t.components,t.formatters,t.labels,t.classNames]);t.today||(t={...t,today:d.today()});const{captionLayout:m,mode:v,navLayout:g,numberOfMonths:y=1,onDayBlur:j,onDayClick:S,onDayFocus:N,onDayKeyDown:C,onDayMouseEnter:b,onDayMouseLeave:k,onNextClick:x,onPrevClick:E,showWeekNumber:O,styles:M}=t,{formatCaption:F,formatDay:A,formatMonthDropdown:Y,formatWeekNumber:J,formatWeekNumberHeader:q,formatWeekdayName:ie,formatYearDropdown:ke}=a,pe=a2(t,d),{days:Z,months:oe,navStart:ye,navEnd:W,previousMonth:Q,nextMonth:$,goToMonth:se}=pe,he=vj(Z,t,ye,W,d),{isSelected:Se,select:I,selected:X}=g2(t,d)??{},{blur:z,focused:U,isFocusTarget:ae,moveFocus:we,setFocused:Ce}=c2(t,pe,he,Se??(()=>!1),d),{labelDayButton:Ye,labelGridcell:Le,labelGrid:Re,labelMonthDropdown:Ge,labelNav:st,labelPrevious:dt,labelNext:Ht,labelWeekday:Ut,labelWeekNumber:Ln,labelWeekNumberHeader:wt,labelYearDropdown:nr}=l,hs=w.useMemo(()=>Dj(d,t.ISOWeek,t.broadcastCalendar,t.today),[d,t.ISOWeek,t.broadcastCalendar,t.today]),On=v!==void 0||S!==void 0,Dn=w.useCallback(()=>{Q&&(se(Q),E==null||E(Q))},[Q,se,E]),zn=w.useCallback(()=>{$&&(se($),x==null||x($))},[se,$,x]),In=w.useCallback((fe,Me)=>ue=>{ue.preventDefault(),ue.stopPropagation(),Ce(fe),I==null||I(fe.date,Me,ue),S==null||S(fe.date,Me,ue)},[I,S,Ce]),fs=w.useCallback((fe,Me)=>ue=>{Ce(fe),N==null||N(fe.date,Me,ue)},[N,Ce]),ms=w.useCallback((fe,Me)=>ue=>{z(),j==null||j(fe.date,Me,ue)},[z,j]),hi=w.useCallback((fe,Me)=>ue=>{const Pe={ArrowLeft:[ue.shiftKey?"month":"day",t.dir==="rtl"?"after":"before"],ArrowRight:[ue.shiftKey?"month":"day",t.dir==="rtl"?"before":"after"],ArrowDown:[ue.shiftKey?"year":"week","after"],ArrowUp:[ue.shiftKey?"year":"week","before"],PageUp:[ue.shiftKey?"year":"month","before"],PageDown:[ue.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(Pe[ue.key]){ue.preventDefault(),ue.stopPropagation();const[Vt,be]=Pe[ue.key];we(Vt,be)}C==null||C(fe.date,Me,ue)},[we,C,t.dir]),T=w.useCallback((fe,Me)=>ue=>{b==null||b(fe.date,Me,ue)},[b]),K=w.useCallback((fe,Me)=>ue=>{k==null||k(fe.date,Me,ue)},[k]),Oe=w.useCallback(fe=>Me=>{const ue=Number(Me.target.value),Pe=d.setMonth(d.startOfMonth(fe),ue);se(Pe)},[d,se]),sr=w.useCallback(fe=>Me=>{const ue=Number(Me.target.value),Pe=d.setYear(d.startOfMonth(fe),ue);se(Pe)},[d,se]),{className:ir,style:Rn}=w.useMemo(()=>({className:[f[ce.Root],t.className].filter(Boolean).join(" "),style:{...M==null?void 0:M[ce.Root],...t.style}}),[f,t.className,t.style,M]),ps=wj(t),ar=w.useRef(null);Kj(ar,!!t.animate,{classNames:f,months:oe,focused:U,dateLib:d});const Il={dayPickerProps:t,selected:X,select:I,isSelected:Se,months:oe,nextMonth:$,previousMonth:Q,goToMonth:se,getModifiers:he,components:s,classNames:f,styles:M,labels:l,formatters:a};return ee.createElement(nx.Provider,{value:Il},ee.createElement(s.Root,{rootRef:t.animate?ar:void 0,className:ir,style:Rn,dir:t.dir,id:t.id,lang:t.lang,nonce:t.nonce,title:t.title,role:t.role,"aria-label":t["aria-label"],"aria-labelledby":t["aria-labelledby"],...ps},ee.createElement(s.Months,{className:f[ce.Months],style:M==null?void 0:M[ce.Months]},!t.hideNavigation&&!g&&ee.createElement(s.Nav,{"data-animated-nav":t.animate?"true":void 0,className:f[ce.Nav],style:M==null?void 0:M[ce.Nav],"aria-label":st(),onPreviousClick:Dn,onNextClick:zn,previousMonth:Q,nextMonth:$}),oe.map((fe,Me)=>ee.createElement(s.Month,{"data-animated-month":t.animate?"true":void 0,className:f[ce.Month],style:M==null?void 0:M[ce.Month],key:Me,displayIndex:Me,calendarMonth:fe},g==="around"&&!t.hideNavigation&&Me===0&&ee.createElement(s.PreviousMonthButton,{type:"button",className:f[ce.PreviousMonthButton],tabIndex:Q?void 0:-1,"aria-disabled":Q?void 0:!0,"aria-label":dt(Q),onClick:Dn,"data-animated-button":t.animate?"true":void 0},ee.createElement(s.Chevron,{disabled:Q?void 0:!0,className:f[ce.Chevron],orientation:t.dir==="rtl"?"right":"left"})),ee.createElement(s.MonthCaption,{"data-animated-caption":t.animate?"true":void 0,className:f[ce.MonthCaption],style:M==null?void 0:M[ce.MonthCaption],calendarMonth:fe,displayIndex:Me},m!=null&&m.startsWith("dropdown")?ee.createElement(s.DropdownNav,{className:f[ce.Dropdowns],style:M==null?void 0:M[ce.Dropdowns]},(()=>{const ue=m==="dropdown"||m==="dropdown-months"?ee.createElement(s.MonthsDropdown,{key:"month",className:f[ce.MonthsDropdown],"aria-label":Ge(),classNames:f,components:s,disabled:!!t.disableNavigation,onChange:Oe(fe.date),options:Lj(fe.date,ye,W,a,d),style:M==null?void 0:M[ce.Dropdown],value:d.getMonth(fe.date)}):ee.createElement("span",{key:"month"},Y(fe.date,d)),Pe=m==="dropdown"||m==="dropdown-years"?ee.createElement(s.YearsDropdown,{key:"year",className:f[ce.YearsDropdown],"aria-label":nr(d.options),classNames:f,components:s,disabled:!!t.disableNavigation,onChange:sr(fe.date),options:zj(ye,W,a,d,!!t.reverseYears),style:M==null?void 0:M[ce.Dropdown],value:d.getYear(fe.date)}):ee.createElement("span",{key:"year"},ke(fe.date,d));return d.getMonthYearOrder()==="year-first"?[Pe,ue]:[ue,Pe]})(),ee.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},F(fe.date,d.options,d))):ee.createElement(s.CaptionLabel,{className:f[ce.CaptionLabel],role:"status","aria-live":"polite"},F(fe.date,d.options,d))),g==="around"&&!t.hideNavigation&&Me===y-1&&ee.createElement(s.NextMonthButton,{type:"button",className:f[ce.NextMonthButton],tabIndex:$?void 0:-1,"aria-disabled":$?void 0:!0,"aria-label":Ht($),onClick:zn,"data-animated-button":t.animate?"true":void 0},ee.createElement(s.Chevron,{disabled:$?void 0:!0,className:f[ce.Chevron],orientation:t.dir==="rtl"?"left":"right"})),Me===y-1&&g==="after"&&!t.hideNavigation&&ee.createElement(s.Nav,{"data-animated-nav":t.animate?"true":void 0,className:f[ce.Nav],style:M==null?void 0:M[ce.Nav],"aria-label":st(),onPreviousClick:Dn,onNextClick:zn,previousMonth:Q,nextMonth:$}),ee.createElement(s.MonthGrid,{role:"grid","aria-multiselectable":v==="multiple"||v==="range","aria-label":Re(fe.date,d.options,d)||void 0,className:f[ce.MonthGrid],style:M==null?void 0:M[ce.MonthGrid]},!t.hideWeekdays&&ee.createElement(s.Weekdays,{"data-animated-weekdays":t.animate?"true":void 0,className:f[ce.Weekdays],style:M==null?void 0:M[ce.Weekdays]},O&&ee.createElement(s.WeekNumberHeader,{"aria-label":wt(d.options),className:f[ce.WeekNumberHeader],style:M==null?void 0:M[ce.WeekNumberHeader],scope:"col"},q()),hs.map(ue=>ee.createElement(s.Weekday,{"aria-label":Ut(ue,d.options,d),className:f[ce.Weekday],key:String(ue),style:M==null?void 0:M[ce.Weekday],scope:"col"},ie(ue,d.options,d)))),ee.createElement(s.Weeks,{"data-animated-weeks":t.animate?"true":void 0,className:f[ce.Weeks],style:M==null?void 0:M[ce.Weeks]},fe.weeks.map(ue=>ee.createElement(s.Week,{className:f[ce.Week],key:ue.weekNumber,style:M==null?void 0:M[ce.Week],week:ue},O&&ee.createElement(s.WeekNumber,{week:ue,style:M==null?void 0:M[ce.WeekNumber],"aria-label":Ln(ue.weekNumber,{locale:u}),className:f[ce.WeekNumber],scope:"row",role:"rowheader"},J(ue.weekNumber,d)),ue.days.map(Pe=>{const{date:Vt}=Pe,be=he(Pe);if(be[Ze.focused]=!be.hidden&&!!(U!=null&&U.isEqualTo(Pe)),be[fr.selected]=(Se==null?void 0:Se(Vt))||be.selected,Dl(X)){const{from:An,to:fi}=X;be[fr.range_start]=!!(An&&fi&&d.isSameDay(Vt,An)),be[fr.range_end]=!!(An&&fi&&d.isSameDay(Vt,fi)),be[fr.range_middle]=qr(X,Vt,!0,d)}const Rl=Oj(be,M,t.modifiersStyles),Al=yj(be,f,t.modifiersClassNames),Bl=!On&&!be.hidden?Le(Vt,be,d.options,d):void 0;return ee.createElement(s.Day,{key:`${Pe.isoDate}_${Pe.displayMonthId}`,day:Pe,modifiers:be,className:Al.join(" "),style:Rl,role:"gridcell","aria-selected":be.selected||void 0,"aria-label":Bl,"data-day":Pe.isoDate,"data-month":Pe.outside?Pe.dateMonthId:void 0,"data-selected":be.selected||void 0,"data-disabled":be.disabled||void 0,"data-hidden":be.hidden||void 0,"data-outside":Pe.outside||void 0,"data-focused":be.focused||void 0,"data-today":be.today||void 0},!be.hidden&&On?ee.createElement(s.DayButton,{className:f[ce.DayButton],style:M==null?void 0:M[ce.DayButton],type:"button",day:Pe,modifiers:be,disabled:!be.focused&&be.disabled||void 0,"aria-disabled":be.focused&&be.disabled||void 0,tabIndex:ae(Pe)?0:-1,"aria-label":Ye(Vt,be,d.options,d),onClick:In(Pe,be),onBlur:ms(Pe,be),onFocus:fs(Pe,be),onKeyDown:hi(Pe,be),onMouseEnter:T(Pe,be),onMouseLeave:K(Pe,be)},A(Vt,d.options,d)):!be.hidden&&A(Pe.date,d.options,d))})))))))),t.footer&&ee.createElement(s.Footer,{className:f[ce.Footer],style:M==null?void 0:M[ce.Footer],role:"status","aria-live":"polite"},t.footer)))}const v2={lessThanXSeconds:{one:"moins dune seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins dune minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus dun an",other:"plus de {{count}} ans"},almostXYears:{one:"presquun an",other:"presque {{count}} ans"}},y2=(e,t,r)=>{let s;const a=v2[e];return typeof a=="string"?s=a:t===1?s=a.one:s=a.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"dans "+s:"il y a "+s:s},b2={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},w2={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},_2={full:"{{date}} '' {{time}}",long:"{{date}} '' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},k2={date:Gs({formats:b2,defaultWidth:"full"}),time:Gs({formats:w2,defaultWidth:"full"}),dateTime:Gs({formats:_2,defaultWidth:"full"})},j2={lastWeek:"eeee 'dernier ' p",yesterday:"'hier ' p",today:"'aujourdhui ' p",tomorrow:"'demain ' p'",nextWeek:"eeee 'prochain ' p",other:"P"},N2=(e,t,r,s)=>j2[e],S2={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jsus-Christ","aprs Jsus-Christ"]},C2={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2me trim.","3me trim.","4me trim."],wide:["1er trimestre","2me trimestre","3me trimestre","4me trimestre"]},P2={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc."],wide:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"]},M2={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},E2={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"aprs-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de laprs-midi",evening:"du soir",night:"du matin"}},T2=(e,t)=>{const r=Number(e),s=t==null?void 0:t.unit;if(r===0)return"0";const a=["year","week","hour","minute","second"];let l;return r===1?l=s&&a.includes(s)?"re":"er":l="me",r+l},L2=["MMM","MMMM"],O2={preprocessor:(e,t)=>e.getDate()===1||!t.some(s=>s.isToken&&L2.includes(s.value))?t:t.map(s=>s.isToken&&s.value==="do"?{isToken:!0,value:"d"}:s),ordinalNumber:T2,era:Mr({values:S2,defaultWidth:"wide"}),quarter:Mr({values:C2,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Mr({values:P2,defaultWidth:"wide"}),day:Mr({values:M2,defaultWidth:"wide"}),dayPeriod:Mr({values:E2,defaultWidth:"wide"})},D2=/^(\d+)(ime|re|me|er|e)?/i,z2=/\d+/i,I2={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jsus-Christ|aprs Jsus-Christ)/i},R2={any:[/^av/i,/^ap/i]},A2={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|me|e)? trim\.?/i,wide:/^[1234](er|me|e)? trimestre/i},B2={any:[/1/i,/2/i,/3/i,/4/i]},F2={narrow:/^[jfmasond]/i,abbreviated:/^(janv|fvr|mars|avr|mai|juin|juill|juil|aot|sept|oct|nov|dc)\.?/i,wide:/^(janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i},W2={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},$2={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},Z2={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},H2={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'aprs[-\s]midi|du soir|de la nuit)/i},U2={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},V2={ordinalNumber:Jg({matchPattern:D2,parsePattern:z2,valueCallback:e=>parseInt(e)}),era:Er({matchPatterns:I2,defaultMatchWidth:"wide",parsePatterns:R2,defaultParseWidth:"any"}),quarter:Er({matchPatterns:A2,defaultMatchWidth:"wide",parsePatterns:B2,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Er({matchPatterns:F2,defaultMatchWidth:"wide",parsePatterns:W2,defaultParseWidth:"any"}),day:Er({matchPatterns:$2,defaultMatchWidth:"wide",parsePatterns:Z2,defaultParseWidth:"any"}),dayPeriod:Er({matchPatterns:H2,defaultMatchWidth:"any",parsePatterns:U2,defaultParseWidth:"any"})},Y2={code:"fr",formatDistance:y2,formatLong:k2,formatRelative:N2,localize:O2,match:V2,options:{weekStartsOn:1,firstWeekContainsDate:4}};function dl({service:e,onClose:t,onReservationSuccess:r}){const[s,a]=w.useState(1),[l,d]=w.useState(),[u,f]=w.useState(null),[m,v]=w.useState(""),[g,y]=w.useState(!1),[j,S]=w.useState(""),[N,C]=w.useState(null),[b,k]=w.useState(!1),x=Array.from({length:18},(M,F)=>{const A=8+Math.floor(F*30/60),Y=F*30%60;return`${String(A).padStart(2,"0")}:${String(Y).padStart(2,"0")}`}),E=M=>{d(M),f(null)},O=async()=>{if(!l||!u){C("Veuillez slectionner une date et une heure.");return}k(!0),C(null);try{const M={service_id:e.id,date_reservation:l.toISOString().split("T")[0],heure_debut:u,notes_client:m,a_domicile:g,adresse_rdv:g?j:""},F=await G.reservations.create(M);r(F),t()}catch(M){C(M.message||"Une erreur est survenue.")}finally{k(!1)}};return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl w-full max-w-md mx-auto shadow-xl transform transition-all",children:[i.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[i.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:["Rserver: ",e.nom]}),i.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700",children:i.jsx(Dr,{className:"w-6 h-6 text-gray-500"})})]}),i.jsxs("div",{className:"p-6 space-y-6",children:[s===1?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center space-x-2 text-gray-700 dark:text-gray-300",children:[i.jsx(jt,{className:"w-5 h-5"}),i.jsx("h3",{className:"font-semibold",children:"Choisissez une date"})]}),i.jsx(x2,{mode:"single",selected:l,onSelect:E,locale:Y2,disabled:{before:new Date},className:"w-full flex justify-center"}),l&&i.jsxs("div",{className:"pt-4",children:[i.jsxs("div",{className:"flex items-center space-x-2 text-gray-700 dark:text-gray-300 mb-3",children:[i.jsx(rr,{className:"w-5 h-5"}),i.jsx("h3",{className:"font-semibold",children:"Choisissez une heure"})]}),i.jsx("div",{className:"grid grid-cols-4 gap-2",children:x.map(M=>i.jsx("button",{onClick:()=>f(M),className:`px-3 py-2 text-sm rounded-lg transition-colors ${u===M?"bg-blue-600 text-white font-semibold":"bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:M},M))})]})]}):i.jsxs("div",{className:"space-y-4",children:[e.is_domicile&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center space-x-2 text-gray-700 dark:text-gray-300 mb-3",children:[i.jsx(To,{className:"w-5 h-5"}),i.jsx("h3",{className:"font-semibold",children:"Service  domicile"})]}),i.jsxs("label",{className:"flex items-center space-x-3 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[i.jsx("input",{type:"checkbox",checked:g,onChange:M=>y(M.target.checked),className:"h-4 w-4 rounded text-blue-600 focus:ring-blue-500"}),i.jsx("span",{className:"text-sm text-gray-800 dark:text-gray-200",children:"Je souhaite que le prestataire vienne  mon adresse"})]}),g&&i.jsx("input",{type:"text",value:j,onChange:M=>S(M.target.value),placeholder:"Entrez votre adresse complte",className:"mt-2 w-full px-4 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-blue-500 focus:border-blue-500"})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center space-x-2 text-gray-700 dark:text-gray-300 mb-3",children:[i.jsx(Ng,{className:"w-5 h-5"}),i.jsx("h3",{className:"font-semibold",children:"Notes pour le prestataire (optionnel)"})]}),i.jsx("textarea",{value:m,onChange:M=>v(M.target.value),rows:3,placeholder:"Avez-vous des instructions particulires ?",className:"w-full px-4 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-blue-500 focus:border-blue-500"})]})]}),N&&i.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 text-center",children:N})]}),i.jsx("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50 rounded-b-2xl",children:s===1?i.jsxs("button",{onClick:()=>a(2),disabled:!l||!u,className:"w-full flex items-center justify-center px-6 py-3 bg-blue-600 text-white font-bold rounded-xl hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-all",children:[i.jsx("span",{children:"Suivant"}),i.jsx(Eo,{className:"w-5 h-5 ml-2"})]}):i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("button",{onClick:()=>a(1),className:"text-sm font-medium text-gray-600 dark:text-gray-400 hover:underline",children:"Prcdent"}),i.jsx("button",{onClick:O,disabled:b,className:"px-6 py-3 bg-green-600 text-white font-bold rounded-xl hover:bg-green-700 disabled:bg-gray-400 transition-all",children:b?"Confirmation...":`Confirmer pour ${e.prix.toLocaleString()} ${e.devise}`})]})})]})})}function po({onSelectService:e,onSelectProvider:t}){const{showToast:r}=rt(),[s,a]=w.useState(""),[l,d]=w.useState(null),[u,f]=w.useState(null),[m,v]=w.useState([]),[g,y]=w.useState([]),[j,S]=w.useState([]),[N,C]=w.useState([]),[b,k]=w.useState(null),[x,E]=w.useState([]),[O,M]=w.useState(null),[F,A]=w.useState(null),[Y,J]=w.useState([]),[q,ie]=w.useState(!1),[ke,pe]=w.useState(null);w.useEffect(()=>{let z=!0;return(async()=>{try{const[U,ae,we,Ce,Ye]=await Promise.all([G.getCategories(),G.getSubCategories(),G.getPrestataires(),G.getServices(),G.favorites.listProviders().catch(()=>[])]);if(!z)return;v(U),y(ae),S(we),C(Ce),J(Ye.map(Le=>Le.prestataire_id))}catch{}})(),()=>{z=!1}},[]),w.useEffect(()=>{if("geolocation"in navigator)return navigator.geolocation.getCurrentPosition(z=>{const{latitude:U,longitude:ae}=z.coords;k([U,ae])},()=>{},{enableHighAccuracy:!0,maximumAge:6e4,timeout:1e4}),()=>{}},[]),w.useEffect(()=>{let z=!0;return(async()=>{try{const U=await G.getSubCategories(l==null?void 0:l.id);z&&y(U)}catch{}})(),()=>{z=!1}},[l==null?void 0:l.id]);const Z=w.useMemo(()=>{const z=s.toLowerCase();return j.filter(U=>!z||(U.nom_commercial||"").toLowerCase().includes(z))},[j,s]),oe=w.useMemo(()=>{const z=s.toLowerCase();return N.filter(U=>{const ae=!z||(U.nom||"").toLowerCase().includes(z),we=!u||U.sous_categorie_id===u.id;return ae&&we})},[N,s,u]),ye=z=>g.filter(U=>U.categorie_id===z),W=()=>{d(null),f(null)},Q=[5.3599517,-3.9810768],$=(z,U)=>{const ae=st=>st*Math.PI/180,Ce=ae(U[0]-z[0]),Ye=ae(U[1]-z[1]),Le=ae(z[0]),Re=ae(U[0]),Ge=Math.sin(Ce/2)**2+Math.cos(Le)*Math.cos(Re)*Math.sin(Ye/2)**2;return 2*6371*Math.asin(Math.sqrt(Ge))},se=w.useMemo(()=>Z.filter(z=>typeof z.latitude=="number"&&typeof z.longitude=="number").map(z=>{const U=[z.latitude,z.longitude],ae=b?$(b,U):null,we=ae!=null?`  ${ae<1?Math.round(ae*1e3)+" m":ae.toFixed(1)+" km"}`:"";return{id:z.id,position:U,title:z.nom_commercial,subtitle:(z.ville||"")+we}}),[Z,b]),he=async z=>{var U,ae,we;try{if(A(null),!b){A("Position utilisateur indisponible");return}const Ce={lat:b[0],lng:b[1]},Ye={lat:z.position[0],lng:z.position[1]},Le=`https://router.project-osrm.org/route/v1/driving/${Ce.lng},${Ce.lat};${Ye.lng},${Ye.lat}?overview=full&geometries=geojson`,Re=await fetch(Le);if(!Re.ok)throw new Error(`OSRM ${Re.status}`);const Ge=await Re.json(),st=(((we=(ae=(U=Ge==null?void 0:Ge.routes)==null?void 0:U[0])==null?void 0:ae.geometry)==null?void 0:we.coordinates)||[]).map(dt=>[dt[1],dt[0]]);if(!st.length)throw new Error("Aucun itinraire");E(st),M("Itinraire affich"),setTimeout(()=>M(null),3e3)}catch(Ce){A(Ce.message||"Erreur de calcul d'itinraire")}},Se=()=>{E([]),M(null),A(null)},I=async z=>{try{Y.includes(z)?(await G.favorites.removeProvider(z),J(ae=>ae.filter(we=>we!==z)),r("Retir des favoris","success")):(await G.favorites.addProvider(z),J(ae=>[...ae,z]),r("Ajout aux favoris","success"))}catch{r("Erreur lors de la mise  jour des favoris","error")}},X=w.useMemo(()=>{if(!b)return Z;const z=U=>typeof U.latitude=="number"&&typeof U.longitude=="number"?$(b,[U.latitude,U.longitude]):Number.POSITIVE_INFINITY;return[...Z].sort((U,ae)=>z(U)-z(ae))},[Z,b]);return i.jsxs(i.Fragment,{children:[q&&ke&&i.jsx(dl,{service:ke,onClose:()=>ie(!1),onReservationSuccess:()=>{r("Rservation confirme","success")}}),i.jsxs("div",{className:"p-4 space-y-6 max-w-md mx-auto",children:[i.jsxs("div",{className:"relative group",children:[i.jsx(Cg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400 group-focus-within:text-blue-600 transition-colors"}),i.jsx("input",{type:"text",value:s,onChange:z=>a(z.target.value),placeholder:"Rechercher un service ou prestataire...",className:"w-full pl-10 pr-4 py-3.5 border border-gray-300 dark:border-gray-600 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm focus:shadow-md transition-all duration-200"})]}),i.jsxs("div",{className:"flex items-center space-x-2 text-gray-600 dark:text-gray-400 bg-gray-50 dark:bg-gray-800 px-3 py-2 rounded-xl",children:[i.jsx(vr,{className:"w-4 h-4 text-blue-600"}),i.jsx("span",{className:"text-sm font-medium",children:"Abidjan, Cte d'Ivoire"})]}),O&&i.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 text-green-700 dark:text-green-300 text-sm font-medium shadow-sm",children:O}),F&&i.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-r from-red-50 to-pink-50 dark:from-red-900/20 dark:to-pink-900/20 text-red-700 dark:text-red-300 text-sm font-medium shadow-sm",children:F}),i.jsx(Bg,{center:b||Q,markers:se,userLocation:b||void 0,onMarkerClick:he,route:x}),x.length>0&&i.jsx("div",{className:"flex justify-end mt-2",children:i.jsx("button",{onClick:Se,className:"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-700 font-medium px-4 py-2 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all duration-200",children:"Effacer l'itinraire"})}),!l&&i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold mb-3 text-gray-900 dark:text-white",children:"Catgories"}),i.jsx("div",{className:"grid grid-cols-2 gap-3",children:m.map(z=>i.jsxs("button",{onClick:()=>d(z),className:"p-4 bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 hover:shadow-xl hover:border-transparent transition-all duration-300 hover:scale-105 group",children:[i.jsx("div",{className:"w-14 h-14 rounded-2xl flex items-center justify-center mx-auto mb-3 shadow-md group-hover:shadow-lg transition-all duration-300 group-hover:scale-110",style:{backgroundColor:(z.couleur||"#3B82F6")+"20"},children:i.jsx("span",{className:"text-3xl",style:{color:z.couleur||"#3B82F6"},children:""})}),i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-sm",children:z.nom}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 line-clamp-2",children:z.description})]},z.id))})]}),l&&!u&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:l.nom}),i.jsx("button",{onClick:W,className:"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-700 font-medium px-3 py-1.5 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all duration-200",children:"Retour"})]}),i.jsx("div",{className:"space-y-2",children:ye(l.id).map(z=>i.jsxs("button",{onClick:()=>f(z),className:"w-full p-4 bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 hover:shadow-lg hover:scale-[1.02] transition-all duration-200 text-left",children:[i.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:z.nom}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:z.description})]},z.id))})]}),u&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:u.nom}),i.jsx("button",{onClick:()=>f(null),className:"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-700 font-medium px-3 py-1.5 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all duration-200",children:"Retour"})]}),i.jsx("div",{className:"space-y-4",children:oe.map(z=>{var ae;const U=j.find(we=>we.id===z.prestataire_id);return i.jsxs("div",{onClick:()=>e(z.id),className:"bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 overflow-hidden hover:shadow-xl hover:border-transparent hover:scale-[1.02] transition-all duration-300 cursor-pointer group",children:[Array.isArray(z.photos)&&z.photos[0]&&i.jsxs("div",{className:"relative overflow-hidden",children:[i.jsx("img",{src:z.photos[0],alt:z.nom,className:"w-full h-40 object-cover group-hover:scale-110 transition-transform duration-500"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"})]}),i.jsxs("div",{className:"p-4",children:[i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:z.nom}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:z.description}),i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsxs("span",{className:"font-bold text-lg bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:[z.prix.toLocaleString()," ",z.devise||"XOF"]}),i.jsxs("div",{className:"flex items-center space-x-1 text-gray-500 dark:text-gray-400",children:[i.jsx(rr,{className:"w-4 h-4"}),i.jsxs("span",{children:[z.duree_minutes,"min"]})]})]}),U&&i.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-800 dark:text-gray-200",children:U.nom_commercial}),i.jsxs("div",{className:"flex items-center space-x-1 text-xs text-gray-500",children:[i.jsx(pt,{className:"w-3 h-3 fill-yellow-400 text-yellow-400"}),i.jsx("span",{children:((ae=z.note_moyenne)==null?void 0:ae.toFixed(1))??"N/A"})]})]}),i.jsx("button",{onClick:we=>{we.stopPropagation(),pe(z),ie(!0)},className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-semibold rounded-lg transition-colors",children:"Rserver"})]})]})]},z.id)})})]}),!l&&i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold mb-3 text-gray-900 dark:text-white",children:"Prestataires populaires"}),i.jsx("div",{className:"space-y-4",children:X.map(z=>i.jsxs("div",{onClick:()=>t(z.id),className:"bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 overflow-hidden hover:shadow-xl hover:border-transparent hover:scale-[1.02] transition-all duration-300 cursor-pointer group",children:[Array.isArray(z.photos_etablissement)&&z.photos_etablissement[0]&&i.jsxs("div",{className:"relative overflow-hidden",children:[i.jsx("img",{src:z.photos_etablissement[0],alt:z.nom_commercial,className:"w-full h-40 object-cover group-hover:scale-110 transition-transform duration-500"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"})]}),i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:z.nom_commercial}),i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[z.ville,typeof z.latitude=="number"&&typeof z.longitude=="number"&&b&&i.jsxs(i.Fragment,{children:[" ",""," ",(()=>{const U=$(b,[z.latitude,z.longitude]);return U<1?`${Math.round(U*1e3)} m`:`${U.toFixed(1)} km`})()]})]})]}),i.jsx("button",{onClick:U=>{U.stopPropagation(),I(z.id)},className:"p-2 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-full transition-all duration-200 hover:scale-110 group",children:i.jsx(gn,{className:`w-5 h-5 transition-all duration-200 ${Y.includes(z.id)?"text-red-500 fill-red-500":"text-gray-400 group-hover:text-red-500 group-hover:fill-red-500"}`})})]}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3 line-clamp-2"}),i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx(pt,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),typeof z.note_moyenne=="number"&&i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"text-sm font-medium",children:z.note_moyenne.toFixed(1)}),i.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["(",z.nombre_avis||0," avis)"]})]})]}),z.is_verified?i.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-gradient-to-r from-blue-100 to-purple-100 dark:from-blue-900 dark:to-purple-900 text-blue-800 dark:text-blue-200 shadow-sm",children:" Vrifi"}):i.jsx("span",{})]})]},z.id))})]})]})]})}function q2({isOpen:e,onClose:t,reservation:r,onSuccess:s}){const{showToast:a}=rt(),[l,d]=w.useState(0),[u,f]=w.useState(0),[m,v]=w.useState(""),[g,y]=w.useState([]),[j,S]=w.useState(!1);if(!e)return null;const N=b=>{Array.from(b.target.files||[]).forEach(x=>{if(!x.type.startsWith("image/")){a("Veuillez slectionner des images","error");return}if(x.size>5*1024*1024){a("Les images ne doivent pas dpasser 5MB","error");return}const E=new FileReader;E.onload=()=>{y(O=>[...O,E.result])},E.readAsDataURL(x)})},C=async()=>{if(l===0){a("Veuillez donner une note","error");return}try{S(!0),await G.avis.create({reservation_id:r.id,note:l,commentaire:m.trim()||void 0,photos:g.length>0?g:void 0}),a("Avis ajout avec succs","success"),s(),t(),d(0),v(""),y([])}catch(b){a(b.message||"Erreur lors de l'ajout de l'avis","error")}finally{S(!1)}};return i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Noter le service"}),i.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:i.jsx(Dr,{className:"w-5 h-5 text-gray-500"})})]}),i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:r.service_nom}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:r.prestataire_nom})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:"Comment valuez-vous ce service ?"}),i.jsx("div",{className:"flex justify-center space-x-1",children:[1,2,3,4,5].map(b=>i.jsx("button",{onClick:()=>d(b),onMouseEnter:()=>f(b),onMouseLeave:()=>f(0),className:"p-1 transition-transform hover:scale-110",children:i.jsx(pt,{className:`w-8 h-8 transition-colors ${b<=(u||l)?"text-yellow-400 fill-yellow-400":"text-gray-300 dark:text-gray-600"}`})},b))}),l>0&&i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:[l===1&&"Trs insatisfait",l===2&&"Insatisfait",l===3&&"Correct",l===4&&"Satisfait",l===5&&"Trs satisfait"]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Commentaire (optionnel)"}),i.jsx("textarea",{value:m,onChange:b=>v(b.target.value),placeholder:"Partagez votre exprience...",rows:4,className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-none"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Photos (optionnel)"}),g.length>0&&i.jsx("div",{className:"grid grid-cols-3 gap-2 mb-3",children:g.map((b,k)=>i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:b,alt:`Photo ${k+1}`,className:"w-full h-20 object-cover rounded-lg"}),i.jsx("button",{onClick:()=>y(x=>x.filter((E,O)=>O!==k)),className:"absolute -top-2 -right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",children:i.jsx(Dr,{className:"w-3 h-3"})})]},k))}),i.jsxs("label",{className:"flex items-center justify-center w-full p-4 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-xl hover:border-blue-500 dark:hover:border-blue-400 transition-colors cursor-pointer",children:[i.jsx(Ml,{className:"w-5 h-5 text-gray-400 mr-2"}),i.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Ajouter des photos"}),i.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:N,className:"hidden"})]})]}),i.jsxs("div",{className:"flex space-x-3 pt-4",children:[i.jsx("button",{onClick:t,className:"flex-1 px-4 py-3 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700 font-medium transition-colors",children:"Annuler"}),i.jsx("button",{onClick:C,disabled:j||l===0,className:`flex-1 px-4 py-3 rounded-xl font-medium transition-colors text-white ${j||l===0?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700"}`,children:j?"Envoi...":"Publier l'avis"})]})]})]})})}function Fm(){const{showToast:e}=rt(),[t,r]=w.useState("all"),[s,a]=w.useState([]),[l,d]=w.useState(!0),[u,f]=w.useState(null),[m,v]=w.useState({isOpen:!1,reservation:null});w.useEffect(()=>{let x=!0;return(async()=>{try{d(!0);const E=await G.reservations.list(t==="all"?void 0:t);x&&a(E)}catch(E){x&&f(E.message||"Erreur de chargement")}finally{x&&d(!1)}})(),()=>{x=!1}},[t]);const g=x=>x.statut_couleur||"#6B7280",y=x=>x.statut_nom||"inconnu",j=x=>{const E=new Date(x);return isNaN(E.getTime())?"Date invalide":E.toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})},S=async x=>{try{await G.reservations.cancel(x);const E=await G.reservations.list(t==="all"?void 0:t);a(E),e("Rservation annule","success")}catch(E){f(E.message||"Impossible d'annuler"),e("Erreur lors de l'annulation","error")}},N=x=>{v({isOpen:!0,reservation:x})},C=()=>{v({isOpen:!1,reservation:null})},b=async()=>{try{const x=await G.reservations.list(t==="all"?void 0:t);a(x)}catch(x){console.error("Erreur rechargement rservations:",x)}},k=x=>{x.prestataire_telephone?window.open(`tel:${x.prestataire_telephone}`,"_self"):e("Numro de tlphone non disponible","error")};return i.jsxs("div",{className:"p-4 space-y-6 max-w-md mx-auto",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"Mes rservations"}),i.jsx("div",{className:"flex space-x-2 mb-6 overflow-x-auto",children:[{key:"all",label:"Toutes"},{key:"upcoming",label:" venir"},{key:"completed",label:"Termines"},{key:"cancelled",label:"Annules"}].map(x=>i.jsx("button",{onClick:()=>r(x.key),className:`flex-shrink-0 px-4 py-2 rounded-full text-sm font-medium transition-colors ${t===x.key?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:x.label},x.key))}),i.jsx("div",{className:"space-y-4",children:l?i.jsx("div",{className:"text-center py-12 text-gray-500",children:"Chargement..."}):u?i.jsx("div",{className:"text-center py-12 text-red-600",children:u}):s.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(jt,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Aucune rservation"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:t==="all"?"Vous n'avez pas encore de rservations":`Aucune rservation ${t==="upcoming"?" venir":t==="completed"?"termine":"annule"}`})]}):s.map(x=>{const E=g(x),O=y(x);return i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4",children:[i.jsxs("div",{className:"flex justify-between items-start mb-3",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:x.service_nom}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:x.prestataire_nom})]}),i.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium text-white",style:{backgroundColor:E},children:O})]}),i.jsxs("div",{className:"space-y-2 mb-4",children:[i.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400",children:[i.jsx(jt,{className:"w-4 h-4"}),i.jsx("span",{children:j(x.date_reservation)})]}),i.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400",children:[i.jsx(rr,{className:"w-4 h-4"}),i.jsxs("span",{children:[x.heure_debut," - ",x.heure_fin]})]}),!x.a_domicile&&x.prestataire_adresse&&i.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400",children:[i.jsx(vr,{className:"w-4 h-4"}),i.jsx("span",{children:x.prestataire_adresse})]}),x.a_domicile&&x.adresse_rdv&&i.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400",children:[i.jsx(vr,{className:"w-4 h-4"}),i.jsxs("span",{children:[" domicile - ",x.adresse_rdv]})]}),x.prestataire_telephone&&i.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400",children:[i.jsx(ds,{className:"w-4 h-4"}),i.jsx("span",{children:x.prestataire_telephone})]})]}),i.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-200 dark:border-gray-700",children:[i.jsxs("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[x.prix_final.toLocaleString()," ",x.devise]}),i.jsxs("div",{className:"flex space-x-2",children:[O==="terminee"&&i.jsxs("button",{onClick:()=>N(x),className:"flex items-center space-x-1 px-3 py-1 bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-200 rounded-full text-sm font-medium hover:bg-yellow-200 dark:hover:bg-yellow-800 transition-colors",children:[i.jsx(pt,{className:"w-4 h-4"}),i.jsx("span",{children:"Noter"})]}),["en_attente","confirmee","acceptee"].includes(O)&&i.jsxs(i.Fragment,{children:[i.jsxs("button",{onClick:()=>k(x),className:"flex items-center space-x-1 px-3 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded-full text-sm font-medium hover:bg-blue-200 dark:hover:bg-blue-800 transition-colors",children:[i.jsx(th,{className:"w-4 h-4"}),i.jsx("span",{children:"Contacter"})]}),i.jsx("button",{onClick:()=>S(x.id),className:"px-3 py-1 bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200 rounded-full text-sm font-medium hover:bg-red-200 dark:hover:bg-red-800 transition-colors",children:"Annuler"})]})]})]}),x.notes_client&&i.jsx("div",{className:"mt-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[i.jsx("span",{className:"font-medium",children:"Note : "}),x.notes_client]})})]},x.id)})})]}),i.jsx(q2,{isOpen:m.isOpen,onClose:C,reservation:m.reservation,onSuccess:b})]})}function G2({publicationId:e,onClose:t,onCommentAdded:r}){const{user:s}=Qe(),[a,l]=w.useState([]),[d,u]=w.useState(""),[f,m]=w.useState(!0);w.useEffect(()=>{(async()=>{try{m(!0);const j=await G.publications.getComments(e);l(j)}catch(j){console.error("Erreur de chargement des commentaires",j)}finally{m(!1)}})()},[e]);const v=async()=>{if(d.trim())try{const y=await G.publications.addComment(e,d);l(j=>[...j,y]),u(""),r()}catch(y){console.error("Erreur lors de l'ajout du commentaire",y)}},g=y=>{const j=new Date,S=new Date(y),N=Math.floor((j.getTime()-S.getTime())/(1e3*60));return N<1?" l'instant":N<60?`${N}min`:N<1440?`${Math.floor(N/60)}h`:`${Math.floor(N/1440)}j`};return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:t,children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl w-full max-w-md max-h-[80vh] flex flex-col",onClick:y=>y.stopPropagation(),children:[i.jsx("div",{className:"sticky top-0 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Commentaires"}),i.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",children:""})]})}),i.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:f?i.jsx("div",{className:"text-center text-gray-500",children:"Chargement..."}):a.length===0?i.jsx("div",{className:"text-center text-gray-500",children:"Aucun commentaire. Soyez le premier !"}):a.map(y=>{var j,S;return i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden flex-shrink-0",children:y.photo_profil?i.jsx("img",{src:y.photo_profil,alt:`${y.client_prenom} ${y.client_nom}`,className:"w-full h-full object-cover"}):i.jsxs("div",{className:"w-full h-full bg-gradient-to-br from-gray-400 to-gray-600 flex items-center justify-center text-white text-xs font-semibold",children:[(j=y.client_prenom)==null?void 0:j[0],(S=y.client_nom)==null?void 0:S[0]]})}),i.jsxs("div",{className:"flex-1 bg-gray-100 dark:bg-gray-700 rounded-lg p-2",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs("span",{className:"font-semibold text-sm text-gray-900 dark:text-white",children:[y.client_prenom," ",y.client_nom]}),i.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:g(y.created_at)})]}),i.jsx("p",{className:"text-sm text-gray-800 dark:text-gray-200 mt-1",children:y.contenu})]})]},y.id)})}),i.jsx("div",{className:"sticky bottom-0 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 p-4",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"text",value:d,onChange:y=>u(y.target.value),onKeyPress:y=>y.key==="Enter"&&v(),placeholder:"Ajouter un commentaire...",className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-full focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),i.jsx("button",{onClick:v,disabled:!d.trim(),className:"p-2 bg-blue-600 text-white rounded-full hover:bg-blue-700 disabled:bg-blue-400 transition-colors",children:i.jsx(Pg,{className:"w-5 h-5"})})]})})]})})}function Wm(){const e=zr(),{user:t}=Qe(),{addNotification:r}=rt(),[s,a]=w.useState(!1),[l,d]=w.useState({description:"",photos:[],videos:[],prestataire_id:0,service_id:0}),[u,f]=w.useState([]),[m,v]=w.useState(!0),[g,y]=w.useState(null),[j,S]=w.useState([]),[N,C]=w.useState([]),[b,k]=w.useState(""),[x,E]=w.useState(!1),[O,M]=w.useState([]),[F,A]=w.useState(null),[Y,J]=w.useState(!1),[q,ie]=w.useState(null);w.useEffect(()=>{let I=!0;return(async()=>{try{v(!0);const[X,z]=await Promise.all([G.publications.list(),G.getPrestataires()]);if(!I)return;console.log("Publications reues du backend:",X),f(X),S(z)}catch(X){I&&y(X.message||"Erreur de chargement")}finally{I&&v(!1)}})(),()=>{I=!1}},[]);const ke=async I=>{try{const X=await G.getServices({prestataire_id:I});C(X)}catch{}},pe=async(I,X)=>{f(z=>z.map(U=>U.id===I?{...U,liked:!U.liked,nombre_likes:U.liked?U.nombre_likes-1:U.nombre_likes+1}:U));try{X?await G.publications.unlike(I):await G.publications.like(I)}catch{f(U=>U.map(ae=>ae.id===I?{...ae,liked:ae.liked,nombre_likes:ae.liked?ae.nombre_likes+1:ae.nombre_likes-1}:ae)),r({id:Date.now(),user_id:t==null?void 0:t.id,titre:"Erreur",message:"Impossible de mettre  jour le like.",type:"error",is_read:!1,created_at:new Date().toISOString()})}},Z=(I,X)=>{const z=`${window.location.origin}/publication/${I}`,U="Dcouvrez cette publication sur PrestaCI";switch(X){case"whatsapp":window.open(`https://wa.me/?text=${encodeURIComponent(U+" "+z)}`,"_blank");break;case"facebook":window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(z)}`,"_blank");break;case"twitter":window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(U)}&url=${encodeURIComponent(z)}`,"_blank");break;case"copy":navigator.clipboard.writeText(z),J(!0),setTimeout(()=>J(!1),2e3);break}A(null)},oe=async()=>{if(!(!l.description||!l.prestataire_id))try{await G.publications.create({prestataire_id:l.prestataire_id,service_id:l.service_id||void 0,description:l.description,photos:l.photos,videos:l.videos}),a(!1),d({description:"",photos:[],videos:[],prestataire_id:0,service_id:0}),k(""),M([]);const I=await G.publications.list();f(I),r({id:Date.now(),user_id:t==null?void 0:t.id,titre:"Publication cre",message:"Votre publication a t partage avec succs !",type:"success",is_read:!1,created_at:new Date().toISOString()})}catch(I){y(I.message||"Erreur de cration")}},ye=I=>{k(I),I.startsWith("@")&&I.length>1?E(!0):E(!1)},W=I=>{k(`@${I.nom_commercial}`),d({...l,prestataire_id:I.id,service_id:0}),E(!1),ke(I.id)},Q=j.filter(I=>{if(!b.startsWith("@")||b.length<2)return!1;const X=b.slice(1).toLowerCase();return I.nom_commercial.toLowerCase().includes(X)}),$=I=>new Promise((X,z)=>{const U=new FileReader;U.onload=ae=>{var Ce;const we=new Image;we.onload=()=>{const Ye=document.createElement("canvas");let Le=we.width,Re=we.height;const Ge=1200;(Le>Ge||Re>Ge)&&(Le>Re?(Re=Re/Le*Ge,Le=Ge):(Le=Le/Re*Ge,Re=Ge)),Ye.width=Le,Ye.height=Re;const st=Ye.getContext("2d");st==null||st.drawImage(we,0,0,Le,Re);const dt=Ye.toDataURL("image/jpeg",.7);X(dt)},we.onerror=z,we.src=(Ce=ae.target)==null?void 0:Ce.result},U.onerror=z,U.readAsDataURL(I)}),se=I=>new Promise((X,z)=>{const U=new FileReader;U.readAsDataURL(I),U.onload=()=>X(U.result),U.onerror=ae=>z(ae)}),he=async I=>{if(I.target.files){const X=Array.from(I.target.files);M(X);try{const z=X.filter(Ce=>Ce.type.startsWith("image/")),U=X.filter(Ce=>Ce.type.startsWith("video/")),ae=await Promise.all(z.map($)),we=await Promise.all(U.map(se));d(Ce=>({...Ce,photos:ae,videos:we}))}catch(z){console.error("Erreur lors du traitement des fichiers:",z),r({id:Date.now(),user_id:t==null?void 0:t.id,titre:"Erreur de fichier",message:"Un problme est survenu lors du traitement de vos fichiers.",type:"error",is_read:!1,created_at:new Date().toISOString()})}}},Se=I=>{const X=new Date,z=new Date(I),U=Math.floor((X.getTime()-z.getTime())/(1e3*60));return U<1?" l'instant":U<60?`${U}min`:U<1440?`${Math.floor(U/60)}h`:`${Math.floor(U/1440)}j`};return i.jsxs(i.Fragment,{children:[Y&&i.jsxs("div",{className:"fixed top-20 left-1/2 transform -translate-x-1/2 bg-gray-900 dark:bg-gray-100 text-white dark:text-gray-900 px-4 py-2 rounded-lg shadow-lg z-50 flex items-center space-x-2",children:[i.jsx(Mt,{className:"w-4 h-4"}),i.jsx("span",{children:"Lien copi !"})]}),i.jsxs("div",{className:"max-w-md mx-auto",onClick:()=>A(null),children:[i.jsx("div",{className:"sticky top-0 z-10 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700 p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Publications"}),i.jsxs("button",{onClick:()=>a(!0),className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-full text-sm font-medium transition-colors",children:[i.jsx(ma,{className:"w-4 h-4"}),i.jsx("span",{children:"Publier"})]})]})}),i.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:m?i.jsx("div",{className:"p-4 text-gray-500",children:"Chargement..."}):g?i.jsx("div",{className:"p-4 text-red-600",children:g}):u.length===0?i.jsx("div",{className:"p-4 text-gray-500",children:"Aucune publication"}):u.filter(I=>I.is_visible!==!1).map(I=>{var z,U,ae,we,Ce,Ye,Le,Re,Ge,st;const X=I.service_nom?{nom:I.service_nom}:null;return i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"flex items-start space-x-3 mb-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden flex-shrink-0",children:I.photo_profil?i.jsx("img",{src:I.photo_profil,alt:`${I.client_prenom} ${I.client_nom}`,className:"w-full h-full object-cover"}):i.jsxs("div",{className:"w-full h-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white text-sm font-semibold",children:[(z=I.client_prenom)==null?void 0:z[0],(U=I.client_nom)==null?void 0:U[0]]})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white text-sm",children:[I.client_prenom," ",I.client_nom]}),i.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-sm",children:""}),i.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-sm",children:Se(I.created_at)})]}),I.prestataire_nom&&i.jsxs("button",{onClick:()=>e(`/prestataires/${I.prestataire_id}`),className:"flex items-center space-x-1 mt-1 group",children:[i.jsx(vr,{className:"w-3 h-3 text-gray-400 group-hover:text-blue-500"}),i.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 group-hover:text-blue-500 group-hover:underline",children:["chez ",I.prestataire_nom]})]})]})]}),i.jsx("p",{className:"text-gray-900 dark:text-white mb-3 text-sm leading-relaxed",children:I.description}),X&&i.jsxs("button",{onClick:()=>e(`/services/${I.service_id}`),className:"flex items-center space-x-2 mb-3 p-2 bg-blue-50 dark:bg-blue-900/20 rounded-lg w-full text-left hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors",children:[i.jsx(Mg,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),i.jsx("span",{className:"text-sm text-blue-600 dark:text-blue-400 font-medium",children:X.nom})]}),(((ae=I.photos)==null?void 0:ae.length)>0||((we=I.videos)==null?void 0:we.length)>0)&&i.jsxs("div",{className:"mb-3 rounded-xl overflow-hidden bg-gray-100 dark:bg-gray-800",children:[((Ce=I.photos)==null?void 0:Ce.length)===1&&!((Ye=I.videos)!=null&&Ye.length)&&i.jsx("img",{src:I.photos[0],alt:"Publication",className:"w-full h-auto"}),((Le=I.videos)==null?void 0:Le.length)===1&&!((Re=I.photos)!=null&&Re.length)&&i.jsx("video",{src:I.videos[0],controls:!0,className:"w-full h-auto"}),((Ge=I.photos)==null?void 0:Ge.length)+((st=I.videos)==null?void 0:st.length)>1&&(()=>{const dt=I.photos||[],Ut=[...(I.videos||[]).map(wt=>({type:"video",src:wt})),...dt.map(wt=>({type:"photo",src:wt}))],Ln=Ut.slice(0,4);return i.jsx("div",{className:"grid grid-cols-2 gap-1",children:Ln.map((wt,nr)=>i.jsxs("div",{className:"relative aspect-square bg-black",children:[wt.type==="photo"?i.jsx("img",{src:wt.src,alt:`Mdia ${nr+1}`,className:"w-full h-full object-cover"}):i.jsx("video",{src:wt.src,className:"w-full h-full object-cover"}),wt.type==="video"&&i.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-30 pointer-events-none",children:i.jsx(km,{className:"w-10 h-10 text-white"})}),nr===3&&Ut.length>4&&i.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:i.jsxs("span",{className:"text-white font-semibold",children:["+",Ut.length-4]})})]},nr))})})()]}),i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center space-x-6",children:[i.jsxs("button",{onClick:()=>pe(I.id,I.liked),className:`flex items-center space-x-2 ${I.liked?"text-red-500":"text-gray-600 dark:text-gray-400 hover:text-red-500"} transition-colors`,children:[i.jsx(gn,{className:`w-5 h-5 ${I.liked?"fill-red-500":""}`}),i.jsx("span",{className:"text-sm",children:I.nombre_likes})]}),i.jsxs("button",{onClick:()=>ie(I.id),className:"flex items-center space-x-2 text-gray-600 dark:text-gray-400 hover:text-blue-500 transition-colors",children:[i.jsx(th,{className:"w-5 h-5"}),i.jsx("span",{className:"text-sm",children:I.nombre_commentaires||0})]}),i.jsxs("div",{className:"relative",children:[i.jsx("button",{onClick:dt=>{dt.stopPropagation(),A(F===I.id?null:I.id)},className:"flex items-center space-x-2 text-gray-600 dark:text-gray-400 hover:text-green-500 transition-colors",children:i.jsx(I_,{className:"w-5 h-5"})}),F===I.id&&i.jsxs("div",{className:"fixed inset-x-4 bottom-20 sm:absolute sm:bottom-full sm:right-0 sm:left-auto sm:inset-x-auto sm:mb-2 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 py-2 sm:min-w-[200px] z-50",children:[i.jsxs("button",{onClick:()=>Z(I.id,"whatsapp"),className:"w-full px-4 py-2 text-left hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center space-x-3 text-gray-700 dark:text-gray-300",children:[i.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})}),i.jsx("span",{children:"WhatsApp"})]}),i.jsxs("button",{onClick:()=>Z(I.id,"facebook"),className:"w-full px-4 py-2 text-left hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center space-x-3 text-gray-700 dark:text-gray-300",children:[i.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),i.jsx("span",{children:"Facebook"})]}),i.jsxs("button",{onClick:()=>Z(I.id,"twitter"),className:"w-full px-4 py-2 text-left hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center space-x-3 text-gray-700 dark:text-gray-300",children:[i.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})}),i.jsx("span",{children:"Twitter"})]}),i.jsxs("button",{onClick:()=>Z(I.id,"copy"),className:"w-full px-4 py-2 text-left hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center space-x-3 text-gray-700 dark:text-gray-300",children:[i.jsx(E_,{className:"w-5 h-5"}),i.jsx("span",{children:"Copier le lien"})]})]})]})]})})]},I.id)})}),q&&i.jsx(G2,{publicationId:q,onClose:()=>ie(null),onCommentAdded:()=>{f(I=>I.map(X=>X.id===q?{...X,nombre_commentaires:(X.nombre_commentaires||0)+1}:X))}}),s&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:[i.jsx("div",{className:"sticky top-0 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Nouvelle publication"}),i.jsx("button",{onClick:()=>a(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",children:""})]})}),i.jsxs("div",{className:"p-4 space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description *"}),i.jsx("textarea",{value:l.description,onChange:I=>d({...l,description:I.target.value}),placeholder:"Partagez votre exprience...",rows:4,className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-none"})]}),i.jsxs("div",{className:"relative",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Prestataire *"}),i.jsx("input",{type:"text",value:b,onChange:I=>ye(I.target.value),placeholder:"Tapez @ pour taguer un prestataire...",className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),x&&Q.length>0&&i.jsx("div",{className:"absolute z-[100] w-full mt-1 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg shadow-xl max-h-48 overflow-y-auto",children:Q.map(I=>i.jsxs("button",{type:"button",onClick:()=>W(I),className:"w-full text-left px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 text-gray-900 dark:text-white transition-colors border-b border-gray-100 dark:border-gray-600 last:border-b-0",children:[i.jsx("div",{className:"font-medium",children:I.nom_commercial}),I.ville&&i.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:I.ville})]},I.id))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Service (optionnel)"}),i.jsxs("select",{value:l.service_id,onChange:I=>d({...l,service_id:parseInt(I.target.value)}),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",disabled:!l.prestataire_id,children:[i.jsx("option",{value:0,children:"Aucun service spcifique"}),N.map(I=>i.jsx("option",{value:I.id,children:I.nom},I.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Photos"}),i.jsx("input",{type:"file",id:"photo-upload",multiple:!0,accept:"image/*,video/*",onChange:he,className:"hidden"}),i.jsxs("label",{htmlFor:"photo-upload",className:"block border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-6 text-center hover:border-gray-400 dark:hover:border-gray-500 transition-colors cursor-pointer",children:[i.jsx(Ml,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:O.length>0?`${O.length} photo(s) slectionne(s)`:"Cliquez pour ajouter des photos"}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"Formats accepts: JPG, PNG, MP4, MOV"})]}),(l.photos.length>0||l.videos.length>0)&&i.jsxs("div",{className:"mt-3 grid grid-cols-3 gap-2",children:[l.photos.map((I,X)=>i.jsx("div",{className:"relative aspect-square rounded-lg overflow-hidden bg-gray-100 dark:bg-gray-700",children:i.jsx("img",{src:I,alt:`Preview ${X+1}`,className:"w-full h-full object-cover"})},`photo-${X}`)),l.videos.map((I,X)=>i.jsxs("div",{className:"relative aspect-square rounded-lg overflow-hidden bg-black flex items-center justify-center",children:[i.jsx("video",{src:I,className:"w-full h-full object-cover"}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-30",children:i.jsx(km,{className:"w-8 h-8 text-white"})})]},`video-${X}`))]})]}),i.jsxs("div",{className:"flex space-x-3 pt-4",children:[i.jsx("button",{onClick:()=>a(!1),className:"flex-1 px-4 py-3 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Annuler"}),i.jsx("button",{onClick:oe,disabled:!l.description||!l.prestataire_id,className:"flex-1 px-4 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white rounded-lg transition-colors",children:"Publier"})]})]})]})})]})]})}function $m(){const{user:e}=Qe(),{addNotification:t}=rt(),[r,s]=w.useState("providers"),[a,l]=w.useState([]),[d,u]=w.useState([]),[f,m]=w.useState([]),[v,g]=w.useState(!0),[y,j]=w.useState(null),[S,N]=w.useState(null),[C,b]=w.useState([]),[k,x]=w.useState(!1),[E,O]=w.useState(!1),[M,F]=w.useState(null),A=async()=>{try{g(!0);const[Z,oe,ye]=await Promise.all([G.favorites.listProviders(),G.favorites.listServices(),G.favorites.listPublications()]);l(Z),u(oe),m(ye)}catch(Z){j(Z.message||"Erreur de chargement")}finally{g(!1)}};w.useEffect(()=>{A()},[]);const Y=async Z=>{try{await G.favorites.removeProvider(Z),l(oe=>oe.filter(ye=>ye.id!==Z)),t({id:Date.now(),user_id:e==null?void 0:e.id,titre:"Favori supprim",message:"Prestataire retir de vos favoris",type:"info",is_read:!1,created_at:new Date().toISOString()})}catch(oe){j(oe.message||"Erreur suppression favori")}},J=async Z=>{try{await G.favorites.removeService(Z),u(oe=>oe.filter(ye=>ye.id!==Z)),t({id:Date.now(),user_id:e==null?void 0:e.id,titre:"Favori supprim",message:"Service retir de vos favoris",type:"info",is_read:!1,created_at:new Date().toISOString()})}catch(oe){j(oe.message||"Erreur suppression favori")}},q=async Z=>{try{await G.favorites.removePublication(Z),m(oe=>oe.filter(ye=>ye.id!==Z)),t({id:Date.now(),user_id:e==null?void 0:e.id,titre:"Favori supprim",message:"Publication retire de vos favoris",type:"info",is_read:!1,created_at:new Date().toISOString()})}catch(oe){j(oe.message||"Erreur suppression favori")}},ie=async Z=>{try{x(!0);const oe=await G.getServices({prestataire_id:Z});b(oe)}catch(oe){j(oe.message||"Erreur de chargement des services")}finally{x(!1)}},ke=Z=>{N(Z),ie(Z.id)},pe=()=>{N(null),b([])};return S?i.jsxs(i.Fragment,{children:[E&&M&&i.jsx(dl,{service:M,onClose:()=>O(!1),onReservationSuccess:()=>{t({id:Date.now(),titre:"Rservation confirme",message:`Votre rservation pour ${M.nom} est en attente de confirmation.`,type:"success"})}}),i.jsx("div",{className:"p-4 space-y-6 max-w-md mx-auto",children:i.jsxs("div",{children:[i.jsxs("button",{onClick:pe,className:"flex items-center space-x-2 text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 mb-4",children:[i.jsx(N_,{className:"w-5 h-5"}),i.jsx("span",{children:"Retour aux favoris"})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden mb-6",children:[i.jsx("div",{className:"relative",children:Array.isArray(S.photos_etablissement)&&S.photos_etablissement[0]&&i.jsx("img",{src:S.photos_etablissement[0],alt:S.nom_commercial,className:"w-full h-48 object-cover"})}),i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:S.nom_commercial}),i.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-600 dark:text-gray-400 mt-1",children:[i.jsx(vr,{className:"w-4 h-4"}),i.jsx("span",{children:S.ville})]})]}),S.is_verified&&i.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200",children:"Vrifi"})]}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:S.bio}),i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx(pt,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),i.jsx("span",{className:"text-sm font-medium",children:parseFloat(S.note_moyenne??0).toFixed(1)}),i.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["(",S.nombre_avis??0," avis)"]})]})]})]}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Services proposs"}),k?i.jsx("div",{className:"text-center py-8 text-gray-500",children:"Chargement des services..."}):C.length===0?i.jsx("div",{className:"text-center py-8 text-gray-500",children:"Aucun service disponible"}):i.jsx("div",{className:"space-y-4",children:C.map(Z=>i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4",children:[i.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:Z.nom}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:Z.description}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[i.jsxs("span",{className:"font-semibold text-blue-600 dark:text-blue-400",children:[(Z.prix??0).toLocaleString()," ",Z.devise||"FCFA"]}),i.jsxs("div",{className:"flex items-center space-x-1 text-gray-500 dark:text-gray-400",children:[i.jsx(rr,{className:"w-4 h-4"}),i.jsxs("span",{children:[Z.duree_minutes,"min"]})]})]}),i.jsx("button",{onClick:()=>{console.log("CLICKED: Reserve button for provider service",Z),F(Z),O(!0)},className:"px-3 py-1.5 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded-lg transition-colors",children:"Rserver"})]})]},Z.id))})]})})]}):i.jsxs(i.Fragment,{children:[E&&M&&i.jsx(dl,{service:M,onClose:()=>O(!1),onReservationSuccess:()=>{t({id:Date.now(),titre:"Rservation confirme",message:`Votre rservation pour ${M.nom} est en attente de confirmation.`,type:"success"})}}),i.jsx("div",{className:"p-4 space-y-6 max-w-md mx-auto",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"Mes favoris"}),i.jsxs("div",{className:"flex space-x-1 mb-6 bg-gray-100 dark:bg-gray-800 rounded-lg p-1",children:[i.jsxs("button",{onClick:()=>s("providers"),className:`flex-1 py-2 px-3 rounded-md text-xs font-medium transition-colors ${r==="providers"?"bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:["Prestataires (",a.length,")"]}),i.jsxs("button",{onClick:()=>s("services"),className:`flex-1 py-2 px-3 rounded-md text-xs font-medium transition-colors ${r==="services"?"bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:["Services (",d.length,")"]}),i.jsxs("button",{onClick:()=>s("publications"),className:`flex-1 py-2 px-3 rounded-md text-xs font-medium transition-colors ${r==="publications"?"bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:["Publications (",f.length,")"]})]}),r==="providers"&&i.jsx("div",{className:"space-y-4",children:v?i.jsx("div",{className:"text-center py-12 text-gray-500",children:"Chargement..."}):y?i.jsx("div",{className:"text-center py-12 text-red-600",children:y}):a.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(gn,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Aucun prestataire favori"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Ajoutez des prestataires  vos favoris pour les retrouver facilement"})]}):a.map(Z=>i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[i.jsxs("div",{className:"relative",children:[Array.isArray(Z.photos_etablissement)&&Z.photos_etablissement[0]&&i.jsx("img",{src:Z.photos_etablissement[0],alt:Z.nom_commercial,className:"w-full h-32 object-cover"}),i.jsx("button",{onClick:()=>Y(Z.id),className:"absolute top-3 right-3 p-2 bg-white dark:bg-gray-800 rounded-full shadow-md hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:i.jsx(xn,{className:"w-4 h-4 text-red-500"})})]}),i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:Z.nom_commercial}),i.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-600 dark:text-gray-400 mt-1",children:[i.jsx(vr,{className:"w-4 h-4"}),i.jsx("span",{children:Z.ville})]})]}),Z.is_verified&&i.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200",children:"Vrifi"})]}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3 line-clamp-2",children:Z.bio}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx(pt,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),i.jsx("span",{className:"text-sm font-medium",children:parseFloat(Z.note_moyenne??0).toFixed(1)}),i.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["(",Z.nombre_avis??0," avis)"]})]}),i.jsx("button",{onClick:()=>ke(Z),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded-lg transition-colors",children:"Voir services"})]})]})]},Z.id))}),r==="services"&&i.jsx("div",{className:"space-y-4",children:v?i.jsx("div",{className:"text-center py-12 text-gray-500",children:"Chargement..."}):y?i.jsx("div",{className:"text-center py-12 text-red-600",children:y}):d.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(gn,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Aucun service favori"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Ajoutez des services  vos favoris pour les retrouver facilement"})]}):d.map(Z=>i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[i.jsxs("div",{className:"relative",children:[Array.isArray(Z.photos)&&Z.photos[0]&&i.jsx("img",{src:Z.photos[0],alt:Z.nom,className:"w-full h-32 object-cover"}),i.jsx("button",{onClick:()=>J(Z.id),className:"absolute top-3 right-3 p-2 bg-white dark:bg-gray-800 rounded-full shadow-md hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:i.jsx(xn,{className:"w-4 h-4 text-red-500"})})]}),i.jsxs("div",{className:"p-4",children:[i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:Z.nom}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:Z.description}),Z.prestataire_nom&&i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:["chez ",Z.prestataire_nom]}),i.jsx("div",{className:"flex items-center justify-between text-sm mb-3",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("span",{className:"font-semibold text-lg text-blue-600 dark:text-blue-400",children:[(Z.prix??0).toLocaleString()," ",Z.devise||"FCFA"]}),i.jsxs("div",{className:"flex items-center space-x-1 text-gray-500 dark:text-gray-400",children:[i.jsx(rr,{className:"w-4 h-4"}),i.jsxs("span",{children:[Z.duree_minutes,"min"]})]})]})}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx(pt,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),i.jsx("span",{className:"text-sm font-medium",children:(Z.note_moyenne??0).toFixed(1)}),i.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["(",Z.nombre_avis??0," avis)"]})]}),i.jsx("button",{onClick:()=>{console.log("CLICKED: Reserve button for favorite service",Z),F(Z),O(!0)},className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded-lg transition-colors",children:"Rserver"})]})]})]},Z.id))}),r==="publications"&&i.jsx("div",{className:"space-y-4",children:v?i.jsx("div",{className:"text-center py-12 text-gray-500",children:"Chargement..."}):y?i.jsx("div",{className:"text-center py-12 text-red-600",children:y}):f.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(gn,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Aucune publication favorite"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Ajoutez des publications  vos favoris pour les retrouver facilement"})]}):f.map(Z=>{var oe,ye;return i.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"flex items-start space-x-3 mb-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden flex-shrink-0",children:Z.photo_profil?i.jsx("img",{src:Z.photo_profil,alt:`${Z.client_prenom} ${Z.client_nom}`,className:"w-full h-full object-cover"}):i.jsxs("div",{className:"w-full h-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white text-sm font-semibold",children:[(oe=Z.client_prenom)==null?void 0:oe[0],(ye=Z.client_nom)==null?void 0:ye[0]]})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white text-sm",children:[Z.client_prenom," ",Z.client_nom]}),Z.prestataire_nom&&Z.prestataire_id&&i.jsx("button",{onClick:async()=>{let W=a.find(Q=>Q.id===Z.prestataire_id);if(!W)try{W=(await G.getPrestataires()).find($=>$.id===Z.prestataire_id)}catch{}W&&ke(W)},className:"text-xs text-blue-600 dark:text-blue-400 hover:underline flex items-center space-x-1",children:i.jsxs("span",{children:["@",Z.prestataire_nom]})})]}),i.jsx("button",{onClick:()=>q(Z.id),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:i.jsx(xn,{className:"w-4 h-4 text-red-500"})})]}),i.jsx("p",{className:"text-sm text-gray-900 dark:text-white mb-3",children:Z.description}),Array.isArray(Z.photos)&&Z.photos.length>0&&i.jsx("div",{className:"mb-3 rounded-xl overflow-hidden",children:Z.photos.length===1?i.jsx("img",{src:Z.photos[0],alt:"Publication",className:"w-full h-48 object-cover"}):i.jsx("div",{className:"grid grid-cols-2 gap-1",children:Z.photos.slice(0,4).map((W,Q)=>i.jsx("img",{src:W,alt:`Publication ${Q+1}`,className:"w-full h-32 object-cover"},Q))})}),i.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-500 dark:text-gray-400",children:[i.jsx(gn,{className:`w-4 h-4 ${Z.liked?"fill-red-500 text-red-500":""}`}),i.jsxs("span",{children:[Z.nombre_likes," j'aime"]})]})]})},Z.id)})})]})})]})}function ux({onBack:e}){const{user:t}=Qe(),{addNotification:r}=rt(),[s,a]=w.useState({profileVisibility:"public",showPhone:!1,showEmail:!1,showLocation:!0,allowMessages:!0,allowNotifications:!0,showActivity:!0,dataSharing:!1}),[l,d]=w.useState(!1),u=async()=>{d(!0),setTimeout(()=>{d(!1),r({id:Date.now(),user_id:t==null?void 0:t.id,titre:"Paramtres sauvegards",message:"Vos prfrences de confidentialit ont t mises  jour",type:"success",is_read:!1,created_at:new Date().toISOString()}),e()},500)},f=({enabled:m,onChange:v})=>i.jsx("button",{onClick:v,className:`w-12 h-6 rounded-full transition-colors ${m?"bg-blue-600":"bg-gray-300 dark:bg-gray-600"} relative`,children:i.jsx("div",{className:`w-5 h-5 bg-white rounded-full absolute top-0.5 transition-transform ${m?"translate-x-6":"translate-x-0.5"}`})});return i.jsxs("div",{className:"max-w-md mx-auto pb-20",children:[i.jsx("div",{className:"sticky top-0 z-10 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700 p-4",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors",children:i.jsx(ja,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Confidentialit"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Grez vos paramtres de confidentialit"})]})]})}),i.jsxs("div",{className:"p-4 space-y-4",children:[i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[i.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center",children:i.jsx(Na,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Visibilit du profil"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Qui peut voir votre profil"})]})]}),i.jsx("div",{className:"space-y-2",children:[{value:"public",label:"Public",desc:"Tout le monde peut voir votre profil"},{value:"contacts",label:"Contacts uniquement",desc:"Seuls vos contacts peuvent voir votre profil"},{value:"private",label:"Priv",desc:"Personne ne peut voir votre profil"}].map(m=>i.jsxs("label",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer transition-colors",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:m.label}),i.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:m.desc})]}),i.jsx("input",{type:"radio",name:"visibility",value:m.value,checked:s.profileVisibility===m.value,onChange:v=>a({...s,profileVisibility:v.target.value}),className:"w-4 h-4 text-blue-600"})]},m.value))})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[i.jsx("div",{className:"w-10 h-10 bg-purple-100 dark:bg-purple-900/30 rounded-full flex items-center justify-center",children:i.jsx(al,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Informations personnelles"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Contrlez vos donnes visibles"})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(ds,{className:"w-5 h-5 text-gray-400"}),i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Afficher mon tlphone"})]}),i.jsx(f,{enabled:s.showPhone,onChange:()=>a({...s,showPhone:!s.showPhone})})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(cs,{className:"w-5 h-5 text-gray-400"}),i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Afficher mon email"})]}),i.jsx(f,{enabled:s.showEmail,onChange:()=>a({...s,showEmail:!s.showEmail})})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(vr,{className:"w-5 h-5 text-gray-400"}),i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Afficher ma localisation"})]}),i.jsx(f,{enabled:s.showLocation,onChange:()=>a({...s,showLocation:!s.showLocation})})]})]})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[i.jsx("div",{className:"w-10 h-10 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center",children:i.jsx(qs,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Communications"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Grez vos interactions"})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(qs,{className:"w-5 h-5 text-gray-400"}),i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Autoriser les messages"})]}),i.jsx(f,{enabled:s.allowMessages,onChange:()=>a({...s,allowMessages:!s.allowMessages})})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(is,{className:"w-5 h-5 text-gray-400"}),i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Recevoir les notifications"})]}),i.jsx(f,{enabled:s.allowNotifications,onChange:()=>a({...s,allowNotifications:!s.allowNotifications})})]})]})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[i.jsx("div",{className:"w-10 h-10 bg-orange-100 dark:bg-orange-900/30 rounded-full flex items-center justify-center",children:i.jsx(ll,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Activit et donnes"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Contrlez vos donnes"})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(El,{className:"w-5 h-5 text-gray-400"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-gray-900 dark:text-white",children:"Afficher mon activit"}),i.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Publications, likes, commentaires"})]})]}),i.jsx(f,{enabled:s.showActivity,onChange:()=>a({...s,showActivity:!s.showActivity})})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(ll,{className:"w-5 h-5 text-gray-400"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-gray-900 dark:text-white",children:"Partage de donnes"}),i.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Amliorer les recommandations"})]})]}),i.jsx(f,{enabled:s.dataSharing,onChange:()=>a({...s,dataSharing:!s.dataSharing})})]})]})]}),i.jsxs("div",{className:"flex space-x-3 pt-4",children:[i.jsx("button",{onClick:e,className:"flex-1 px-4 py-3 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Annuler"}),i.jsx("button",{onClick:u,disabled:l,className:`flex-1 px-4 py-3 rounded-lg transition-colors text-white ${l?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:l?"Enregistrement...":"Sauvegarder"})]})]})]})}function hx({onBack:e}){const{user:t}=Qe(),{showToast:r}=rt(),[s,a]=w.useState({push_enabled:!0,email_enabled:!0,sms_enabled:!1,new_reservation:!0,reservation_confirmed:!0,reservation_cancelled:!0,new_publication:!1,new_like:!1,new_comment:!1,new_follower:!1,promotions:!0,tips:!0}),[l,d]=w.useState(!1),[u,f]=w.useState(!0);w.useEffect(()=>{(async()=>{try{f(!0);const j=await G.notificationPreferences.get();a({push_enabled:!!j.push_enabled,email_enabled:!!j.email_enabled,sms_enabled:!!j.sms_enabled,new_reservation:!!j.new_reservation,reservation_confirmed:!!j.reservation_confirmed,reservation_cancelled:!!j.reservation_cancelled,new_publication:!!j.new_publication,new_like:!!j.new_like,new_comment:!!j.new_comment,new_follower:!!j.new_follower,promotions:!!j.promotions,tips:!!j.tips})}catch(j){r("Erreur de chargement des prfrences","error"),console.error("Erreur chargement prfrences:",j)}finally{f(!1)}})()},[]);const m=async()=>{try{d(!0),(await G.notificationPreferences.update(s)).ok?(r("Prfrences sauvegardes avec succs","success"),e()):r("Erreur lors de la sauvegarde","error")}catch(y){r("Erreur lors de la sauvegarde","error"),console.error("Erreur sauvegarde prfrences:",y)}finally{d(!1)}},v=async()=>{if(confirm("tes-vous sr de vouloir rinitialiser toutes les prfrences aux valeurs par dfaut ?"))try{d(!0);const y=await G.notificationPreferences.reset();y.ok&&y.preferences?(a({push_enabled:!!y.preferences.push_enabled,email_enabled:!!y.preferences.email_enabled,sms_enabled:!!y.preferences.sms_enabled,new_reservation:!!y.preferences.new_reservation,reservation_confirmed:!!y.preferences.reservation_confirmed,reservation_cancelled:!!y.preferences.reservation_cancelled,new_publication:!!y.preferences.new_publication,new_like:!!y.preferences.new_like,new_comment:!!y.preferences.new_comment,new_follower:!!y.preferences.new_follower,promotions:!!y.preferences.promotions,tips:!!y.preferences.tips}),r("Prfrences rinitialises","success")):r("Erreur lors de la rinitialisation","error")}catch(y){r("Erreur lors de la rinitialisation","error"),console.error("Erreur rinitialisation prfrences:",y)}finally{d(!1)}},g=({enabled:y,onChange:j})=>i.jsx("button",{onClick:j,className:`w-12 h-6 rounded-full transition-colors ${y?"bg-blue-600":"bg-gray-300 dark:bg-gray-600"} relative`,children:i.jsx("div",{className:`w-5 h-5 bg-white rounded-full absolute top-0.5 transition-transform ${y?"translate-x-6":"translate-x-0.5"}`})});return u?i.jsx("div",{className:"max-w-md mx-auto pb-20",children:i.jsx("div",{className:"flex items-center justify-center py-20",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Chargement des prfrences..."})]})})}):i.jsxs("div",{className:"max-w-md mx-auto pb-20",children:[i.jsx("div",{className:"sticky top-0 z-10 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700 p-4",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors",children:i.jsx(ja,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Notifications"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Grez vos prfrences de notifications"})]})]})}),i.jsxs("div",{className:"p-4 space-y-4",children:[i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[i.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center",children:i.jsx(is,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Canaux de notification"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Comment recevoir les notifications"})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(R_,{className:"w-5 h-5 text-gray-400"}),i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Notifications push"})]}),i.jsx(g,{enabled:s.push_enabled,onChange:()=>a({...s,push_enabled:!s.push_enabled})})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(cs,{className:"w-5 h-5 text-gray-400"}),i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Email"})]}),i.jsx(g,{enabled:s.email_enabled,onChange:()=>a({...s,email_enabled:!s.email_enabled})})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(Ng,{className:"w-5 h-5 text-gray-400"}),i.jsx("span",{className:"text-gray-900 dark:text-white",children:"SMS"})]}),i.jsx(g,{enabled:s.sms_enabled,onChange:()=>a({...s,sms_enabled:!s.sms_enabled})})]})]})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[i.jsx("div",{className:"w-10 h-10 bg-purple-100 dark:bg-purple-900/30 rounded-full flex items-center justify-center",children:i.jsx(jt,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Rservations"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Notifications lies aux rservations"})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Nouvelle rservation"}),i.jsx(g,{enabled:s.new_reservation,onChange:()=>a({...s,new_reservation:!s.new_reservation})})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Rservation confirme"}),i.jsx(g,{enabled:s.reservation_confirmed,onChange:()=>a({...s,reservation_confirmed:!s.reservation_confirmed})})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Rservation annule"}),i.jsx(g,{enabled:s.reservation_cancelled,onChange:()=>a({...s,reservation_cancelled:!s.reservation_cancelled})})]})]})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[i.jsx("div",{className:"w-10 h-10 bg-pink-100 dark:bg-pink-900/30 rounded-full flex items-center justify-center",children:i.jsx(gn,{className:"w-5 h-5 text-pink-600 dark:text-pink-400"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Activit sociale"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Publications et interactions"})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Nouvelles publications"}),i.jsx(g,{enabled:s.new_publication,onChange:()=>a({...s,new_publication:!s.new_publication})})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Nouveaux likes"}),i.jsx(g,{enabled:s.new_like,onChange:()=>a({...s,new_like:!s.new_like})})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Nouveaux commentaires"}),i.jsx(g,{enabled:s.new_comment,onChange:()=>a({...s,new_comment:!s.new_comment})})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Nouveaux abonns"}),i.jsx(g,{enabled:s.new_follower,onChange:()=>a({...s,new_follower:!s.new_follower})})]})]})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[i.jsx("div",{className:"w-10 h-10 bg-orange-100 dark:bg-orange-900/30 rounded-full flex items-center justify-center",children:i.jsx(pt,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Autres"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Promotions et conseils"})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-gray-900 dark:text-white",children:"Promotions"}),i.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Offres spciales et rductions"})]}),i.jsx(g,{enabled:s.promotions,onChange:()=>a({...s,promotions:!s.promotions})})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-gray-900 dark:text-white",children:"Conseils et astuces"}),i.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Optimisez votre exprience"})]}),i.jsx(g,{enabled:s.tips,onChange:()=>a({...s,tips:!s.tips})})]})]})]}),i.jsxs("div",{className:"space-y-3 pt-4",children:[i.jsxs("button",{onClick:v,disabled:l,className:"w-full flex items-center justify-center space-x-2 px-4 py-3 border border-orange-300 dark:border-orange-600 text-orange-600 dark:text-orange-400 rounded-lg hover:bg-orange-50 dark:hover:bg-orange-900/20 transition-colors disabled:opacity-50",children:[i.jsx(D_,{className:"w-4 h-4"}),i.jsx("span",{children:"Rinitialiser aux valeurs par dfaut"})]}),i.jsxs("div",{className:"flex space-x-3",children:[i.jsx("button",{onClick:e,disabled:l,className:"flex-1 px-4 py-3 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors disabled:opacity-50",children:"Annuler"}),i.jsx("button",{onClick:m,disabled:l,className:`flex-1 px-4 py-3 rounded-lg transition-colors text-white ${l?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:l?"Enregistrement...":"Sauvegarder"})]})]})]})]})}function fx({onBack:e}){const{user:t}=Qe(),{addNotification:r}=rt(),[s,a]=w.useState(""),[l,d]=w.useState(""),[u,f]=w.useState(!1),m=async()=>{!l||!s||(f(!0),setTimeout(()=>{f(!1),d(""),a(""),r({id:Date.now(),user_id:t==null?void 0:t.id,titre:"Message envoy",message:"Notre quipe vous rpondra dans les 24h",type:"success",is_read:!1,created_at:new Date().toISOString()})},500))},v=[{question:"Comment rserver un service ?",answer:"Parcourez les services, slectionnez celui qui vous intresse, choisissez une date et confirmez votre rservation."},{question:"Comment annuler une rservation ?",answer:`Allez dans "Rservations", slectionnez la rservation et cliquez sur "Annuler". Les conditions d'annulation varient selon le prestataire.`},{question:"Comment devenir prestataire ?",answer:"Crez un compte, accdez  l'espace Pro et compltez votre profil professionnel avec vos services."},{question:"Les paiements sont-ils scuriss ?",answer:"Oui, tous les paiements sont scuriss via Wave et crypts selon les normes bancaires."}];return i.jsxs("div",{className:"max-w-md mx-auto pb-20",children:[i.jsx("div",{className:"sticky top-0 z-10 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700 p-4",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors",children:i.jsx(ja,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Aide & Support"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Nous sommes l pour vous aider"})]})]})}),i.jsxs("div",{className:"p-4 space-y-4",children:[i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4",children:[i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Nous contacter"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("a",{href:"mailto:support@prestaci.com",className:"flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center",children:i.jsx(cs,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:"Email"}),i.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"support@prestaci.com"})]})]}),i.jsx(Ss,{className:"w-4 h-4 text-gray-400"})]}),i.jsxs("a",{href:"tel:+2250707080809",className:"flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-10 h-10 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center",children:i.jsx(ds,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:"Tlphone"}),i.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"+225 07 07 08 08 09"})]})]}),i.jsx(Ss,{className:"w-4 h-4 text-gray-400"})]}),i.jsxs("a",{href:"https://wa.me/2250707080809",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-10 h-10 bg-emerald-100 dark:bg-emerald-900/30 rounded-full flex items-center justify-center",children:i.jsx(th,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"})}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:"WhatsApp"}),i.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Chat en direct"})]})]}),i.jsx(Ss,{className:"w-4 h-4 text-gray-400"})]})]})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[i.jsx("div",{className:"w-10 h-10 bg-purple-100 dark:bg-purple-900/30 rounded-full flex items-center justify-center",children:i.jsx(T_,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Questions frquentes"})]}),i.jsx("div",{className:"space-y-3",children:v.map((g,y)=>i.jsxs("details",{className:"group rounded-lg border border-gray-200 dark:border-gray-700",children:[i.jsx("summary",{className:"cursor-pointer p-3 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg transition-colors list-none",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:g.question}),i.jsx("svg",{className:"w-5 h-5 text-gray-400 transition-transform group-open:rotate-180",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})}),i.jsx("div",{className:"px-3 pb-3 text-sm text-gray-600 dark:text-gray-400",children:g.answer})]},y))})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[i.jsx("div",{className:"w-10 h-10 bg-orange-100 dark:bg-orange-900/30 rounded-full flex items-center justify-center",children:i.jsx(S_,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"})}),i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Documentation"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("a",{href:"#",className:"block p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Guide de dmarrage"}),i.jsx(Ss,{className:"w-4 h-4 text-gray-400"})]})}),i.jsx("a",{href:"#",className:"block p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Conditions d'utilisation"}),i.jsx(Ss,{className:"w-4 h-4 text-gray-400"})]})}),i.jsx("a",{href:"#",className:"block p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Politique de confidentialit"}),i.jsx(Ss,{className:"w-4 h-4 text-gray-400"})]})})]})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4",children:[i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Envoyer un message"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Sujet"}),i.jsx("input",{type:"text",value:l,onChange:g=>d(g.target.value),placeholder:"Quel est votre problme ?",className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Message"}),i.jsx("textarea",{value:s,onChange:g=>a(g.target.value),placeholder:"Dcrivez votre problme en dtail...",rows:4,className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-none"})]}),i.jsxs("button",{onClick:m,disabled:!l||!s||u,className:`w-full flex items-center justify-center space-x-2 px-4 py-3 rounded-lg transition-colors text-white ${!l||!s||u?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:[i.jsx(Pg,{className:"w-4 h-4"}),i.jsx("span",{children:u?"Envoi...":"Envoyer le message"})]})]})]}),i.jsx("div",{className:"text-center text-sm text-gray-500 dark:text-gray-400 pt-4",children:"PrestaCI v0.1.0"})]})]})}function Kc(){var Y,J;const{user:e,logout:t}=Qe(),{isDarkMode:r,toggleDarkMode:s,showToast:a}=rt(),[l,d]=w.useState(!1),[u,f]=w.useState(!1),[m,v]=w.useState(!1),[g,y]=w.useState(!1),[j,S]=w.useState({nom:(e==null?void 0:e.nom)||"",prenom:(e==null?void 0:e.prenom)||"",telephone:(e==null?void 0:e.telephone)||"",photo_profil:(e==null?void 0:e.photo_profil)||""}),[N,C]=w.useState(!1),[b,k]=w.useState(null),[x,E]=w.useState(!1);w.useEffect(()=>{(async()=>{try{const{user:q}=await G.users.getMe();q&&(Qe.setState({user:q}),S({nom:q.nom||"",prenom:q.prenom||"",telephone:q.telephone||"",photo_profil:q.photo_profil||""}))}catch{}})()},[]);const O=async()=>{try{C(!0),k(null);const{user:q}=await G.users.updateMe(j);Qe.setState({user:q}),S({nom:q.nom||"",prenom:q.prenom||"",telephone:q.telephone||"",photo_profil:q.photo_profil||""}),d(!1),a("Profil mis  jour avec succs","success")}catch(q){k((q==null?void 0:q.message)||"Impossible de sauvegarder le profil")}finally{C(!1)}},M=(q,ie=800,ke=.8)=>new Promise((pe,Z)=>{const oe=document.createElement("canvas"),ye=oe.getContext("2d"),W=new Image;W.onload=()=>{let{width:Q,height:$}=W;Q>$?Q>ie&&($=$*ie/Q,Q=ie):$>ie&&(Q=Q*ie/$,$=ie),oe.width=Q,oe.height=$,ye==null||ye.drawImage(W,0,0,Q,$);const se=oe.toDataURL("image/jpeg",ke);pe(se)},W.onerror=Z,W.src=URL.createObjectURL(q)}),F=async q=>{var ke;const ie=(ke=q.target.files)==null?void 0:ke[0];if(ie){if(!ie.type.startsWith("image/")){a("Veuillez slectionner une image","error");return}if(ie.size>10*1024*1024){a("L'image ne doit pas dpasser 10MB","error");return}try{E(!0),k(null);const pe=await M(ie,800,.8),{user:Z}=await G.users.updateMe({...j,photo_profil:pe});Qe.setState({user:Z}),S({nom:Z.nom||"",prenom:Z.prenom||"",telephone:Z.telephone||"",photo_profil:Z.photo_profil||""}),a("Photo mise  jour avec succs","success")}catch(pe){k((pe==null?void 0:pe.message)||"Impossible de mettre  jour la photo"),a("Erreur lors de la mise  jour de la photo","error")}finally{E(!1)}}},A=[{icon:is,label:"Notifications",action:()=>v(!0)},{icon:ll,label:"Confidentialit",action:()=>f(!0)},{icon:kg,label:"Aide & Support",action:()=>y(!0)},{icon:ol,label:"Paramtres",action:()=>a("Paramtres avancs - Prochainement disponible","info")}];return u?i.jsx(ux,{onBack:()=>f(!1)}):m?i.jsx(hx,{onBack:()=>v(!1)}):g?i.jsx(fx,{onBack:()=>y(!1)}):i.jsxs("div",{className:"max-w-md mx-auto",children:[i.jsxs("div",{className:"bg-gradient-to-br from-blue-600 via-purple-600 to-pink-500 px-4 py-10 relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-black/10"}),i.jsxs("div",{className:"text-center relative z-10",children:[i.jsxs("div",{className:"relative inline-block",children:[i.jsx("div",{className:"w-24 h-24 rounded-full overflow-hidden mx-auto mb-4 ring-4 ring-white/30 shadow-xl",children:e!=null&&e.photo_profil?i.jsx("img",{src:e.photo_profil,alt:`${e.prenom} ${e.nom}`,className:"w-full h-full object-cover"}):i.jsxs("div",{className:"w-full h-full bg-white bg-opacity-20 flex items-center justify-center text-white text-2xl font-semibold",children:[(Y=e==null?void 0:e.prenom)==null?void 0:Y[0],(J=e==null?void 0:e.nom)==null?void 0:J[0]]})}),i.jsxs("label",{className:"absolute bottom-4 right-0 p-2.5 bg-white rounded-full shadow-lg hover:shadow-xl hover:scale-110 transition-all duration-200 cursor-pointer",children:[i.jsx(Ml,{className:`w-4 h-4 ${x?"text-gray-400":"text-blue-600"}`}),i.jsx("input",{type:"file",accept:"image/*",onChange:F,disabled:x,className:"hidden"})]})]}),i.jsxs("h1",{className:"text-2xl font-bold text-white mb-2 drop-shadow-lg",children:[e==null?void 0:e.prenom," ",e==null?void 0:e.nom]}),i.jsx("p",{className:"text-white/90 font-medium",children:" Membre PrestaCI"})]})]}),i.jsxs("div",{className:"p-4 space-y-6",children:[i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 p-5 shadow-sm hover:shadow-md transition-shadow duration-200",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Informations personnelles"}),i.jsxs("button",{onClick:()=>l?O():d(!0),className:"flex items-center space-x-1 text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 px-3 py-1.5 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all duration-200",children:[i.jsx(ni,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm font-medium",children:l?"Sauvegarder":"Modifier"})]})]}),b&&i.jsx("div",{className:"mb-4 p-3 bg-gradient-to-r from-red-50 to-pink-50 dark:from-red-900/20 dark:to-pink-900/20 border border-red-200 dark:border-red-800 rounded-xl shadow-sm",children:i.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 font-medium",children:b})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Prnom"}),l?i.jsx("input",{type:"text",value:j.prenom,onChange:q=>S({...j,prenom:q.target.value}),className:"w-full p-2.5 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm shadow-sm transition-all duration-200"}):i.jsx("p",{className:"text-gray-900 dark:text-white",children:e==null?void 0:e.prenom})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nom"}),l?i.jsx("input",{type:"text",value:j.nom,onChange:q=>S({...j,nom:q.target.value}),className:"w-full p-2.5 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm shadow-sm transition-all duration-200"}):i.jsx("p",{className:"text-gray-900 dark:text-white",children:e==null?void 0:e.nom})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(cs,{className:"w-4 h-4 text-gray-400"}),i.jsx("p",{className:"text-gray-900 dark:text-white",children:e==null?void 0:e.email})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Tlphone"}),l?i.jsx("input",{type:"tel",value:j.telephone,onChange:q=>S({...j,telephone:q.target.value}),className:"w-full p-2.5 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm shadow-sm transition-all duration-200"}):i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ds,{className:"w-4 h-4 text-gray-400"}),i.jsx("p",{className:"text-gray-900 dark:text-white",children:e==null?void 0:e.telephone})]})]}),l&&i.jsxs("div",{className:"flex space-x-3 pt-2",children:[i.jsx("button",{onClick:()=>d(!1),className:"flex-1 px-4 py-2.5 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700 font-medium transition-all duration-200 hover:shadow-md",children:"Annuler"}),i.jsx("button",{onClick:O,disabled:N,className:`flex-1 px-4 py-2.5 rounded-xl font-medium transition-all duration-200 text-white shadow-md hover:shadow-lg ${N?"bg-blue-400 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700"}`,children:N?"Enregistrement...":"Sauvegarder"})]})]})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 p-5 shadow-sm hover:shadow-md transition-shadow duration-200",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Paramtres"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700 transition-all duration-200",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-8 h-8 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center",children:r?"":""}),i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Mode sombre"})]}),i.jsx("button",{onClick:s,className:`w-12 h-6 rounded-full transition-all duration-300 ${r?"bg-gradient-to-r from-blue-600 to-purple-600":"bg-gray-300"} relative shadow-inner`,children:i.jsx("div",{className:`w-5 h-5 bg-white rounded-full absolute top-0.5 transition-transform duration-300 shadow-md ${r?"translate-x-6":"translate-x-0.5"}`})})]}),A.map((q,ie)=>i.jsxs("button",{onClick:q.action,className:"w-full flex items-center space-x-3 p-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700 transition-all duration-200 text-left group",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-gray-100 to-gray-50 dark:from-gray-700 dark:to-gray-600 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform duration-200 shadow-sm",children:i.jsx(q.icon,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),i.jsx("span",{className:"text-gray-900 dark:text-white",children:q.label})]},ie))]})]}),i.jsxs("button",{onClick:t,className:"w-full flex items-center justify-center space-x-2 p-4 bg-gradient-to-r from-red-50 to-pink-50 dark:from-red-900/20 dark:to-pink-900/20 text-red-600 dark:text-red-400 rounded-2xl hover:from-red-100 hover:to-pink-100 dark:hover:from-red-900/30 dark:hover:to-pink-900/30 transition-all duration-200 shadow-sm hover:shadow-md group",children:[i.jsx(jg,{className:"w-5 h-5 group-hover:scale-110 transition-transform duration-200"}),i.jsx("span",{className:"font-semibold",children:"Se dconnecter"})]})]})]})}const J2=({rating:e,reviewCount:t})=>i.jsxs("div",{className:"flex items-center",children:[[...Array(5)].map((r,s)=>i.jsx(pt,{className:`w-5 h-5 ${s<Math.round(e)?"text-yellow-400 fill-yellow-400":"text-gray-300"}`},s)),t>0&&i.jsxs("span",{className:"ml-2 text-sm text-gray-500",children:["(",t," avis)"]})]});function K2(){const{id:e}=fg(),t=zr(),[r,s]=w.useState(null),[a,l]=w.useState([]),[d,u]=w.useState(!0),[f,m]=w.useState(null);return w.useEffect(()=>{if(!e)return;(async()=>{try{u(!0);const[g,y]=await Promise.all([G.prestataires.getById(Number(e)),G.getServices({prestataire_id:Number(e)})]);s(g),l(y)}catch(g){m(g.message||"Erreur de chargement")}finally{u(!1)}})()},[e]),d?i.jsx(Rt,{children:i.jsx("div",{className:"p-4 text-center",children:"Chargement..."})}):f?i.jsx(Rt,{children:i.jsx("div",{className:"p-4 text-center text-red-500",children:f})}):r?i.jsx(Rt,{showBottomNav:!1,children:i.jsxs("div",{className:"bg-white dark:bg-gray-900 min-h-screen",children:[i.jsxs("div",{className:"h-48 bg-gray-200 dark:bg-gray-700 relative",children:[r.photos_etablissement&&r.photos_etablissement[0]&&i.jsx("img",{src:r.photos_etablissement[0],alt:r.nom_commercial,className:"w-full h-full object-cover"}),i.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-30"}),i.jsx("button",{onClick:()=>t(-1),className:"absolute top-4 left-4 bg-white/70 dark:bg-gray-800/70 p-2 rounded-full text-gray-800 dark:text-white backdrop-blur-sm",children:i.jsx(ja,{className:"w-6 h-6"})})]}),i.jsx("div",{className:"p-4 -mt-16",children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r.nom_commercial}),i.jsxs("div",{className:"flex items-center mt-2 space-x-2 text-gray-500 dark:text-gray-400",children:[i.jsx(vr,{className:"w-4 h-4"}),i.jsx("span",{children:r.ville||"Ville non spcifie"})]}),i.jsx("div",{className:"mt-3",children:i.jsx(J2,{rating:r.note_moyenne||0,reviewCount:r.nombre_avis||0})}),r.bio&&i.jsx("p",{className:"mt-4 text-sm text-gray-700 dark:text-gray-300",children:r.bio})]})}),i.jsxs("div",{className:"p-4",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Services proposs"}),i.jsx("div",{className:"space-y-3",children:a.length>0?a.map(v=>i.jsxs("div",{onClick:()=>t(`/services/${v.id}`),className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 flex items-center justify-between cursor-pointer hover:shadow-md transition-shadow",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:v.nom}),i.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[v.duree_minutes," min"]})]}),i.jsx("div",{className:"text-right",children:i.jsxs("p",{className:"font-bold text-gray-900 dark:text-white",children:[v.prix," ",v.devise||"XOF"]})})]},v.id)):i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Aucun service propos pour le moment."})})]})]})}):i.jsx(Rt,{children:i.jsx("div",{className:"p-4 text-center",children:"Prestataire non trouv."})})}const Q2=({rating:e,reviewCount:t})=>i.jsxs("div",{className:"flex items-center",children:[[...Array(5)].map((r,s)=>i.jsx(pt,{className:`w-4 h-4 ${s<Math.round(e)?"text-yellow-400 fill-yellow-400":"text-gray-300"}`},s)),t>0&&i.jsxs("span",{className:"ml-2 text-xs text-gray-500",children:["(",t," avis)"]})]});function X2(){const{id:e}=fg(),t=zr(),[r,s]=w.useState(null),[a,l]=w.useState(null),[d,u]=w.useState(!0),[f,m]=w.useState(null),[v,g]=w.useState(!1);if(w.useEffect(()=>{if(!e)return;(async()=>{try{u(!0);const S=await G.services.getById(Number(e));if(s(S),S.prestataire_id){const N=await G.prestataires.getById(S.prestataire_id);l(N)}}catch(S){m(S.message||"Erreur de chargement")}finally{u(!1)}})()},[e]),d)return i.jsx(Rt,{children:i.jsx("div",{className:"p-4 text-center",children:"Chargement..."})});if(f)return i.jsx(Rt,{children:i.jsx("div",{className:"p-4 text-center text-red-500",children:f})});if(!r)return i.jsx(Rt,{children:i.jsx("div",{className:"p-4 text-center",children:"Service non trouv."})});const y=r.photos?typeof r.photos=="string"?JSON.parse(r.photos):r.photos:[];return i.jsxs(Rt,{showBottomNav:!1,children:[i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 min-h-screen",children:[i.jsxs("div",{className:"h-64 bg-gray-200 dark:bg-gray-700 relative",children:[y.length>0?i.jsx("img",{src:y[0],alt:r.nom,className:"w-full h-full object-cover"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-blue-100 to-purple-100 dark:from-blue-900/50 dark:to-purple-900/50",children:i.jsx("span",{className:"text-gray-500",children:"Pas de photo"})}),i.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-20"}),i.jsx("button",{onClick:()=>t(-1),className:"absolute top-4 left-4 bg-white/70 dark:bg-gray-800/70 p-2 rounded-full text-gray-800 dark:text-white backdrop-blur-sm",children:i.jsx(ja,{className:"w-6 h-6"})})]}),i.jsxs("div",{className:"p-4",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:r.nom}),i.jsx("div",{className:"mt-2",children:i.jsx(Q2,{rating:r.note_moyenne||0,reviewCount:r.nombre_avis||0})}),i.jsx("p",{className:"mt-4 text-gray-700 dark:text-gray-300",children:r.description}),i.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-4 text-center",children:[i.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm",children:[i.jsx(rr,{className:"mx-auto w-6 h-6 text-blue-500"}),i.jsx("p",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"Dure"}),i.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[r.duree_minutes," min"]})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm",children:[i.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:r.prix}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:r.devise||"XOF"})]})]})]}),a&&i.jsx("div",{className:"p-4",children:i.jsxs("div",{onClick:()=>t(`/prestataires/${a.id}`),className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-4 flex items-center space-x-4 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[a.photo_profil?i.jsx("img",{src:a.photo_profil,alt:a.nom_commercial,className:"w-12 h-12 rounded-full object-cover"}):i.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-200 dark:bg-gray-700"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Propos par"}),i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:a.nom_commercial})]})]})})]}),i.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm border-t border-gray-200 dark:border-gray-700",children:i.jsx("button",{onClick:()=>g(!0),className:"w-full bg-blue-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors shadow-lg",children:"Rserver"})}),v&&i.jsx(dl,{service:r,prestataire:a,onClose:()=>g(!1)})]})}function Zm({onNavigateToTab:e}){const[t,r]=w.useState(!0),[s,a]=w.useState({reservations_total:0,reservations_en_attente:0,services_actifs:0,note_moyenne:0,revenus_mois:0}),[l,d]=w.useState([]);w.useEffect(()=>{let f=!0;return(async()=>{try{r(!0);const[m,v]=await Promise.all([G.dashboard.getStats(),G.dashboard.getRecentReservations(3)]);f&&(a(m),d(v),r(!1))}catch(m){console.error("Erreur chargement dashboard:",m),f&&r(!1)}})(),()=>{f=!1}},[]);const u=[{title:"Rservations",value:s.reservations_total,subtitle:`${s.reservations_en_attente} en attente`,icon:jt,color:"from-blue-500 to-cyan-500",bgColor:"from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20"},{title:"Services actifs",value:s.services_actifs,subtitle:"Visibles aux clients",icon:Sn,color:"from-purple-500 to-pink-500",bgColor:"from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20"},{title:"Note moyenne",value:s.note_moyenne.toFixed(1),subtitle:"Sur 5 toiles",icon:pt,color:"from-yellow-500 to-orange-500",bgColor:"from-yellow-50 to-orange-50 dark:from-yellow-900/20 dark:to-orange-900/20"},{title:"Revenus du mois",value:`${(s.revenus_mois/1e3).toFixed(0)}k`,subtitle:"XOF",icon:as,color:"from-green-500 to-emerald-500",bgColor:"from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20"}];return t?i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:i.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Chargement..."})}):i.jsxs("div",{className:"space-y-6 pb-20",children:[i.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-blue-600 via-purple-600 to-pink-600 px-6 py-12 rounded-b-[3rem]",children:[i.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZGVmcz48cGF0dGVybiBpZD0iZ3JpZCIgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiBwYXR0ZXJuVW5pdHM9InVzZXJTcGFjZU9uVXNlIj48cGF0aCBkPSJNIDQwIDAgTCAwIDAgMCA0MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJ3aGl0ZSIgc3Ryb2tlLW9wYWNpdHk9IjAuMSIgc3Ryb2tlLXdpZHRoPSIxIi8+PC9wYXR0ZXJuPjwvZGVmcz48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJ1cmwoI2dyaWQpIi8+PC9zdmc+')] opacity-30"}),i.jsxs("div",{className:"relative z-10 max-w-6xl mx-auto",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl bg-white/20 backdrop-blur-sm flex items-center justify-center",children:i.jsx(Yd,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-white drop-shadow-lg",children:"Tableau de bord"}),i.jsx("p",{className:"text-white/90 text-sm font-medium",children:"Vue d'ensemble de votre activit"})]})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-4 mt-6 text-white/90 text-sm",children:[i.jsxs("div",{className:"flex items-center space-x-2 px-3 py-2 rounded-xl bg-white/10 backdrop-blur-sm",children:[i.jsx(jt,{className:"w-4 h-4"}),i.jsxs("span",{children:[s.reservations_total," rservations"]})]}),i.jsxs("div",{className:"flex items-center space-x-2 px-3 py-2 rounded-xl bg-white/10 backdrop-blur-sm",children:[i.jsx(Sn,{className:"w-4 h-4"}),i.jsxs("span",{children:[s.services_actifs," services"]})]}),i.jsxs("div",{className:"flex items-center space-x-2 px-3 py-2 rounded-xl bg-white/10 backdrop-blur-sm",children:[i.jsx(pt,{className:"w-4 h-4 fill-current"}),i.jsxs("span",{children:[s.note_moyenne.toFixed(1),"/5"]})]})]})]})]}),i.jsxs("div",{className:"px-4 space-y-6 max-w-6xl mx-auto",children:[i.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:u.map((f,m)=>{const v=f.icon;return i.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-white dark:bg-gray-800 p-5 hover:shadow-2xl transition-all duration-300 hover:scale-105 group cursor-pointer border-2 border-transparent hover:border-white",style:{boxShadow:"0 4px 20px rgba(0,0,0,0.08)"},children:[i.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${f.color} opacity-0 group-hover:opacity-100 transition-opacity duration-300`}),i.jsxs("div",{className:"relative z-10",children:[i.jsx("div",{className:`inline-flex p-3 rounded-2xl bg-gradient-to-br ${f.color} shadow-lg mb-4 group-hover:scale-110 transition-transform`,children:i.jsx(v,{className:"w-6 h-6 sm:w-7 sm:h-7 text-white"})}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 font-medium group-hover:text-white/90 transition-colors",children:f.title}),i.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white group-hover:text-white transition-colors",children:f.value}),i.jsx("p",{className:"text-[10px] sm:text-xs text-gray-500 dark:text-gray-500 group-hover:text-white/80 transition-colors",children:f.subtitle})]})]}),i.jsx("div",{className:"absolute inset-0 -translate-x-full group-hover:translate-x-full transition-transform duration-1000 bg-gradient-to-r from-transparent via-white/20 to-transparent"})]},m)})}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-6 shadow-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-5",children:[i.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Actions rapides"}),i.jsx("div",{className:"w-10 h-1 rounded-full bg-gradient-to-r from-blue-600 to-purple-600"})]}),i.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[i.jsxs("button",{className:"group relative overflow-hidden flex flex-col items-center p-4 sm:p-5 rounded-2xl bg-gradient-to-br from-blue-500 to-cyan-500 hover:shadow-2xl transition-all duration-300 hover:scale-105",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600 to-cyan-600 opacity-0 group-hover:opacity-100 transition-opacity"}),i.jsx("div",{className:"relative z-10 p-3 rounded-xl bg-white/20 backdrop-blur-sm mb-3 group-hover:scale-110 transition-transform",children:i.jsx(Sn,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),i.jsx("span",{className:"relative z-10 text-xs sm:text-sm font-semibold text-white",children:"Ajouter service"})]}),i.jsxs("button",{className:"group relative overflow-hidden flex flex-col items-center p-4 sm:p-5 rounded-2xl bg-gradient-to-br from-purple-500 to-pink-500 hover:shadow-2xl transition-all duration-300 hover:scale-105",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-600 to-pink-600 opacity-0 group-hover:opacity-100 transition-opacity"}),i.jsx("div",{className:"relative z-10 p-3 rounded-xl bg-white/20 backdrop-blur-sm mb-3 group-hover:scale-110 transition-transform",children:i.jsx(jt,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),i.jsx("span",{className:"relative z-10 text-xs sm:text-sm font-semibold text-white",children:"Calendrier"})]}),i.jsxs("button",{className:"group relative overflow-hidden flex flex-col items-center p-4 sm:p-5 rounded-2xl bg-gradient-to-br from-green-500 to-emerald-500 hover:shadow-2xl transition-all duration-300 hover:scale-105",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-600 to-emerald-600 opacity-0 group-hover:opacity-100 transition-opacity"}),i.jsx("div",{className:"relative z-10 p-3 rounded-xl bg-white/20 backdrop-blur-sm mb-3 group-hover:scale-110 transition-transform",children:i.jsx(qs,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),i.jsx("span",{className:"relative z-10 text-xs sm:text-sm font-semibold text-white",children:"Clients"})]}),i.jsxs("button",{className:"group relative overflow-hidden flex flex-col items-center p-4 sm:p-5 rounded-2xl bg-gradient-to-br from-orange-500 to-yellow-500 hover:shadow-2xl transition-all duration-300 hover:scale-105",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-600 to-yellow-600 opacity-0 group-hover:opacity-100 transition-opacity"}),i.jsx("div",{className:"relative z-10 p-3 rounded-xl bg-white/20 backdrop-blur-sm mb-3 group-hover:scale-110 transition-transform",children:i.jsx(pt,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),i.jsx("span",{className:"relative z-10 text-xs sm:text-sm font-semibold text-white",children:"Avis"})]})]})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-6 shadow-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-5",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Rservations rcentes"}),i.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-gradient-to-r from-blue-100 to-purple-100 dark:from-blue-900 dark:to-purple-900 text-blue-800 dark:text-blue-200",children:l.length})]}),i.jsxs("button",{onClick:()=>e("reservations"),className:"group text-sm text-blue-600 dark:text-blue-400 hover:text-blue-700 font-semibold flex items-center space-x-1 transition-all",children:[i.jsx("span",{children:"Tout voir"}),i.jsx(M_,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]}),i.jsx("div",{className:"space-y-3",children:l.map((f,m)=>{var v,g;return i.jsxs("div",{className:"group relative overflow-hidden flex items-center justify-between p-4 rounded-2xl bg-gradient-to-r from-gray-50 to-white dark:from-gray-700/50 dark:to-gray-800/50 hover:shadow-lg transition-all duration-300 border border-gray-200 dark:border-gray-600 hover:border-blue-300 dark:hover:border-blue-700",style:{animationDelay:`${m*100}ms`},children:[i.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4 flex-1",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 rounded-2xl bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 flex items-center justify-center text-white font-bold text-lg shadow-lg group-hover:scale-110 transition-transform",children:((v=f.client_prenom)==null?void 0:v[0])||((g=f.client_nom)==null?void 0:g[0])||"C"}),i.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 rounded-full bg-green-500 border-2 border-white dark:border-gray-800"})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("p",{className:"font-semibold text-gray-900 dark:text-white truncate",children:[f.client_prenom," ",f.client_nom]}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 truncate",children:f.service_nom})]})]}),i.jsxs("div",{className:"hidden sm:flex items-center space-x-4 text-sm",children:[i.jsxs("div",{className:"flex flex-col items-end",children:[i.jsxs("div",{className:"flex items-center space-x-2 text-gray-600 dark:text-gray-400",children:[i.jsx(jt,{className:"w-4 h-4"}),i.jsx("span",{className:"font-medium",children:new Date(f.date_reservation).toLocaleDateString("fr-FR",{day:"numeric",month:"short"})})]}),i.jsxs("div",{className:"flex items-center space-x-2 text-gray-500 dark:text-gray-500 mt-1",children:[i.jsx(rr,{className:"w-3 h-3"}),i.jsx("span",{className:"text-xs",children:f.heure_debut})]})]}),f.statut_nom==="confirmee"?i.jsx("span",{className:"px-4 py-2 rounded-xl text-xs font-bold bg-gradient-to-r from-green-500 to-emerald-500 text-white shadow-md",children:" Confirm"}):f.statut_nom==="en_attente"?i.jsx("span",{className:"px-4 py-2 rounded-xl text-xs font-bold bg-gradient-to-r from-orange-500 to-yellow-500 text-white shadow-md animate-pulse",children:" En attente"}):f.statut_nom==="terminee"?i.jsx("span",{className:"px-4 py-2 rounded-xl text-xs font-bold bg-gradient-to-r from-blue-500 to-cyan-500 text-white shadow-md",children:" Termin"}):i.jsx("span",{className:"px-4 py-2 rounded-xl text-xs font-bold bg-gradient-to-r from-gray-500 to-gray-600 text-white shadow-md",children:f.statut_nom})]}),i.jsx("div",{className:"sm:hidden",children:f.statut_nom==="confirmee"?i.jsx("div",{className:"w-3 h-3 rounded-full bg-gradient-to-r from-green-500 to-emerald-500"}):f.statut_nom==="en_attente"?i.jsx("div",{className:"w-3 h-3 rounded-full bg-gradient-to-r from-orange-500 to-yellow-500 animate-pulse"}):f.statut_nom==="terminee"?i.jsx("div",{className:"w-3 h-3 rounded-full bg-gradient-to-r from-blue-500 to-cyan-500"}):i.jsx("div",{className:"w-3 h-3 rounded-full bg-gradient-to-r from-gray-500 to-gray-600"})})]},f.id)})})]}),i.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-orange-500 via-pink-500 to-purple-500 rounded-3xl p-6 shadow-2xl",children:[i.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZGVmcz48cGF0dGVybiBpZD0iZ3JpZCIgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiBwYXR0ZXJuVW5pdHM9InVzZXJTcGFjZU9uVXNlIj48cGF0aCBkPSJNIDQwIDAgTCAwIDAgMCA0MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJ3aGl0ZSIgc3Ryb2tlLW9wYWNpdHk9IjAuMSIgc3Ryb2tlLXdpZHRoPSIxIi8+PC9wYXR0ZXJuPjwvZGVmcz48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJ1cmwoI2dyaWQpIi8+PC9zdmc+')] opacity-20"}),i.jsxs("div",{className:"relative z-10 flex items-start space-x-4",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"p-4 rounded-2xl bg-white/20 backdrop-blur-sm",children:i.jsx(Yd,{className:"w-8 h-8 text-white animate-pulse"})})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("h3",{className:"text-xl font-bold text-white mb-2 flex items-center space-x-2",children:[i.jsx("span",{children:"Boostez votre visibilit"}),i.jsx("span",{className:"text-2xl",children:""})]}),i.jsx("p",{className:"text-white/90 mb-4",children:"Passez  Premium pour publier plus de services et apparatre en priorit."}),i.jsx("button",{onClick:()=>e("plans"),className:"px-6 py-3 rounded-xl bg-white text-purple-600 font-bold shadow-xl hover:shadow-2xl hover:scale-105 transition-all duration-200",children:"Voir les plans Premium"})]})]})]})]})]})}function eN({service:e,onClose:t,onSubmit:r}){const[s,a]=w.useState({nom:(e==null?void 0:e.nom)||"",description:(e==null?void 0:e.description)||"",prix:(e==null?void 0:e.prix)||"",duree_minutes:(e==null?void 0:e.duree_minutes)||60,sous_categorie_id:(e==null?void 0:e.sous_categorie_id)||"",is_domicile:(e==null?void 0:e.is_domicile)||!1,is_active:(e==null?void 0:e.is_active)!==void 0?e.is_active:!0,photos:(e==null?void 0:e.photos)||[],devise:(e==null?void 0:e.devise)||"FCFA"}),[l,d]=w.useState({}),u=v=>{const{name:g,value:y,type:j}=v.target,S=v.target.checked;a({...s,[g]:j==="checkbox"?S:y}),l[g]&&d({...l,[g]:""})},f=()=>{const v={};return s.nom.trim()||(v.nom="Le nom du service est requis"),s.description.trim()||(v.description="La description est requise"),(!s.prix||parseFloat(s.prix)<=0)&&(v.prix="Le prix doit tre suprieur  0"),(!s.duree_minutes||parseInt(s.duree_minutes.toString())<=0)&&(v.duree_minutes="La dure doit tre suprieure  0"),s.sous_categorie_id||(v.sous_categorie_id="La catgorie est requise"),d(v),Object.keys(v).length===0},m=v=>{v.preventDefault(),f()&&r({...s,sous_categorie_id:parseInt(s.sous_categorie_id),prix:parseFloat(s.prix),duree_minutes:parseInt(s.duree_minutes.toString()),devise:s.devise||"FCFA"})};return i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col overflow-hidden",children:[i.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between flex-shrink-0",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e?"Modifier le service":"Nouveau service"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Remplissez les informations de votre service"})]}),i.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-xl transition-colors",children:i.jsx(Dr,{className:"w-6 h-6 text-gray-500"})})]}),i.jsxs("form",{onSubmit:m,className:"flex-1 overflow-y-auto p-6 space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nom du service *"}),i.jsxs("div",{className:"relative",children:[i.jsx(Mg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"text",name:"nom",value:s.nom,onChange:u,className:`w-full pl-11 pr-4 py-3 border ${l.nom?"border-red-500":"border-gray-300 dark:border-gray-600"} rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white transition-all`,placeholder:"Ex: Coupe + Brushing"})]}),l.nom&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.nom})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Catgorie de service *"}),i.jsxs("select",{name:"sous_categorie_id",value:s.sous_categorie_id,onChange:u,className:`w-full px-4 py-3 border ${l.sous_categorie_id?"border-red-500":"border-gray-300 dark:border-gray-600"} rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white transition-all`,children:[i.jsx("option",{value:"",children:"Slectionnez une catgorie"}),i.jsx("option",{value:"1",children:"Coiffure - Coupe Homme"}),i.jsx("option",{value:"2",children:"Coiffure - Coupe Femme"}),i.jsx("option",{value:"3",children:"Coiffure - Coloration"}),i.jsx("option",{value:"4",children:"Coiffure - Brushing"}),i.jsx("option",{value:"5",children:"Beaut - Manucure"}),i.jsx("option",{value:"6",children:"Beaut - Pdicure"}),i.jsx("option",{value:"7",children:"Beaut - Maquillage"}),i.jsx("option",{value:"8",children:"Beaut - pilation"})]}),l.sous_categorie_id&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.sous_categorie_id})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description *"}),i.jsx("textarea",{name:"description",value:s.description,onChange:u,rows:4,className:`w-full px-4 py-3 border ${l.description?"border-red-500":"border-gray-300 dark:border-gray-600"} rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white transition-all resize-none`,placeholder:"Dcrivez votre service en dtail..."}),l.description&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.description})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Prix (FCFA) *"}),i.jsxs("div",{className:"relative",children:[i.jsx(Xu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"number",name:"prix",value:s.prix,onChange:u,min:"0",step:"100",className:`w-full pl-11 pr-4 py-3 border ${l.prix?"border-red-500":"border-gray-300 dark:border-gray-600"} rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white transition-all`,placeholder:"5000"})]}),l.prix&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.prix})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Dure (minutes) *"}),i.jsxs("div",{className:"relative",children:[i.jsx(rr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"number",name:"duree_minutes",value:s.duree_minutes,onChange:u,min:"5",step:"5",className:`w-full pl-11 pr-4 py-3 border ${l.duree_minutes?"border-red-500":"border-gray-300 dark:border-gray-600"} rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white transition-all`,placeholder:"60"})]}),l.duree_minutes&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.duree_minutes})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center space-x-3 p-4 rounded-xl bg-gray-50 dark:bg-gray-700/50 border border-gray-200 dark:border-gray-600",children:[i.jsx("input",{type:"checkbox",id:"is_domicile",name:"is_domicile",checked:s.is_domicile,onChange:u,className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),i.jsxs("label",{htmlFor:"is_domicile",className:"flex items-center space-x-2 cursor-pointer",children:[i.jsx(vr,{className:"w-5 h-5 text-blue-600"}),i.jsxs("div",{children:[i.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Service  domicile"}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Je peux me dplacer chez le client"})]})]})]}),i.jsxs("div",{className:"flex items-center space-x-3 p-4 rounded-xl bg-gray-50 dark:bg-gray-700/50 border border-gray-200 dark:border-gray-600",children:[i.jsx("input",{type:"checkbox",id:"is_active",name:"is_active",checked:s.is_active,onChange:u,className:"w-5 h-5 text-green-600 rounded focus:ring-2 focus:ring-green-500"}),i.jsxs("label",{htmlFor:"is_active",className:"cursor-pointer",children:[i.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Service actif"}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Les clients peuvent rserver ce service"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Photos du service (optionnel)"}),i.jsxs("div",{className:"space-y-4",children:[s.photos.length>0&&i.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-4",children:s.photos.map((v,g)=>i.jsxs("div",{className:"relative group aspect-square",children:[i.jsx("img",{src:v,alt:`Aperu ${g+1}`,className:"w-full h-full object-cover rounded-xl"}),i.jsx("button",{type:"button",onClick:()=>{const y=s.photos.filter((j,S)=>S!==g);a({...s,photos:y})},className:"absolute top-1 right-1 bg-red-600 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:i.jsx(Dr,{size:14})})]},g))}),i.jsxs("label",{className:"w-full flex flex-col items-center justify-center p-8 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-xl text-center hover:border-blue-500 dark:hover:border-blue-400 transition-colors cursor-pointer bg-gray-50 dark:bg-gray-700/50",children:[i.jsx(eh,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Cliquez pour ajouter des photos"}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:"PNG, JPG jusqu' 5MB"}),i.jsx("input",{type:"file",multiple:!0,accept:"image/png, image/jpeg",className:"hidden",onChange:v=>{v.target.files&&Array.from(v.target.files).forEach(y=>{const j=new FileReader;j.onloadend=()=>{a(S=>({...S,photos:[...S.photos,j.result]}))},j.readAsDataURL(y)})}})]})]})]})]}),i.jsxs("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700 flex items-center justify-end space-x-4 flex-shrink-0",children:[i.jsx("button",{type:"button",onClick:t,className:"px-6 py-3 rounded-xl bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 font-medium transition-all",children:"Annuler"}),i.jsx("button",{onClick:m,className:"px-6 py-3 rounded-xl bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-medium shadow-lg hover:shadow-xl hover:scale-105 transition-all",children:e?"Enregistrer":"Crer le service"})]})]})})}function tN(){const{showToast:e}=rt(),[t,r]=w.useState([]),[s,a]=w.useState(!0),[l,d]=w.useState(!1),[u,f]=w.useState(null);w.useEffect(()=>{m()},[]);const m=async()=>{try{a(!0);const C=await G.services.list();console.log("Services loaded:",C),r(C)}catch(C){console.error("Erreur chargement services:",C),e("Erreur de chargement","error")}finally{a(!1)}},v=async C=>{try{const b=t.find(k=>k.id===C);if(!b){e("Service introuvable dans la liste","error");return}console.log("Toggling service:",C,"Current status:",b.is_active),await G.services.update(C,{is_active:!b.is_active}),r(t.map(k=>k.id===C?{...k,is_active:!k.is_active}:k)),e(`Service ${b.is_active?"masqu":"activ"} avec succs`,"success")}catch(b){console.error("Erreur toggle service:",b);const k=b.message||"Erreur";k.includes("403")||k.includes("droits")?(e("Vous ne pouvez modifier que vos propres services","error"),m()):k.includes("404")?(e("Ce service n'existe pas ou ne vous appartient pas","error"),m()):e(k,"error")}},g=async C=>{console.log("Attempting to delete service with ID:",C),console.log("Current services:",t);try{const k=await(await fetch(`http://localhost:4000/api/services/debug/${C}`,{headers:{Authorization:`Bearer ${JSON.parse(localStorage.getItem("prestaci-auth")||"{}").token}`},credentials:"include"})).json();console.log("DEBUG INFO:",k)}catch(b){console.error("Debug call failed:",b)}if(confirm("tes-vous sr de vouloir supprimer ce service ?"))try{const b=await G.services.delete(C);console.log("Delete response:",b),b.deactivated?(r(t.map(k=>k.id===C?{...k,is_active:!1}:k)),e("Service dsactiv (des rservations existent)","info")):b.deleted?(r(t.filter(k=>k.id!==C)),e("Service supprim avec succs","success")):e(b.message||"Action effectue","info")}catch(b){console.error("Erreur suppression service:",b);const k=b.message||"Erreur lors de la suppression";k.includes("li  d'autres donnes")?e("Ce service ne peut pas tre supprim car il a des rservations. Utilisez le bouton Masquer pour le dsactiver.","error"):e(k,"error")}},y=()=>{f(null),d(!0)},j=C=>{f(C),d(!0)},S=()=>{d(!1),f(null)},N=async C=>{try{if(u)await G.services.update(u.id,C),r(t.map(b=>b.id===u.id?{...b,...C}:b)),e("Service modifi avec succs","success");else{const k={id:(await G.services.create(C)).id,...C,photos:[]};r([...t,k]),e("Service cr avec succs","success")}S()}catch(b){e(b.message||"Erreur lors de l'enregistrement","error")}};return s?i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:i.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Chargement..."})}):i.jsxs("div",{className:"p-4 space-y-6 max-w-6xl mx-auto pb-20",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Mes Services"}),i.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:[t.length," service",t.length>1?"s":"","  ",t.filter(C=>C.is_active).length," actif",t.filter(C=>C.is_active).length>1?"s":""]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("button",{onClick:m,disabled:s,className:"p-3 rounded-xl bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 transition-colors disabled:opacity-50",children:i.jsx(Bi,{className:`w-5 h-5 ${s?"animate-spin":""}`})}),i.jsxs("button",{onClick:y,className:"flex items-center space-x-2 px-4 py-3 rounded-xl bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-medium shadow-lg hover:shadow-xl transition-all duration-200 hover:scale-105",children:[i.jsx(ma,{className:"w-5 h-5"}),i.jsx("span",{children:"Ajouter un service"})]})]})]}),t.length===0?i.jsxs("div",{className:"text-center py-16 bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700",children:[i.jsx("div",{className:"inline-flex p-6 rounded-full bg-gradient-to-br from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 mb-4",children:i.jsx(ma,{className:"w-12 h-12 text-blue-600 dark:text-blue-400"})}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Aucun service pour le moment"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Commencez par ajouter votre premier service"}),i.jsx("button",{onClick:y,className:"px-6 py-3 rounded-xl bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-medium shadow-lg hover:shadow-xl transition-all duration-200",children:"Ajouter un service"})]}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(C=>i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 overflow-hidden hover:shadow-xl transition-all duration-300 hover:scale-[1.02] group",children:[i.jsxs("div",{className:"relative h-48 bg-gradient-to-br from-blue-100 to-purple-100 dark:from-blue-900/20 dark:to-purple-900/20 overflow-hidden",children:[C.photos&&C.photos[0]?i.jsx("img",{src:C.photos[0],alt:C.nom,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center",children:i.jsx(eh,{className:"w-16 h-16 text-gray-400"})}),i.jsx("div",{className:"absolute top-3 left-3",children:C.is_active?i.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-gradient-to-r from-green-500 to-emerald-500 text-white shadow-lg",children:" Actif"}):i.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-gray-500 text-white shadow-lg",children:"Inactif"})})]}),i.jsxs("div",{className:"p-5",children:[i.jsx("h3",{className:"font-bold text-lg text-gray-900 dark:text-white mb-2 line-clamp-1",children:C.nom}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4 line-clamp-2",children:C.description}),i.jsxs("div",{className:"space-y-2 mb-4",children:[i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsxs("div",{className:"flex items-center space-x-2 text-gray-600 dark:text-gray-400",children:[i.jsx(Xu,{className:"w-4 h-4"}),i.jsx("span",{children:"Prix"})]}),i.jsxs("span",{className:"font-bold text-lg bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:[C.prix.toLocaleString()," ",C.devise]})]}),i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsxs("div",{className:"flex items-center space-x-2 text-gray-600 dark:text-gray-400",children:[i.jsx(rr,{className:"w-4 h-4"}),i.jsx("span",{children:"Dure"})]}),i.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[C.duree_minutes," min"]})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs("button",{onClick:()=>v(C.id),className:"flex-1 flex items-center justify-center space-x-2 px-3 py-2 rounded-xl bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 transition-colors",children:[C.is_active?i.jsx(El,{className:"w-4 h-4"}):i.jsx(Na,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm font-medium",children:C.is_active?"Masquer":"Activer"})]}),i.jsx("button",{onClick:()=>j(C),className:"p-2 rounded-xl bg-blue-100 dark:bg-blue-900/20 hover:bg-blue-200 dark:hover:bg-blue-900/30 text-blue-600 dark:text-blue-400 transition-colors",children:i.jsx(Sg,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>g(C.id),className:"p-2 rounded-xl bg-red-100 dark:bg-red-900/20 hover:bg-red-200 dark:hover:bg-red-900/30 text-red-600 dark:text-red-400 transition-colors",children:i.jsx(xn,{className:"w-4 h-4"})})]})]})]},C.id))}),l&&i.jsx(eN,{service:u,onClose:S,onSubmit:N})]})}function rN(){const{showToast:e}=rt(),[t,r]=w.useState([]),[s,a]=w.useState(!0),[l,d]=w.useState("all");w.useEffect(()=>{u()},[l]);const u=async()=>{try{a(!0);const N=await G.prestataireReservations.list(l);r(N)}catch{e("Erreur de chargement","error")}finally{a(!1)}},f=async N=>{try{await G.prestataireReservations.accept(N),r(t.map(C=>C.id===N?{...C,statut:"confirmee"}:C)),e("Rservation confirme","success")}catch(C){e(C.message||"Erreur","error")}},m=async N=>{if(confirm("tes-vous sr de vouloir refuser cette rservation ?"))try{await G.prestataireReservations.reject(N),r(t.map(C=>C.id===N?{...C,statut:"annulee"}:C)),e("Rservation refuse","success")}catch(C){e(C.message||"Erreur","error")}},v=N=>{switch(N){case"en_attente":return{bg:"from-orange-100 to-yellow-100 dark:from-orange-900/20 dark:to-yellow-900/20",text:"text-orange-800 dark:text-orange-200",border:"border-orange-200 dark:border-orange-800"};case"confirmee":return{bg:"from-blue-100 to-cyan-100 dark:from-blue-900/20 dark:to-cyan-900/20",text:"text-blue-800 dark:text-blue-200",border:"border-blue-200 dark:border-blue-800"};case"terminee":return{bg:"from-green-100 to-emerald-100 dark:from-green-900/20 dark:to-emerald-900/20",text:"text-green-800 dark:text-green-200",border:"border-green-200 dark:border-green-800"};case"annulee":return{bg:"from-red-100 to-pink-100 dark:from-red-900/20 dark:to-pink-900/20",text:"text-red-800 dark:text-red-200",border:"border-red-200 dark:border-red-800"};default:return{bg:"from-gray-100 to-gray-100 dark:from-gray-900/20 dark:to-gray-900/20",text:"text-gray-800 dark:text-gray-200",border:"border-gray-200 dark:border-gray-800"}}},g=N=>{const C=new Date(N);return isNaN(C.getTime())?"Date invalide":C.toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long"})},y=N=>{switch(N){case"en_attente":return" En attente";case"confirmee":return" Confirme";case"terminee":return" Termine";case"annulee":return" Annule";default:return N}},j=l==="all"?t:t.filter(N=>N.statut===l),S={total:t.length,en_attente:t.filter(N=>N.statut==="en_attente").length,confirmee:t.filter(N=>N.statut==="confirmee").length,terminee:t.filter(N=>N.statut==="terminee").length};return s?i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:i.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Chargement..."})}):i.jsxs("div",{className:"p-4 space-y-6 max-w-6xl mx-auto pb-20",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Rservations"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Grez vos rservations clients"})]}),i.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4",children:[i.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total"}),i.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:S.total})]}),i.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-yellow-50 dark:from-orange-900/20 dark:to-yellow-900/20 rounded-xl border border-orange-200 dark:border-orange-800 p-4",children:[i.jsx("div",{className:"text-sm text-orange-800 dark:text-orange-200",children:"En attente"}),i.jsx("div",{className:"text-2xl font-bold text-orange-900 dark:text-orange-100 mt-1",children:S.en_attente})]}),i.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 rounded-xl border border-blue-200 dark:border-blue-800 p-4",children:[i.jsx("div",{className:"text-sm text-blue-800 dark:text-blue-200",children:"Confirmes"}),i.jsx("div",{className:"text-2xl font-bold text-blue-900 dark:text-blue-100 mt-1",children:S.confirmee})]}),i.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-xl border border-green-200 dark:border-green-800 p-4",children:[i.jsx("div",{className:"text-sm text-green-800 dark:text-green-200",children:"Termines"}),i.jsx("div",{className:"text-2xl font-bold text-green-900 dark:text-green-100 mt-1",children:S.terminee})]})]}),i.jsx("div",{className:"flex items-center space-x-2 overflow-x-auto pb-2",children:[{value:"all",label:"Toutes"},{value:"en_attente",label:"En attente"},{value:"confirmee",label:"Confirmes"},{value:"terminee",label:"Termines"}].map(N=>i.jsx("button",{onClick:()=>d(N.value),className:`px-4 py-2 rounded-xl font-medium text-sm whitespace-nowrap transition-all duration-200 ${l===N.value?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-lg":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:N.label},N.value))}),i.jsx("div",{className:"space-y-4",children:j.length===0?i.jsxs("div",{className:"text-center py-16 bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700",children:[i.jsx(jt,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Aucune rservation"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:l==="all"?"Aucune rservation pour le moment":`Aucune rservation ${l}`})]}):j.map(N=>{const C=v(N.statut);return i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 p-6 hover:shadow-xl transition-all duration-300",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[i.jsxs("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold text-lg",children:[N.client_prenom[0],N.client_nom[0]]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"font-semibold text-lg text-gray-900 dark:text-white",children:[N.client_prenom," ",N.client_nom]}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:N.service_nom})]})]})}),i.jsx("span",{className:`px-3 py-1.5 rounded-full text-xs font-semibold bg-gradient-to-r ${C.bg} ${C.text} border ${C.border}`,children:y(N.statut)})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[i.jsx("div",{className:"p-2 rounded-lg bg-blue-100 dark:bg-blue-900/20",children:i.jsx(jt,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Date"}),i.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:g(N.date_reservation)})]})]}),i.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[i.jsx("div",{className:"p-2 rounded-lg bg-purple-100 dark:bg-purple-900/20",children:i.jsx(rr,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Horaire"}),i.jsxs("p",{className:"font-medium text-gray-900 dark:text-white",children:[N.heure_debut," - ",N.heure_fin]})]})]}),N.client_telephone&&i.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[i.jsx("div",{className:"p-2 rounded-lg bg-green-100 dark:bg-green-900/20",children:i.jsx(ds,{className:"w-4 h-4 text-green-600 dark:text-green-400"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Tlphone"}),i.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:N.client_telephone})]})]}),N.client_email&&i.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[i.jsx("div",{className:"p-2 rounded-lg bg-orange-100 dark:bg-orange-900/20",children:i.jsx(cs,{className:"w-4 h-4 text-orange-600 dark:text-orange-400"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Email"}),i.jsx("p",{className:"font-medium text-gray-900 dark:text-white text-xs",children:N.client_email})]})]})]}),i.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200 dark:border-gray-700",children:[i.jsxs("div",{className:"font-bold text-lg bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:[typeof N.prix=="number"?N.prix.toLocaleString():"N/A"," ",N.devise]}),N.statut==="en_attente"&&i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs("button",{onClick:()=>m(N.id),className:"flex items-center space-x-2 px-4 py-2 rounded-xl bg-red-100 dark:bg-red-900/20 hover:bg-red-200 dark:hover:bg-red-900/30 text-red-600 dark:text-red-400 font-medium transition-colors",children:[i.jsx(Dr,{className:"w-4 h-4"}),i.jsx("span",{children:"Refuser"})]}),i.jsxs("button",{onClick:()=>f(N.id),className:"flex items-center space-x-2 px-4 py-2 rounded-xl bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white font-medium shadow-lg hover:shadow-xl transition-all duration-200",children:[i.jsx(Mt,{className:"w-4 h-4"}),i.jsx("span",{children:"Accepter"})]})]})]})]},N.id)})})]})}function nN({isOpen:e,onClose:t,plan:r,onSuccess:s}){var S;const{showToast:a}=rt(),[l,d]=w.useState(!1),[u,f]=w.useState({transaction_id_wave:"",duree_abonnement_jours:30}),m=N=>{if(!r)return 0;const C=r.prix,b=N/30;return Math.round(C*b)},v=N=>{const C=new Date;return C.setDate(C.getDate()+N),C.toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})},g=m(u.duree_abonnement_jours),y=v(u.duree_abonnement_jours);if(!e||!r)return null;const j=async N=>{if(N.preventDefault(),!u.transaction_id_wave.trim()){a("Veuillez saisir l'ID de transaction Wave","error");return}try{d(!0),(await G.waveTransactions.create({plan_id:r.id,transaction_id_wave:u.transaction_id_wave.trim(),montant:g,devise:r.devise||"FCFA",duree_abonnement_jours:u.duree_abonnement_jours})).ok&&(a("Demande d'abonnement soumise avec succs !","success"),s(),t(),f({transaction_id_wave:"",duree_abonnement_jours:30}))}catch(C){a(C.message||"Erreur lors de la soumission","error")}finally{d(!1)}};return i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Paiement Wave"}),i.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:i.jsx(Dr,{className:"w-5 h-5 text-gray-500"})})]}),i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 rounded-xl p-4 mb-6 border border-blue-200 dark:border-blue-800",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:i.jsx(ni,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:r.nom}),i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[r.max_services," services maximum"]})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Montant  payer :"}),i.jsxs("span",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:[g.toLocaleString()," ",r.devise||"FCFA"]})]}),u.duree_abonnement_jours>30&&r&&i.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-right",children:["Prix de base: ",r.prix.toLocaleString()," FCFA/mois"]})]}),i.jsx("div",{className:"bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-xl p-4 mb-6",children:i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx(j_,{className:"w-5 h-5 text-orange-600 dark:text-orange-400 mt-0.5 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-orange-800 dark:text-orange-200 mb-2",children:"Instructions de paiement"}),i.jsxs("ol",{className:"text-sm text-orange-700 dark:text-orange-300 space-y-1 list-decimal list-inside",children:[i.jsx("li",{children:"Effectuez le paiement via Wave Money"}),i.jsxs("li",{children:["Montant : ",i.jsxs("strong",{children:[g.toLocaleString()," FCFA"]})]}),i.jsx("li",{children:"Copiez l'ID de transaction Wave ci-dessous"}),i.jsx("li",{children:"Votre abonnement sera activ aprs validation par l'admin"})]})]})]})}),i.jsxs("form",{onSubmit:j,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"ID de transaction Wave *"}),i.jsx("input",{type:"text",value:u.transaction_id_wave,onChange:N=>f({...u,transaction_id_wave:N.target.value}),placeholder:"Ex: TXN123456789",className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",required:!0}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Saisissez l'ID de transaction fourni par Wave aprs le paiement"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Dure d'abonnement"}),i.jsxs("select",{value:u.duree_abonnement_jours,onChange:N=>f({...u,duree_abonnement_jours:parseInt(N.target.value)}),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[i.jsxs("option",{value:30,children:["1 mois (30 jours) - ",((S=r==null?void 0:r.prix)==null?void 0:S.toLocaleString())||0," FCFA"]}),i.jsxs("option",{value:90,children:["3 mois (90 jours) - ",m(90).toLocaleString()," FCFA"]}),i.jsxs("option",{value:180,children:["6 mois (180 jours) - ",m(180).toLocaleString()," FCFA"]}),i.jsxs("option",{value:365,children:["1 an (365 jours) - ",m(365).toLocaleString()," FCFA"]})]}),i.jsx("div",{className:"mt-2 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsxs("span",{className:"text-blue-700 dark:text-blue-300",children:[i.jsx("strong",{children:"Expiration :"})," ",y]}),i.jsxs("span",{className:"text-blue-700 dark:text-blue-300 font-semibold",children:[g.toLocaleString()," FCFA"]})]})})]}),i.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-xl p-4",children:i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx(sl,{className:"w-5 h-5 text-green-600 dark:text-green-400 mt-0.5 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-green-800 dark:text-green-200 mb-1",children:"Aprs soumission"}),i.jsx("p",{className:"text-sm text-green-700 dark:text-green-300",children:"Votre demande sera en attente de validation. Un administrateur vrifiera votre paiement et activera votre abonnement sous 24h."})]})]})}),i.jsxs("div",{className:"flex space-x-3 pt-4",children:[i.jsx("button",{type:"button",onClick:t,disabled:l,className:"flex-1 px-4 py-3 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors disabled:opacity-50",children:"Annuler"}),i.jsx("button",{type:"submit",disabled:l,className:`flex-1 px-4 py-3 rounded-xl transition-colors text-white ${l?"bg-blue-400 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 shadow-lg hover:shadow-xl"}`,children:l?"Soumission...":"Soumettre la demande"})]})]})]})]})})}function sN(){const{showToast:e}=rt(),[t,r]=w.useState(!0),[s,a]=w.useState([]),[l,d]=w.useState(null),[u,f]=w.useState(null),[m,v]=w.useState(!1),[g,y]=w.useState(null),[j,S]=w.useState(null);w.useEffect(()=>{let x=!0;return(async()=>{try{r(!0);const[E,O,M]=await Promise.all([G.subscription.getPlans(),G.subscription.getCurrent(),G.waveTransactions.getStatus()]);if(!x)return;a(E),d(O.subscription),S(M)}catch(E){x&&f(E.message||"Erreur de chargement")}finally{x&&r(!1)}})(),()=>{x=!1}},[]);const N=x=>{y(x),v(!0)},C=async()=>{try{const x=await G.waveTransactions.getStatus();S(x)}catch(x){console.error("Erreur rechargement statut:",x)}},b=x=>x.toLowerCase().includes("premium")||x.toLowerCase().includes("pro")?il:x.toLowerCase().includes("business")||x.toLowerCase().includes("entreprise")?as:pt,k=x=>{const E=[{gradient:"from-blue-500 to-cyan-500",bg:"from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20",border:"border-blue-200 dark:border-blue-800",button:"from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700"},{gradient:"from-purple-500 to-pink-500",bg:"from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20",border:"border-purple-200 dark:border-purple-800",button:"from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700"},{gradient:"from-orange-500 to-yellow-500",bg:"from-orange-50 to-yellow-50 dark:from-orange-900/20 dark:to-yellow-900/20",border:"border-orange-200 dark:border-orange-800",button:"from-orange-600 to-yellow-600 hover:from-orange-700 hover:to-yellow-700"}];return E[x%E.length]};return t&&!s.length?i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:i.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Chargement..."})}):i.jsxs("div",{className:"p-4 space-y-6 max-w-6xl mx-auto pb-20",children:[i.jsxs("div",{className:"text-center space-y-3",children:[i.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Choisissez votre plan"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 max-w-2xl mx-auto",children:"Dveloppez votre activit avec nos plans adapts  vos besoins. Plus de services, plus de visibilit !"})]}),l&&i.jsx("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-2xl border border-green-200 dark:border-green-800 p-6 shadow-sm",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"p-4 rounded-xl bg-gradient-to-br from-green-500 to-emerald-500 shadow-lg",children:i.jsx(Mt,{className:"w-8 h-8 text-white"})})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white text-lg mb-1",children:["Abonnement actuel : ",l.plan_nom]}),i.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 dark:text-gray-400",children:[i.jsxs("span",{children:["Services max: ",l.max_services<0?"Illimit":l.max_services]}),l.abonnement_expires_at&&i.jsxs("span",{children:["Expire le ",new Date(l.abonnement_expires_at).toLocaleDateString("fr-FR")]})]})]})]})}),u&&i.jsx("div",{className:"bg-gradient-to-r from-red-50 to-pink-50 dark:from-red-900/20 dark:to-pink-900/20 border border-red-200 dark:border-red-800 rounded-xl p-4",children:i.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm font-medium",children:u})}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map((x,E)=>{const O=b(x.nom),M=k(E),F=(l==null?void 0:l.plan_nom)===x.nom,A=E===1;return i.jsxs("div",{className:`relative rounded-3xl border-2 ${M.border} bg-gradient-to-br ${M.bg} p-8 shadow-lg hover:shadow-2xl transition-all duration-300 hover:scale-[1.02] ${A?"lg:-mt-4 lg:scale-105":""}`,children:[A&&i.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:i.jsx("span",{className:`px-4 py-1.5 rounded-full text-xs font-bold bg-gradient-to-r ${M.button} text-white shadow-lg`,children:" POPULAIRE"})}),F&&i.jsx("div",{className:"absolute -top-4 right-4",children:i.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-gradient-to-r from-green-500 to-emerald-500 text-white shadow-lg",children:" Actif"})}),i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("div",{className:`inline-flex p-4 rounded-2xl bg-gradient-to-br ${M.gradient} shadow-lg mb-4`,children:i.jsx(O,{className:"w-10 h-10 text-white"})}),i.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:x.nom}),i.jsxs("div",{className:"flex items-baseline justify-center space-x-1",children:[i.jsx("span",{className:"text-4xl font-bold text-gray-900 dark:text-white",children:x.prix.toLocaleString()}),i.jsx("span",{className:"text-lg text-gray-600 dark:text-gray-400",children:x.devise})]}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"par mois"})]}),i.jsxs("div",{className:"space-y-4 mb-8",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:`flex-shrink-0 w-6 h-6 rounded-full bg-gradient-to-br ${M.gradient} flex items-center justify-center`,children:i.jsx(Mt,{className:"w-4 h-4 text-white"})}),i.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:[i.jsx("strong",{children:x.max_services<0?"Illimit":x.max_services})," ",x.max_services===1?"service":"services"]})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:`flex-shrink-0 w-6 h-6 rounded-full bg-gradient-to-br ${M.gradient} flex items-center justify-center`,children:i.jsx(Mt,{className:"w-4 h-4 text-white"})}),i.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Gestion des rservations"})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:`flex-shrink-0 w-6 h-6 rounded-full bg-gradient-to-br ${M.gradient} flex items-center justify-center`,children:i.jsx(Mt,{className:"w-4 h-4 text-white"})}),i.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Statistiques dtailles"})]}),E>0&&i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:`flex-shrink-0 w-6 h-6 rounded-full bg-gradient-to-br ${M.gradient} flex items-center justify-center`,children:i.jsx(Mt,{className:"w-4 h-4 text-white"})}),i.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Badges de mise en avant"})]}),E>1&&i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:`flex-shrink-0 w-6 h-6 rounded-full bg-gradient-to-br ${M.gradient} flex items-center justify-center`,children:i.jsx(Mt,{className:"w-4 h-4 text-white"})}),i.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Support prioritaire"})]})]}),i.jsx("button",{onClick:()=>N(x),disabled:F||t||(j==null?void 0:j.hasTransaction)&&j.transaction.statut==="en_attente",className:`w-full py-3.5 rounded-xl font-semibold text-white shadow-lg hover:shadow-xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed ${F?"bg-gray-400 cursor-not-allowed":j!=null&&j.hasTransaction&&j.transaction.statut==="en_attente"?"bg-orange-400 cursor-not-allowed":`bg-gradient-to-r ${M.button} hover:scale-[1.02]`}`,children:F?"Plan actuel":j!=null&&j.hasTransaction&&j.transaction.statut==="en_attente"?"En attente de validation":t?"Chargement...":"Choisir ce plan"})]},x.id)})}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 p-8 shadow-sm mt-12",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6 text-center",children:"Pourquoi passer  un plan premium ?"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"text-center p-6 rounded-xl bg-gradient-to-br from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 border border-blue-200 dark:border-blue-800",children:[i.jsx("div",{className:"inline-flex p-4 rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 mb-4",children:i.jsx(Eg,{className:"w-8 h-8 text-white"})}),i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Plus de visibilit"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Apparaissez en tte des rsultats et attirez plus de clients"})]}),i.jsxs("div",{className:"text-center p-6 rounded-xl bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 border border-purple-200 dark:border-purple-800",children:[i.jsx("div",{className:"inline-flex p-4 rounded-xl bg-gradient-to-br from-purple-500 to-pink-500 mb-4",children:i.jsx(as,{className:"w-8 h-8 text-white"})}),i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Augmentez vos revenus"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Plus de services = plus de rservations = plus de revenus"})]}),i.jsxs("div",{className:"text-center p-6 rounded-xl bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 border border-green-200 dark:border-green-800",children:[i.jsx("div",{className:"inline-flex p-4 rounded-xl bg-gradient-to-br from-green-500 to-emerald-500 mb-4",children:i.jsx(pt,{className:"w-8 h-8 text-white"})}),i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Badges exclusifs"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Affichez votre statut premium et gagnez en crdibilit"})]})]})]}),(j==null?void 0:j.hasTransaction)&&i.jsx("div",{className:"mt-8",children:i.jsx("div",{className:`rounded-2xl border p-6 ${j.transaction.statut==="en_attente"?"bg-orange-50 dark:bg-orange-900/20 border-orange-200 dark:border-orange-800":j.transaction.statut==="valide"?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800"}`,children:i.jsxs("div",{className:"flex items-start space-x-4",children:[i.jsx("div",{className:`p-3 rounded-xl ${j.transaction.statut==="en_attente"?"bg-orange-100 dark:bg-orange-900/30":j.transaction.statut==="valide"?"bg-green-100 dark:bg-green-900/30":"bg-red-100 dark:bg-red-900/30"}`,children:j.transaction.statut==="en_attente"?i.jsx(rr,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"}):j.transaction.statut==="valide"?i.jsx(Mt,{className:"w-6 h-6 text-green-600 dark:text-green-400"}):i.jsx(Vd,{className:"w-6 h-6 text-red-600 dark:text-red-400"})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("h3",{className:`font-bold text-lg mb-2 ${j.transaction.statut==="en_attente"?"text-orange-800 dark:text-orange-200":j.transaction.statut==="valide"?"text-green-800 dark:text-green-200":"text-red-800 dark:text-red-200"}`,children:[j.transaction.statut==="en_attente"&&"Demande en attente de validation",j.transaction.statut==="valide"&&"Abonnement activ",j.transaction.statut==="rejete"&&"Demande rejete"]}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Plan :"})," ",j.transaction.plan_nom]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Montant :"})," ",j.transaction.montant," ",j.transaction.devise]}),i.jsxs("p",{children:[i.jsx("strong",{children:"ID Transaction Wave :"})," ",j.transaction.transaction_id_wave]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Date de demande :"})," ",new Date(j.transaction.created_at).toLocaleDateString("fr-FR")]}),j.transaction.statut==="en_attente"&&i.jsx("p",{className:"text-orange-700 dark:text-orange-300 font-medium",children:"Votre demande sera valide par un administrateur sous 24h."}),j.transaction.statut==="rejete"&&j.transaction.motif_rejet&&i.jsxs("p",{className:"text-red-700 dark:text-red-300",children:[i.jsx("strong",{children:"Motif du rejet :"})," ",j.transaction.motif_rejet]})]})]})]})})}),i.jsx(nN,{isOpen:m,onClose:()=>v(!1),plan:g,onSuccess:C})]})}const Hm=["lundi","mardi","mercredi","jeudi","vendredi","samedi","dimanche"];function iN({value:e,onChange:t}){const[r,s]=w.useState({});w.useEffect(()=>{if(e)s(e);else{const d={};Hm.forEach(u=>{d[u]={debut:"09:00",fin:"18:00"}}),s(d)}},[e]);const a=(d,u,f)=>{const m={...r,[d]:{...r[d]||{debut:"",fin:""},[u]:f}};s(m),t(m)},l=d=>{const u={...r};u[d]?u[d]=null:u[d]={debut:"09:00",fin:"18:00"},s(u),t(u)};return i.jsx("div",{className:"space-y-3",children:Hm.map(d=>{var u,f;return i.jsxs("div",{className:"grid grid-cols-3 items-center gap-2 p-2 rounded-lg bg-gray-50 dark:bg-gray-700",children:[i.jsxs("div",{className:"col-span-1 flex items-center",children:[i.jsx("input",{type:"checkbox",checked:!!r[d],onChange:()=>l(d),className:"mr-2 h-4 w-4 rounded text-blue-600 focus:ring-blue-500 border-gray-300"}),i.jsx("span",{className:"capitalize font-medium text-sm text-gray-800 dark:text-gray-200",children:d})]}),r[d]?i.jsxs("div",{className:"col-span-2 grid grid-cols-2 gap-2",children:[i.jsx("input",{type:"time",value:((u=r[d])==null?void 0:u.debut)||"",onChange:m=>a(d,"debut",m.target.value),className:"w-full p-1.5 border rounded-md text-sm"}),i.jsx("input",{type:"time",value:((f=r[d])==null?void 0:f.fin)||"",onChange:m=>a(d,"fin",m.target.value),className:"w-full p-1.5 border rounded-md text-sm"})]}):i.jsx("div",{className:"col-span-2 text-center text-sm text-gray-500",children:"Ferm"})]},d)})})}function aN({value:e,onChange:t}){const[r,s]=w.useState(e||[]),a=d=>{var f;const u=(f=d.target.files)==null?void 0:f[0];if(u){const m=new FileReader;m.onloadend=()=>{const v=[...r,m.result];s(v),t(v)},m.readAsDataURL(u)}},l=d=>{const u=r.filter((f,m)=>m!==d);s(u),t(u)};return i.jsxs("div",{children:[i.jsx("div",{className:"grid grid-cols-3 gap-2 mb-2",children:r.map((d,u)=>i.jsxs("div",{className:"relative group",children:[i.jsx("img",{src:d,alt:`tablissement ${u+1}`,className:"w-full h-24 object-cover rounded-lg"}),i.jsx("button",{onClick:()=>l(u),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:i.jsx(Dr,{size:14})})]},u))}),i.jsxs("label",{className:"w-full flex items-center justify-center px-4 py-6 bg-gray-50 dark:bg-gray-700 text-blue-600 rounded-lg border-2 border-dashed border-gray-300 dark:border-gray-600 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",children:[i.jsx(B_,{className:"w-6 h-6 mr-2"}),i.jsx("span",{className:"text-sm font-medium",children:"Ajouter une photo"}),i.jsx("input",{type:"file",accept:"image/*",onChange:a,className:"hidden"})]})]})}function oN(){var F;const{user:e,logout:t}=Qe(),{showToast:r,isDarkMode:s,toggleDarkMode:a}=rt(),[l,d]=w.useState(null),[u,f]=w.useState(!1),[m,v]=w.useState({}),[g,y]=w.useState(!0),[j,S]=w.useState(null),[N,C]=w.useState(!1),[b,k]=w.useState(!1),[x,E]=w.useState(!1);w.useEffect(()=>{(async()=>{try{y(!0);const Y=await G.prestataires.getProfile();d(Y),v(Y)}catch(Y){S("Impossible de charger le profil. Il est peut-tre incomplet."),r(Y.message||"Erreur de chargement du profil","error")}finally{y(!1)}})()},[]);const O=async()=>{try{y(!0),S(null);const{prestataire:A}=await G.prestataires.updateProfile(m);d(A),v(A),f(!1),r("Profil mis  jour avec succs","success")}catch(A){S((A==null?void 0:A.message)||"Impossible de sauvegarder le profil"),r((A==null?void 0:A.message)||"Erreur lors de la sauvegarde","error")}finally{y(!1)}};if(g)return i.jsx("div",{className:"p-4 text-center",children:"Chargement du profil..."});const M=[{icon:is,label:"Notifications",action:()=>k(!0)},{icon:ll,label:"Confidentialit",action:()=>C(!0)},{icon:kg,label:"Aide & Support",action:()=>E(!0)},{icon:ol,label:"Paramtres",action:()=>r("Paramtres avancs - Prochainement disponible","info")}];return N?i.jsx(ux,{onBack:()=>C(!1)}):b?i.jsx(hx,{onBack:()=>k(!1)}):x?i.jsx(fx,{onBack:()=>E(!1)}):g?i.jsx("div",{className:"p-4 text-center",children:"Chargement du profil..."}):j&&!l?i.jsx("div",{className:"p-4 text-center text-red-500",children:j}):i.jsxs("div",{className:"max-w-md mx-auto p-4 space-y-6",children:[i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 p-5 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Profil Prestataire"}),i.jsxs("button",{onClick:()=>u?O():f(!0),className:"flex items-center space-x-1 text-blue-600 dark:text-blue-400 px-3 py-1.5 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all",children:[i.jsx(Sg,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm font-medium",children:u?"Sauvegarder":"Modifier"})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nom Commercial"}),u?i.jsx("input",{type:"text",value:m.nom_commercial||"",onChange:A=>v({...m,nom_commercial:A.target.value}),className:"w-full p-2.5 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}):i.jsxs("p",{className:"flex items-center",children:[i.jsx(P_,{className:"w-4 h-4 mr-2 text-gray-400"}),l==null?void 0:l.nom_commercial]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Bio"}),u?i.jsx("textarea",{value:m.bio||"",onChange:A=>v({...m,bio:A.target.value}),className:"w-full p-2.5 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white",rows:3}):i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:(l==null?void 0:l.bio)||"Non renseigne"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Tlphone Professionnel"}),u?i.jsx("input",{type:"tel",value:m.telephone_pro||"",onChange:A=>v({...m,telephone_pro:A.target.value}),className:"w-full p-2.5 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}):i.jsxs("p",{className:"flex items-center",children:[i.jsx(ds,{className:"w-4 h-4 mr-2 text-gray-400"}),(l==null?void 0:l.telephone_pro)||"Non renseign"]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Horaires d'ouverture"}),u?i.jsx(iN,{value:m.horaires_ouverture,onChange:A=>v({...m,horaires_ouverture:A})}):i.jsxs("div",{className:"flex items-center",children:[i.jsx(rr,{className:"w-4 h-4 mr-2 text-gray-400"}),i.jsx("span",{children:l!=null&&l.horaires_ouverture?"Horaires dfinis":"Non dfinis"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Photos de l'tablissement"}),u?i.jsx(aN,{value:m.photos_etablissement,onChange:A=>v({...m,photos_etablissement:A})}):i.jsxs("div",{className:"flex items-center",children:[i.jsx(eh,{className:"w-4 h-4 mr-2 text-gray-400"}),i.jsxs("span",{children:[((F=l==null?void 0:l.photos_etablissement)==null?void 0:F.length)||0," photo(s)"]})]})]})]})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 p-5 shadow-sm",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Paramtres"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-8 h-8 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center",children:s?"":""}),i.jsx("span",{className:"text-gray-900 dark:text-white",children:"Mode sombre"})]}),i.jsx("button",{onClick:a,className:`w-12 h-6 rounded-full transition-all duration-300 ${s?"bg-blue-600":"bg-gray-300"} relative`,children:i.jsx("div",{className:`w-5 h-5 bg-white rounded-full absolute top-0.5 transition-transform duration-300 ${s?"translate-x-6":"translate-x-0.5"}`})})]}),M.map((A,Y)=>i.jsxs("button",{onClick:A.action,className:"w-full flex items-center space-x-3 p-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700 text-left group",children:[i.jsx("div",{className:"w-10 h-10 bg-gray-100 dark:bg-gray-700 rounded-xl flex items-center justify-center",children:i.jsx(A.icon,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),i.jsx("span",{className:"text-gray-900 dark:text-white",children:A.label})]},Y))]})]}),i.jsxs("button",{onClick:t,className:"w-full flex items-center justify-center space-x-2 p-4 bg-red-100 text-red-600 rounded-2xl hover:bg-red-200 transition-all",children:[i.jsx(jg,{className:"w-5 h-5"}),i.jsx("span",{className:"font-semibold",children:"Se dconnecter"})]})]})}function lN(){const{isAuthenticated:e,role:t}=Qe();rt();const[r,s]=w.useState(()=>localStorage.getItem("prestaci-current-tab")||"home"),[a,l]=w.useState(!1);w.useEffect(()=>{(async()=>{try{if(!JSON.parse(localStorage.getItem("prestaci-auth")||"{}").token){Qe.setState({user:null,role:null,isAuthenticated:!1}),l(!0);return}const{user:m}=await G.auth.me();let v=null;if(m!=null&&m.role_id){const g=m.role_nom||(m.role_id===1?"client":m.role_id===2?"prestataire":m.role_id===3?"admin":"");v={id:m.role_id,nom:g,description:"",created_at:""}}Qe.setState({user:m,role:v,isAuthenticated:!0}),m&&await gk.initialize()}catch{localStorage.removeItem("prestaci-auth"),Qe.setState({user:null,role:null,isAuthenticated:!1})}finally{l(!0)}})();const u=localStorage.getItem("prestaci-dark-mode");if(u){const f=JSON.parse(u);rt.setState({isDarkMode:f}),document.documentElement.classList.toggle("dark",f)}"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").catch(f=>console.log("Service Worker registration failed:",f))},[]),w.useEffect(()=>{try{localStorage.setItem("prestaci-current-tab",r)}catch{}},[r]);const d=()=>{if(!t)switch(r){case"home":return i.jsx(po,{onSelectService:()=>{},onSelectProvider:()=>{}});case"reservations":return i.jsx(Fm,{});case"publications":return i.jsx(Wm,{});case"favorites":return i.jsx($m,{});case"profile":return i.jsx(Kc,{});default:return i.jsx(po,{onSelectService:()=>{},onSelectProvider:()=>{}})}if(t.nom==="client")switch(r){case"home":return i.jsx(po,{onSelectService:()=>{},onSelectProvider:()=>{}});case"reservations":return i.jsx(Fm,{});case"publications":return i.jsx(Wm,{});case"favorites":return i.jsx($m,{});case"profile":return i.jsx(Kc,{});default:return i.jsx(po,{onSelectService:()=>{},onSelectProvider:()=>{}})}if(t.nom==="prestataire")switch(r){case"home":return i.jsx(Zm,{onNavigateToTab:s});case"reservations":return i.jsx(rN,{});case"services":return i.jsx(tN,{});case"plans":return i.jsx(sN,{});case"profile":return i.jsx(oN,{});default:return i.jsx(Zm,{onNavigateToTab:s})}if(t.nom==="admin")switch(r){case"dashboard":case"users":case"categories":case"payments":case"settings":return i.jsx(Sm,{});case"profile":return i.jsx(Kc,{});default:return i.jsx(Sm,{})}return null};return a?i.jsxs(i.Fragment,{children:[i.jsxs(Bw,{children:[i.jsx($r,{path:"/",element:i.jsx(Wr,{to:e?"/app":"/login",replace:!0})}),i.jsx($r,{path:"/login",element:e?i.jsx(Wr,{to:"/app",replace:!0}):i.jsx(Rt,{showBottomNav:!1,children:i.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 py-8",children:i.jsx(Z_,{})})})}),i.jsx($r,{path:"/register",element:e?i.jsx(Wr,{to:"/app",replace:!0}):i.jsx(Rt,{showBottomNav:!1,children:i.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 py-8",children:i.jsx(uk,{})})})}),i.jsx($r,{path:"/app",element:e?i.jsxs(Rt,{children:[d(),i.jsx(hk,{currentTab:r,setCurrentTab:s})]}):i.jsx(Wr,{to:"/login",replace:!0})}),i.jsx($r,{path:"/pro",element:e?(t==null?void 0:t.id)!==2?i.jsx(Wr,{to:"/app",replace:!0}):i.jsx(Rt,{children:i.jsx(fk,{})}):i.jsx(Wr,{to:"/login",replace:!0})}),i.jsx($r,{path:"/prestataires/:id",element:e?i.jsx(K2,{}):i.jsx(Wr,{to:"/login",replace:!0})}),i.jsx($r,{path:"/services/:id",element:e?i.jsx(X2,{}):i.jsx(Wr,{to:"/login",replace:!0})}),i.jsx($r,{path:"*",element:i.jsx(Wr,{to:e?"/app":"/login",replace:!0})})]}),i.jsx(pk,{})]}):i.jsx(Rt,{showBottomNav:!1,children:i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("div",{className:"text-gray-500",children:"Chargement..."})})})}ig(document.getElementById("root")).render(i.jsx(w.StrictMode,{children:i.jsx(l_,{children:i.jsx(lN,{})})}));
